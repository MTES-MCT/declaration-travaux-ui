(window["webpackJsonprieau-ui"]=window["webpackJsonprieau-ui"]||[]).push([[8],{455:function(n,e,t){"use strict";t.r(e);var i=[{id:"jean.martin",email:"jean.martin@monfai.fr",firstName:"Jean",lastName:"Martin",profils:["depositaire","beta"]},{id:"jacques.dupont",email:"jacques.dupont@monfai.fr",firstName:"Jacques",lastName:"Dupont",profils:["instructeur"]}],r=null,u=100;var o=[{id:"0",type:"dp",date:"01/01/2019",etat:"instruction",userId:"jean.martin"},{id:"1",type:"pcmi",date:"01/07/2019",etat:"incomplet",userId:"jean.martin"}];function s(n){var e="";return n&&n.length>0&&(n.toUpperCase().includes("13406_PCMI")&&(e="pcmi"),n.toUpperCase().includes("13703_DPMI")&&(e="dp")),e}function c(n){return"Fichier CERFA ".concat(n.name," non reconnu. Seuls les fichiers nomm\xe9s cerfa_13406_PCMI.pdf ou cerfa_13703_DPMI.pdf sont reconnus.")}var a={auth:{login:function(n){return new Promise(function(e,t){setTimeout(function(){return n?e(r=i.find(function(e){return e.id===n})):t(new Error("Connexion impossible. User id inconnu."))},u)})},isAuthenticated:function(){return new Promise(function(n,e){setTimeout(function(){return n(null!==r)},u)})},logout:function(){return new Promise(function(n,e){setTimeout(function(){n(r=null)},u)})},getUser:function(){return new Promise(function(n,e){setTimeout(function(){return r?n(r):e(new Error("Pas d'utilisateur connect\xe9"))},u)})},isDepositaire:function(){return new Promise(function(n,e){setTimeout(function(){return n(r.profils.includes("depositaire"))},u)})},isInstructeur:function(){return new Promise(function(n,e){setTimeout(function(){return n(r.profils.includes("instructeur"))},u)})},isBeta:function(){return new Promise(function(n,e){setTimeout(function(){return n(r.profils.includes("beta"))},u)})}},depots:{mesDepots:function(){return new Promise(function(n,e){setTimeout(function(){return n({depots:o,page:0,totalCount:1})},u)})},monDepot:function(n){return new Promise(function(e,t){setTimeout(function(){return e(o.find(function(e){return e.id===n}))},u)})},ajouterDepot:function(n,e){return new Promise(function(e,t){setTimeout(function(){var i=s(n.name);if(""===i)return t(new Error(c(n)));var u={id:o.length.toString(),type:i,date:(new Date).toLocaleDateString(),etat:"instruction",userId:r.id};return o.push(u),e(u)},u)})},savePieceJointe:function(n,e,t){return new Promise(function(i,r){setTimeout(function(){return function(n,e){if(!e.name)return!0;var t=s(e.name);return!n.includes("cerfa")||n===t+"cerfa"}(n,e)?i(sessionStorage.setItem(n,JSON.stringify({nom:e.name,type:e.type,size:e.size,data:t}))):r(new Error(c(e)))},u)})},loadPieceJointe:function(n){return new Promise(function(e,t){setTimeout(function(){return e(JSON.parse(sessionStorage.getItem(n)))},u)})}}};e.default=a}}]);
//# sourceMappingURL=8.9336addf.chunk.js.map