{"version":3,"sources":["api/auth.js","context/auth-context.js","config/env-helper.js","users/profils.js","users/people.js","components/PersonneAvatar.js","pages/protected/MonCompte.js","pages/protected/Localiser/communesPartenaires.js","pages/protected/Localiser/ControlPanel.js","pages/protected/Localiser/CommunePin.js","pages/protected/Localiser/ChercherAdresse.js","pages/protected/Localiser/CommuneMarker.js","pages/protected/Localiser/parcelles.js","pages/protected/Localiser/parcellesLayers.js","pages/protected/Localiser/index.js","api/dossiers.js","format/files.js","components/files/FileUploadDialog.js","components/files/FileUploadButton.js","format/dates.js","pages/protected/Dossiers/steps.js","pages/protected/Dossiers/index.js","pages/protected/Dossiers/Dossier/Messages/MessageForm.js","pages/protected/Dossiers/Dossier/Messages/NewMessageDialog.js","pages/protected/Dossiers/Dossier/Messages/AddMessageButton.js","pages/protected/Dossiers/Dossier/PiecesJointes/listePiecesJointesDPMI.js","pages/protected/Dossiers/Dossier/PiecesJointes/listePiecesJointesPCMI.js","pages/protected/Dossiers/Dossier/PiecesJointes/piecesjointes.js","components/files/FilePreview.js","components/files/FilePreviewButton.js","pages/protected/Dossiers/Dossier/PiecesJointes/PieceJointe.js","pages/protected/Dossiers/Dossier/Messages/Message.js","pages/protected/Dossiers/Dossier/Messages/MessagesChat.js","pages/protected/Dossiers/Dossier/Etapes/index.js","pages/protected/Dossiers/Dossier/Etapes/DeclarerIncompletButton.js","pages/protected/Dossiers/Dossier/Etapes/Actions.js","pages/protected/Dossiers/Dossier/index.js","routes/authenticated/index.js","pages/Error.js","components/Typography.js","pages/Home/Hero/index.js","pages/Home/Valeur.js","pages/Home/CommentFaire.js","pages/Home/index.js","routes/unauthenticated/index.js","components/ConnexionButton.js","components/MockUsersConnectionMenuItems.js","pages/Cgu/index.js","pages/Aide/index.js","components/Snackbar.js","pages/NotFound.js","components/Button.js","api/api.js","components/AppAppBar/marianne.png","pages/Home/Hero/hero.jpg","utils/compose.js","context/user-context.js","config/config.js","context/index.js","components/ErrorBoundary.js","app.js","index.js","theme/AppTheme.js","components/Toolbar.js","components/MenuItemLink.js","components/AppAppBar/HamburgerMenu.js","components/AppAppBar/AccountMenu.js","components/AppAppBar/DossiersMenu.js","theme/theme.js","components/AppAppBar/index.js","components/AppFooter.js"],"names":["handleAuth","api","then","default","auth","login","isApiMock","id","logout","isAuthenticated","getUser","isDeposant","isMairie","isInstructeur","isBeta","AuthContext","React","createContext","handleApiAuth","a","user","dossiers","AuthProvider","props","useAsync","promiseFn","data","error","isRejected","isLoading","reload","LinearProgress","Error","message","Provider","value","useAuth","context","useContext","undefined","env","name","window","profils","libelle","avatar","userProfiles","result","forEach","p","push","find","profil","initiale","texte","toUpperCase","substring","nomComplet","personne","prenom","nom","compose","withStyles","theme","color","backgroundColor","person","classes","Avatar","aria-label","className","root","flexGrow","flexDirection","alignItems","justifyContent","marginTop","spacing","content","overflowWrap","useUser","AppTheme","AppAppBar","Grid","container","item","xs","Card","CardHeader","title","subheader","CardContent","Typography","variant","component","map","toString","email","AppFooter","communesPartenaires","latitude","longitude","code","position","top","right","maxWidth","background","boxShadow","padding","margin","outline","containerNotFound","display","communes","onViewportChange","containerComponent","onSelectCommune","ControlPanelContainer","children","Container","useState","commune","setCommune","FormControl","FormLabel","RadioGroup","onChange","event","target","key","FormControlLabel","label","control","Radio","onClick","handleSelectCommune","IconButton","href","pinStyle","cursor","fill","stroke","CommunePin","this","size","height","viewBox","style","transform","d","PureComponent","renderInputComponent","inputProps","inputRef","ref","other","TextField","data-cy","InputProps","startAdornment","InputAdornment","node","input","renderSuggestion","suggestion","query","isHighlighted","matches","match","parts","parse","MenuItem","selected","part","fontWeight","highlight","text","suggestionsContainerOpen","zIndex","left","suggestionsList","listStyleType","breakpoints","down","width","fontSize","up","resetCommune","setErreur","onClickSelectAddress","adresse","setAdresse","adresses","setAdresses","buildSuggestions","features","feature","properties","geometry","coordinates","sanitizedAdresse","deburr","trim","toLowerCase","rechercherAdresses","adresseSanitized","fetch","res","json","getSuggestionValue","placeholder","newValue","onBlur","highlightedSuggestion","Paper","Box","m","suggestions","shouldRenderSuggestions","length","onSuggestionsFetchRequested","onSuggestionsClearRequested","onSuggestionSelected","renderSuggestionsContainer","options","containerProps","square","Button","searchInput","popupContainer","maxPopupWidth","resetAdresse","parcelles","showPopup","setShowPopup","Fragment","anchor","closeButton","closeOnClick","onClose","precision","surface","parcelle","area","Number","parseFloat","toFixed","parcellesSurfaceTotale","RouterLink","to","ChercherAdresse","ajouterParcelle","setParcelles","maxParcelles","filter","lineIntersect","parcelleIsContigue","numero","concat","renderLayers","parcellesTexts","parcellesGeoJson","GeoJsonLayer","filled","pickable","stroked","extruded","opacity","getFillColor","getLineColor","object","x","y","TextLayer","getTextAnchor","getAlignmentBaseline","getColor","getSize","sizeScale","getPixelOffset","PolygonLayer","wireframe","lineWidthMinPixels","getPolygon","getLineWidth","parcelleIsIncluded","retirerParcelle","DEFAULT_VIEWPORT","zoom","pitch","bearing","MAP_STYLE","fullscreen","nav","parcellesActions","viewport","setViewport","setCommunes","setParcellesTexts","setParcellesGeoJson","erreur","fetchParcellesTexts","init","method","headers","Headers","append","mode","parcellesUrl","centroid","buildParcellesTexts","catch","console","log","showGlobalError","reuseMaps","maxPitch","mapStyle","layers","viewState","transitionInterpolator","FlyToInterpolator","transitionDuration","Snackbar","initialState","handleDossiers","listerDossiers","consulterDossier","ajouterDossier","formData","supprimerDossier","savePieceJointe","dossierId","saveMessage","lireFichier","qualifierDossier","declarerIncompletDossier","declarerCompletDossier","prendreDecision","formatFileSize","sizes","i","Math","pow","round","maxSize","parseInt","dropzone","borderWidth","borderColor","borderStyle","borderRadius","appBar","marginLeft","flex","withMobileDialog","handleFile","fullScreen","acceptedFormats","showDialog","setShowDialog","onDrop","useCallback","acceptedFiles","file","reader","FileReader","onabort","onerror","readAsDataURL","onload","FormData","useDropzone","accept","getRootProps","getInputProps","isDragReject","rejectedFiles","rootProps","handleClose","rejectedFilesItems","path","Dialog","open","aria-labelledby","aria-describedby","AppBar","Toolbar","edge","DialogContent","RootRef","rootRef","DialogActions","autoFocus","button","rightIcon","iconName","onUploadFile","setError","showDropzone","setShowDropzone","closeDropzone","Icon","dateSortDesc","date1","date2","format","date","moment","steps","icon","step","statutId","dossierWorkflow","dossier","statutsSuivants","statutsRestants","statuts","withRouter","onReject","isFulfilled","history","useTheme","isSmallMedia","useMediaQuery","smallMediaColumns","customBodyRender","tableMeta","updateValue","Chip","columns","handleAjouterDossier","err","filterType","responsive","rowsPerPage","rowsPerPageOptions","customToolbar","customToolbarSelect","selectedRows","displayData","setSelectedRows","Tooltip","row","handleSupprimerDossier","dataIndex","onRowClick","rowData","rowState","textLabels","body","noMatch","toolTip","columnHeaderTooltip","column","pagination","next","previous","displayRows","toolbar","search","downloadCsv","print","viewColumns","filterTable","all","reset","titleAria","delete","deleteAria","grid","textField","marginRight","withFormik","mapPropsToValues","onSaveMessage","initialValues","validate","values","errors","handleSubmit","setSubmitting","displayName","touched","handleChange","handleBlur","isSubmitting","onSubmit","rowsMax","rows","multiline","type","disabled","Transition","forwardRef","Slide","direction","dialogTitle","palette","grey","setOpen","handleSaveMessage","contenu","TransitionComponent","fab","secondary","main","bottom","showNewDialog","setShowNewDialog","Fab","listePiecesJointesDPMI","titre","description","formats","required","listePiecesJointesPCMI","addDossierIdAndFichierId","pj","DossierId","cerfa","fichierId","decision","pieceJointe","piecesJointes","pdfContent","src","startsWith","alt","handleFilePreview","fichier","buttonWrapper","buttonProgress","showPreview","setShowPreview","showPreviewDialog","setShowPreviewDialog","isSettled","useEffect","CircularProgress","card","marginBottom","flexWrap","actions","CardActions","disableSpacing","isCerfa","isDecision","split","header","auteur","useStyles","makeStyles","isFromProfil","includes","MessagesBigMediaChat","messages","sort","index","MessagesChat","useColorlibStepIconStyles","active","backgroundImage","completed","ColorlibConnector","alternativeLabel","line","border","StepConnector","ColorlibStepIcon","icons","clsx","String","texteDate","dateDebut","Etapes","activeStepId","activeStep","activeStepIndex","lastIndexOf","stepProps","labelProps","Stepper","connector","orientation","Step","StepLabel","StepIconComponent","StepContent","params","marked","align","statutActuel","handleQualifier","handleDeclarerComplet","handleDeclarerIncomplet","buttons","tabs","handleDossier","JoursRestants","joursRestants","a11yProps","TabPanel","role","hidden","tabValue","setTabValue","Tabs","centered","indicatorColor","textColor","Tab","Badge","badge","badgeContent","max","piecesAJoindre","pieceAJoindre","NotFound","routes","SaveAltIcon","Dossiers","sidebar","exact","Dossier","MapIcon","Localiser","beta","AccountIcon","MonCompte","SignOutIcon","AideIcon","Aide","Cgu","capitalize","defaultProps","markedH2Center","markedH3Center","markedH4Center","markedH6Left","IconButtonHashLink","genericHashLink","Hero","backdrop","HeroImg","aide","pathname","hash","arrowDown","Component","primary","minHeight","maxHeight","common","black","backgroundSize","backgroundRepeat","scrollBehaviour","minWidth","more","overflow","image","curvyLines","pointerEvents","md","number","fontFamily","typography","fontWeightMedium","remonter","showRemonter","Link","ConnexionButton","appbar","Grow","in","Index","setShowRemonter","onWheel","deltaY","HomeIcon","Home","selectedSize","appBarPrefix","anchorEl","setAnchorEl","aria-controls","aria-haspopup","currentTarget","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MockUsersConnectionMenuItems","prefixDataCy","lazy","Help","mt","mb","gutterBottom","fallback","Faq","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","iconVariant","SnackbarContent","action","reason","autoHideDuration","fontFamilySecondary","pxToRem","sizeSmall","sizeLarge","module","exports","funcs","reduce","b","arg","UserContext","UserProvider","dotenvExpand","config","resolve","__dirname","AppProviders","ErrorBoundary","state","hasError","JSON","stringify","logErrorToMyService","loadUnAuthenticatedApp","UnAuthenticatedApp","AuthenticatedApp","App","Suspense","ReactDOM","render","document","getElementById","prefersDarkMode","useMemo","responsiveFontSizes","createMuiTheme","green","amber","fontWeightLight","fontWeightRegular","styles","MenuItemLink","route","ListItemIcon","SideBarMenu","toggleDrawer","selectedIndex","setSelectedIndex","moncompte","routesAuthenticated","deconnexion","onClickItem","onKeyDown","routesUnauthenticated","HamburgerMenu","setState","bind","drawer","Hidden","smUp","implementation","menuButton","Drawer","list","flexShrink","mixins","MenuList","isLightTheme","toolbarStyles","titleWrapper","logoWrapper","logo","menu","elevation","wrap","justify","xsDown","memo","footer","terms"],"mappings":"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","file":"static/js/main.bcef02cc.chunk.js","sourcesContent":["import api, { isApiMock } from 'api/api';\n\nfunction handleAuth() {\n  return api.then(api => {\n    return api.default.auth;\n  });\n}\n\nfunction getUser() {\n  return api.then(handleAuth).then(auth => {\n    return auth.getUser();\n  });\n}\n\nfunction isAuthenticated() {\n  return api.then(handleAuth).then(auth => {\n    return auth.isAuthenticated();\n  });\n}\n\nfunction isInstructeur() {\n  return api.then(handleAuth).then(auth => {\n    return auth.isInstructeur();\n  });\n}\n\nfunction isDeposant() {\n  return api.then(handleAuth).then(auth => {\n    return auth.isDeposant();\n  });\n}\n\nfunction isMairie() {\n  return api.then(handleAuth).then(auth => {\n    return auth.isMairie();\n  });\n}\n\nfunction isBeta() {\n  return api.then(handleAuth).then(auth => {\n    return auth.isBeta();\n  });\n}\n\nconst login = isApiMock\n  ? function(id) {\n      return api.then(handleAuth).then(auth => {\n        return auth.login(id);\n      });\n    }\n  : function() {\n      return api.then(handleAuth).then(auth => {\n        return auth.login();\n      });\n    };\n\nfunction logout() {\n  return api.then(handleAuth).then(auth => {\n    return auth.logout();\n  });\n}\n\nconst auth = {\n  login,\n  logout,\n  isAuthenticated,\n  getUser,\n  isDeposant,\n  isMairie,\n  isInstructeur,\n  isBeta\n};\n\nexport default auth;\n","import React from 'react';\nimport auth from 'api/auth';\nimport { useAsync } from 'react-async';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { isApiMock } from 'api/api';\nimport Error from 'pages/Error';\n\nconst AuthContext = React.createContext();\n\nasync function handleApiAuth() {\n  const isAuthenticated = await auth.isAuthenticated();\n  if (!isAuthenticated)\n    return {\n      user: null,\n      isAuthenticated,\n      isDeposant: false,\n      isMairie: false,\n      isInstructeur: false,\n      isBeta: false,\n      dossiers: []\n    };\n  return {\n    user: await auth.getUser(),\n    isAuthenticated,\n    isDeposant: await auth.isDeposant(),\n    isMairie: await auth.isMairie(),\n    isInstructeur: await auth.isInstructeur(),\n    isBeta: await auth.isBeta()\n  };\n}\n\nfunction AuthProvider(props) {\n  const { data, error, isRejected, isLoading, reload } = useAsync({\n    promiseFn: handleApiAuth\n  });\n\n  if (isLoading) {\n    return <LinearProgress />;\n  }\n  if (isRejected) {\n    return <Error error={error.message} />;\n  }\n\n  if (data) {\n    const login = isApiMock\n      ? function(id) {\n          return auth.login(id).then(reload);\n        }\n      : function() {\n          return auth.login().then(reload);\n        };\n    const logout = () => auth.logout().then(reload);\n\n    return <AuthContext.Provider value={{ data, login, logout }} {...props} />;\n  }\n}\n\nfunction useAuth() {\n  const context = React.useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(`useAuth must be used within a AuthProvider`);\n  }\n  return context;\n}\n\nexport { AuthProvider, useAuth };\n","function env(name) {\n  return process.env.NODE_ENV === 'production'\n    ? window.env[name]\n    : process.env[name];\n}\n\nexport { env };\n","const profils = [\n  {\n    id: 'DEPOSANT',\n    libelle: 'déposant',\n    avatar: 'D'\n  },\n  {\n    id: 'INSTRUCTEUR',\n    libelle: 'instructeur',\n    avatar: 'I'\n  },\n  {\n    id: 'MAIRIE',\n    libelle: 'mairie',\n    avatar: 'M'\n  },\n  {\n    id: 'BETA',\n    libelle: 'bêta',\n    avatar: 'B'\n  }\n];\n\nfunction userProfiles(user) {\n  const result = [];\n  user.profils.forEach(p =>\n    result.push(profils.find(profil => profil.id === p))\n  );\n  return result;\n}\n\nexport { userProfiles };\n\nexport default profils;\n","import { userProfiles } from 'users/profils';\n\nfunction initiale(texte) {\n  return texte.toUpperCase().substring(0, 1);\n}\n\nfunction initiales(person) {\n  return initiale(person.prenom) + initiale(person.nom);\n}\n\nfunction nomCompletAvecProfils(personne) {\n  return `${nomComplet(personne)} (${userProfiles(personne)\n    .map(profil => profil.libelle)\n    .toString()})`;\n}\n\nfunction nomComplet(personne) {\n  return `${personne.prenom}  ${personne.nom}`;\n}\n\nexport { initiales, nomCompletAvecProfils, nomComplet };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport compose from 'utils/compose';\nimport { initiales } from 'users/people';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst styles = theme => ({\n  avatar: {\n    color: '#fff',\n    backgroundColor: '#4874b8'\n  }\n});\nfunction PersonneAvatar(props) {\n  const { classes, personne } = props;\n  return (\n    <Avatar aria-label=\"initiales\" className={classes.avatar}>\n      {initiales(personne)}\n    </Avatar>\n  );\n}\nPersonneAvatar.propTypes = {\n  classes: PropTypes.object,\n  personne: PropTypes.object.isRequired\n};\n\nexport default compose(withStyles(styles))(PersonneAvatar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Typography from 'components/Typography';\nimport AppAppBar from 'components/AppAppBar';\nimport AppFooter from 'components/AppFooter';\nimport { useUser } from 'context/user-context';\nimport compose from 'utils/compose';\nimport AppTheme from 'theme/AppTheme';\nimport { userProfiles } from 'users/profils';\nimport PersonneAvatar from 'components/PersonneAvatar';\nimport { nomComplet } from 'users/people';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: theme.spacing(2)\n  },\n  content: {\n    overflowWrap: 'break-word'\n  }\n});\n\nfunction MonCompte(props) {\n  const { classes } = props;\n  const { user } = useUser();\n  return (\n    <AppTheme>\n      <AppAppBar />\n      {user && (\n        <Grid container spacing={1} className={classes.root}>\n          <Grid item xs={12}>\n            <Card>\n              <CardHeader\n                avatar={<PersonneAvatar personne={user} />}\n                title={'Mon Compte'}\n                subheader={nomComplet(user)}\n              />\n              <CardContent className={classes.content}>\n                <Typography variant=\"h6\" component=\"h2\">\n                  {'Profils'}\n                </Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  {userProfiles(user)\n                    .map(profil => profil.libelle)\n                    .toString()}\n                </Typography>\n                <Typography variant=\"h6\" component=\"h2\">\n                  {'Email'}\n                </Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  {user.email}\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      )}\n      <AppFooter />\n    </AppTheme>\n  );\n}\nMonCompte.propTypes = {\n  classes: PropTypes.object\n};\nexport default compose(withStyles(styles))(MonCompte);\n","const communesPartenaires = [\n  { nom: 'Andeville', latitude: 49.258172, longitude: 2.1673, code: '60012' },\n  { nom: 'Baziège', latitude: 43.454982, longitude: 1.613846, code: '31048' },\n  { nom: 'Mours', latitude: 49.13367, longitude: 2.270546, code: '95436' },\n  {\n    nom: 'Nogent-sur-Oise',\n    latitude: 49.274714,\n    longitude: 2.467452,\n    code: '60463'\n  },\n  {\n    nom: 'La Crèche',\n    latitude: 46.363291,\n    longitude: -0.298161,\n    code: '79048'\n  },\n  {\n    nom: 'Castanet-Tolosan',\n    latitude: 43.517586,\n    longitude: 1.498613,\n    code: '31113'\n  },\n  {\n    nom: 'Saint-Tropez',\n    latitude: 43.273612,\n    longitude: 6.639691,\n    code: '83119'\n  }\n];\n\nexport default communesPartenaires;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Typography from 'components/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport HowToVoteIcon from '@material-ui/icons/HowToVote';\nimport communesPartenaires from './communesPartenaires';\n\nconst styles = theme => ({\n  root: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    maxWidth: '320px',\n    background: '#fff',\n    boxShadow: `0 '2px' '4px' rgba(0,0,0,0.3)`,\n    padding: '24px',\n    margin: '20px',\n    color: '#6b6b76',\n    outline: 'none'\n  },\n  containerNotFound: {\n    position: 'relative',\n    flexDirection: 'column',\n    display: 'flex',\n    alignItems: 'center'\n  }\n});\n\nfunction ControlPanel(props) {\n  const {\n    communes,\n    classes,\n    onViewportChange,\n    containerComponent,\n    onSelectCommune\n  } = props;\n  const ControlPanelContainer = containerComponent || DefaultContainer;\n  const [commune, setCommune] = useState();\n\n  function DefaultContainer(props) {\n    const { children } = props;\n    return <Container className={classes.root}>{children}</Container>;\n  }\n  DefaultContainer.propTypes = {\n    children: PropTypes.node.isRequired\n  };\n\n  function handleCommuneChange(event) {\n    const commune = findCommuneByCode(event.target.value);\n    setCommune(commune);\n    onSelectCommune(commune);\n  }\n\n  function handleSelectCommune(commune) {\n    setCommune(commune);\n    onSelectCommune(commune);\n    onViewportChange(commune);\n  }\n\n  function findCommuneByCode(code) {\n    return communesPartenaires.find(commune => commune.code === code);\n  }\n  return (\n    <ControlPanelContainer>\n      <FormControl component=\"fieldset\">\n        <FormLabel component=\"legend\">Communes partenaires</FormLabel>\n        <RadioGroup\n          aria-label=\"Communes partenaires\"\n          name=\"commune\"\n          value={commune ? commune.code : ''}\n          onChange={handleCommuneChange}\n        >\n          {communes.map((commune, key) => (\n            <FormControlLabel\n              key={key}\n              value={commune.code}\n              label={commune.nom}\n              control={<Radio />}\n              onClick={() => handleSelectCommune(commune)}\n            />\n          ))}\n        </RadioGroup>\n      </FormControl>{' '}\n      <Container className={classes.containerNotFound}>\n        <Typography variant=\"subtitle2\">\n          {`La commune n'apparaît pas ?`}\n        </Typography>\n        <IconButton\n          color=\"inherit\"\n          href=\"https://www.service-public.fr/particuliers/vosdroits/F17578\"\n        >\n          <HowToVoteIcon aria-label=\"Déposer en mairie\" />\n          <Typography variant=\"body2\">{`Déposer en mairie`}</Typography>\n        </IconButton>\n      </Container>\n    </ControlPanelContainer>\n  );\n}\nControlPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n  communes: PropTypes.array.isRequired,\n  containerComponent: PropTypes.node,\n  onViewportChange: PropTypes.func.isRequired,\n  onSelectCommune: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(ControlPanel);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\n\nconst pinStyle = {\n  cursor: 'pointer',\n  fill: '#e60000',\n  stroke: 'none'\n};\n\nexport default class CommunePin extends PureComponent {\n  static propTypes = {\n    size: PropTypes.number,\n    onClick: PropTypes.func\n  };\n  render() {\n    const { size = 20, onClick } = this.props;\n\n    return (\n      <svg\n        height={size}\n        viewBox=\"0 0 24 24\"\n        style={{\n          ...pinStyle,\n          transform: `translate(${-size / 2}px,${-size}px)`\n        }}\n        onClick={onClick}\n      >\n        <path d={ICON} />\n      </svg>\n    );\n  }\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport deburr from 'lodash/deburr';\nimport Autosuggest from 'react-autosuggest';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { withStyles } from '@material-ui/core/styles';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Typography from 'components/Typography';\nimport Button from 'components/Button';\nimport Box from '@material-ui/core/Box';\n\nconst maxWidth = 400;\nconst maxFontSize = 24;\nconst coefMax = 0.4;\n\nconst styles = theme => ({\n  root: {\n    padding: 2\n  },\n  container: {\n    position: 'relative'\n  },\n  suggestionsContainerOpen: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing(1),\n    left: 0,\n    right: 0\n  },\n  suggestion: {\n    display: 'flex'\n  },\n  suggestionsList: {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none',\n    [theme.breakpoints.down('md')]: {\n      width: maxWidth * coefMax,\n      fontSize: maxFontSize * coefMax\n    },\n    [theme.breakpoints.up('md')]: {\n      width: maxWidth,\n      fontSize: maxFontSize\n    }\n  },\n  input: {\n    [theme.breakpoints.down('md')]: {\n      width: maxWidth\n    },\n    [theme.breakpoints.up('md')]: {\n      width: maxWidth\n    }\n  }\n});\n\nfunction renderInputComponent(inputProps) {\n  const { classes, inputRef = () => {}, ref, ...other } = inputProps;\n\n  return (\n    <TextField\n      data-cy=\"chercher-adresse-input\"\n      InputProps={{\n        startAdornment: (\n          <InputAdornment position=\"start\">\n            <SearchIcon />\n          </InputAdornment>\n        ),\n        inputRef: node => {\n          ref(node);\n          inputRef(node);\n        },\n        classes: {\n          input: classes.input\n        }\n      }}\n      {...other}\n    />\n  );\n}\n\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\n  const matches = match(suggestion.label, query);\n  const parts = parse(suggestion.label, matches);\n\n  return (\n    <MenuItem selected={isHighlighted} component=\"div\">\n      <div>\n        {parts.map((part, key) => (\n          <span key={key} style={{ fontWeight: part.highlight ? 500 : 400 }}>\n            {part.text}\n          </span>\n        ))}\n      </div>\n    </MenuItem>\n  );\n}\n\nfunction ChercherAddresse(props) {\n  const {\n    classes,\n    commune,\n    resetCommune,\n    setErreur,\n    onClickSelectAddress\n  } = props;\n  const [adresse, setAdresse] = useState('');\n  const [adresses, setAdresses] = useState([]);\n  const theme = {\n    container: classes.container,\n    suggestionsContainerOpen: classes.suggestionsContainerOpen,\n    suggestionsList: classes.suggestionsList,\n    suggestion: classes.suggestion\n  };\n\n  function buildSuggestions(result) {\n    return result.features.map(feature => {\n      var suggestion = {};\n      suggestion.value = feature.properties.id;\n      suggestion.label = feature.properties.label;\n      suggestion.position = [\n        feature.geometry.coordinates[1],\n        feature.geometry.coordinates[0]\n      ];\n      return suggestion;\n    });\n  }\n\n  function sanitizedAdresse(adresse) {\n    return deburr(adresse.trim()).toLowerCase();\n  }\n\n  async function rechercherAdresses() {\n    const adresseUrl = 'https://api-adresse.data.gouv.fr/search/?q=';\n    const adresseSanitized = sanitizedAdresse(adresse);\n    return await fetch(\n      adresseUrl + adresseSanitized + '&citycode=' + commune.code\n    )\n      .then(res => res.json())\n      .then(\n        result => buildSuggestions(result),\n        error => setErreur(error)\n      );\n  }\n\n  async function onSuggestionsFetchRequested() {\n    setAdresses(await rechercherAdresses());\n  }\n\n  function onSuggestionsClearRequested() {\n    setAdresses([]);\n  }\n\n  function onSuggestionSelected(event, { suggestion }) {\n    setAdresses(getSuggestionValue(suggestion));\n    onClickSelectAddress(suggestion);\n  }\n\n  function getSuggestionValue(suggestion) {\n    return suggestion.label;\n  }\n\n  function shouldRenderSuggestions(value) {\n    return value.trim().length > 3;\n  }\n\n  function onChange(event, { newValue }) {\n    setAdresse(newValue);\n  }\n\n  function onBlur(event, { highlightedSuggestion }) {\n    if (highlightedSuggestion) {\n      setAdresse(getSuggestionValue(highlightedSuggestion));\n      onClickSelectAddress(highlightedSuggestion);\n    }\n  }\n  const inputProps = {\n    classes,\n    placeholder: 'Ex: 1 rue des Fleurs...',\n    value: adresse,\n    onChange: onChange,\n    onBlur: onBlur\n  };\n  return (\n    <div className={classes.root}>\n      {commune && (\n        <Paper>\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            p={1}\n            m={1}\n            alignItems=\"center\"\n          >\n            <Box p={1}>\n              <Typography variant=\"subtitle2\">{`Chercher l'adresse du projet à ${commune.nom}`}</Typography>\n              <Autosuggest\n                classes={classes}\n                key={`autosuggest-${commune.code}`}\n                data-cy={`chercher-adresse-input`}\n                suggestions={adresses}\n                shouldRenderSuggestions={shouldRenderSuggestions}\n                onSuggestionsFetchRequested={onSuggestionsFetchRequested}\n                onSuggestionsClearRequested={onSuggestionsClearRequested}\n                onSuggestionSelected={onSuggestionSelected}\n                getSuggestionValue={getSuggestionValue}\n                renderSuggestion={renderSuggestion}\n                renderInputComponent={renderInputComponent}\n                inputProps={inputProps}\n                theme={theme}\n                renderSuggestionsContainer={options => (\n                  <Paper {...options.containerProps} square>\n                    {options.children}\n                  </Paper>\n                )}\n              />\n            </Box>\n            <Box p={1}>\n              <Button color=\"inherit\" variant=\"outlined\" onClick={resetCommune}>\n                {`Changer de commune`}\n              </Button>\n            </Box>\n          </Box>\n        </Paper>\n      )}\n    </div>\n  );\n}\nChercherAddresse.propTypes = {\n  classes: PropTypes.object,\n  commune: PropTypes.object,\n  onClickSelectAddress: PropTypes.func.isRequired,\n  resetCommune: PropTypes.func.isRequired,\n  setErreur: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(ChercherAddresse);\n","import React, { useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppTheme from 'theme/AppTheme';\nimport compose from 'utils/compose';\nimport PropTypes from 'prop-types';\nimport { Marker, Popup } from 'react-map-gl';\nimport CommunePin from './CommunePin';\nimport ChercherAdresse from './ChercherAdresse';\nimport Typography from 'components/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { Link as RouterLink } from 'react-router-dom';\nimport Button from 'components/Button';\nimport Box from '@material-ui/core/Box';\nimport { parcellesSurfaceTotale } from 'pages/protected/Localiser/parcelles';\n\nconst maxPopupWidth = 400;\n\nconst styles = theme => ({\n  searchInput: {\n    display: 'flex'\n  },\n  popupContainer: {\n    position: 'relative',\n    flexDirection: 'column',\n    display: 'flex',\n    alignItems: 'center',\n    [theme.breakpoints.down('xs')]: {\n      width: maxPopupWidth * 0.75\n    },\n    width: maxPopupWidth\n  }\n});\n\nfunction CommuneMarker(props) {\n  const {\n    classes,\n    commune,\n    adresse,\n    onClickSelectAddress,\n    resetCommune,\n    resetAdresse,\n    parcelles,\n    setErreur\n  } = props;\n  const longitude = adresse\n    ? adresse.position[1]\n    : commune\n    ? commune.longitude\n    : null;\n  const latitude = adresse\n    ? adresse.position[0]\n    : commune\n    ? commune.latitude\n    : null;\n  const [showPopup, setShowPopup] = useState(true);\n  return (\n    <AppTheme>\n      {commune && (\n        <React.Fragment>\n          <Marker longitude={longitude} latitude={latitude}>\n            <CommunePin size={20} onClick={() => setShowPopup(true)} />\n          </Marker>\n          {showPopup && (\n            <Popup\n              longitude={longitude}\n              latitude={latitude}\n              anchor=\"top\"\n              closeButton={true}\n              closeOnClick={false}\n              onClose={() => setShowPopup(false)}\n            >\n              {!adresse ? (\n                <ChercherAdresse\n                  commune={commune}\n                  onClickSelectAddress={onClickSelectAddress}\n                  resetCommune={resetCommune}\n                  setErreur={setErreur}\n                />\n              ) : (\n                <Paper className={classes.parcelles}>\n                  <Box\n                    display=\"flex\"\n                    flexDirection=\"column\"\n                    p={1}\n                    m={1}\n                    alignItems=\"center\"\n                  >\n                    <Box p={1} justifyContent=\"center\">\n                      <Typography variant=\"subtitle2\">\n                        {`${parcelles.length} parcelles sélectionnées à ${adresse.label}`}\n                      </Typography>\n                      <Typography variant=\"body2\">\n                        {`Pour une surface totale de ${parcellesSurfaceTotale(\n                          parcelles\n                        )} m²`}\n                      </Typography>\n                    </Box>\n                    <Box p={1}>\n                      <Button\n                        color=\"secondary\"\n                        component={RouterLink}\n                        variant=\"contained\"\n                        to=\"/deposer\"\n                      >\n                        {`Déposer`}\n                      </Button>\n                      <Button\n                        color=\"inherit\"\n                        variant=\"outlined\"\n                        onClick={resetAdresse}\n                      >\n                        {`Changer d'adresse`}\n                      </Button>\n                    </Box>\n                  </Box>\n                </Paper>\n              )}\n            </Popup>\n          )}\n        </React.Fragment>\n      )}\n    </AppTheme>\n  );\n}\nCommuneMarker.propTypes = {\n  adresse: PropTypes.object,\n  commune: PropTypes.object,\n  parcelles: PropTypes.array,\n  classes: PropTypes.object.isRequired,\n  onClickSelectAddress: PropTypes.func.isRequired,\n  resetCommune: PropTypes.func.isRequired,\n  resetAdresse: PropTypes.func.isRequired,\n  setErreur: PropTypes.func.isRequired\n};\nexport default compose(withStyles(styles))(CommuneMarker);\n","import lineIntersect from '@turf/line-intersect';\nimport centroid from '@turf/centroid';\nimport area from '@turf/area';\n\nfunction parcelleIsContigue(parcelle, parcelles) {\n  if (parcelles.length < 1) return true;\n  let intersections = parcelles.filter(\n    p => lineIntersect(parcelle, p).features.length > 0\n  );\n  return intersections.length > 0;\n}\n\nfunction parcelleIsIncluded(parcelle, parcelles) {\n  return parcelles.filter(p => p.id === parcelle.id).length > 0;\n}\n\nfunction parcelleCenter(parcelle) {\n  return centroid(parcelle);\n}\n\nfunction parcellesSurfaceTotale(parcelles, precision = 2) {\n  var surface = 0;\n  parcelles.map(parcelle => (surface += area(parcelle)));\n  return Number.parseFloat(surface).toFixed(precision);\n}\n\nexport { parcelleIsContigue };\n\nexport { parcelleIsIncluded };\n\nexport { parcelleCenter };\n\nexport { parcellesSurfaceTotale };\n","import {\n  parcelleIsIncluded,\n  parcelleIsContigue\n} from 'pages/protected/Localiser/parcelles';\nimport { GeoJsonLayer, TextLayer, PolygonLayer } from '@deck.gl/layers';\n\nfunction parcellesUrl(commune) {\n  return `https://cadastre.data.gouv.fr/bundler/cadastre-etalab/communes/${commune.code}/geojson/parcelles`;\n}\n\nfunction retirerParcelle(parcelle, parcelles, setParcelles) {\n  if (parcelleIsIncluded(parcelle, parcelles)) {\n    setParcelles(parcelles.filter(p => p.id !== parcelle.id));\n  }\n}\n\nfunction ajouterParcelle(parcelle, parcelles, setParcelles, setErreur) {\n  const maxParcelles = 10;\n  if (parcelles.length > maxParcelles - 1) {\n    setErreur(`Maximum atteint de ${maxParcelles} parcelles.`);\n  } else if (!parcelleIsContigue(parcelle, parcelles)) {\n    setErreur(`La parcelle ${parcelle.properties.numero} n'est pas contiguë.`);\n  } else {\n    setParcelles(parcelles.concat(parcelle));\n  }\n}\nfunction renderLayers(\n  adresse,\n  parcellesTexts,\n  parcellesGeoJson,\n  parcelles,\n  setParcelles,\n  setErreur\n) {\n  if (!adresse) return [];\n  return [\n    new GeoJsonLayer({\n      id: 'parcelles-polygon-layer',\n      data: parcellesGeoJson,\n      filled: true,\n      pickable: true,\n      stroked: true,\n      extruded: false,\n      opacity: 0.2,\n      getFillColor: d => [60, 93, 170],\n      getLineColor: [60, 93, 170],\n      onClick: ({ object, x, y }) => {\n        ajouterParcelle(object, parcelles, setParcelles, setErreur);\n      }\n    }),\n    new TextLayer({\n      id: 'parcelles-text-layer',\n      data: parcellesTexts,\n      getTextAnchor: 'middle',\n      getAlignmentBaseline: 'center',\n      getColor: d => [0, 0, 0],\n      getSize: d => 20,\n      sizeScale: 1,\n      opacity: 0.6,\n      getPixelOffset: [0, 15]\n    }),\n    new PolygonLayer({\n      id: 'parcelles-selectionnes-layer',\n      data: parcelles,\n      pickable: true,\n      stroked: true,\n      filled: true,\n      wireframe: true,\n      lineWidthMinPixels: 1,\n      opacity: 0.2,\n      getPolygon: d => d.geometry.coordinates,\n      getFillColor: d => [0, 17, 94],\n      getLineColor: [0, 17, 94],\n      getLineWidth: 1,\n      onClick: ({ object, x, y }) => {\n        retirerParcelle(object, parcelles, setParcelles);\n      }\n    })\n  ];\n}\n\nexport { renderLayers };\nexport { parcellesUrl };\n","import React, { useState } from 'react';\nimport ReactMapGL, {\n  NavigationControl,\n  FullscreenControl,\n  FlyToInterpolator\n} from 'react-map-gl';\nimport DeckGL from '@deck.gl/react';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppTheme from 'theme/AppTheme';\nimport AppAppBar from 'components/AppAppBar';\nimport compose from 'utils/compose';\nimport Container from '@material-ui/core/Container';\nimport ControlPanel from './ControlPanel';\nimport communesPartenaires from './communesPartenaires';\nimport Snackbar from 'components/Snackbar';\nimport CommuneMarker from './CommuneMarker';\nimport { parcelleCenter } from 'pages/protected/Localiser/parcelles';\nimport { renderLayers, parcellesUrl } from './parcellesLayers';\n\nconst styles = theme => ({\n  map: {\n    position: 'relative',\n    flexDirection: 'column',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  fullscreen: {\n    position: 'absolute',\n    top: 10,\n    left: 30,\n    padding: 2\n  },\n  nav: {\n    position: 'absolute',\n    top: 50,\n    left: 30,\n    padding: 2\n  },\n  parcelles: {\n    position: 'absolute',\n    top: 30,\n    left: 90,\n    padding: theme.spacing(2),\n    [theme.breakpoints.down('sm')]: {\n      width: 200,\n      height: 340,\n      fontSize: 10\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: 220,\n      height: 340,\n      fontSize: 14\n    }\n  },\n  parcellesActions: {\n    flexGrow: 1\n  }\n});\n\nconst DEFAULT_VIEWPORT = {\n  latitude: 45.9167,\n  longitude: 1.8833,\n  zoom: 4,\n  pitch: 0,\n  bearing: 0\n};\n\nconst MAP_STYLE =\n  'https://openmaptiles.geo.data.gouv.fr/styles/osm-bright/style.json';\n\nfunction Localiser(props) {\n  const { classes, containerComponent } = props;\n  const [viewport, setViewport] = useState(DEFAULT_VIEWPORT);\n  const [communes, setCommunes] = useState(communesPartenaires);\n  const [adresse, setAdresse] = useState();\n  const [commune, setCommune] = useState();\n  const [parcelles, setParcelles] = useState([]);\n  const [parcellesTexts, setParcellesTexts] = useState([]);\n  const [parcellesGeoJson, setParcellesGeoJson] = useState([]);\n  const [erreur, setErreur] = useState();\n\n  function resetCommune() {\n    setViewport(DEFAULT_VIEWPORT);\n    setCommunes(communesPartenaires);\n    setAdresse(null);\n    setParcelles([]);\n    setCommune(null);\n    setParcellesTexts([]);\n    setParcellesGeoJson([]);\n    setErreur(null);\n  }\n\n  function onViewportChange(viewport) {\n    setViewport({ ...viewport });\n  }\n\n  function resetAdresse() {\n    setAdresse(null);\n    setParcelles([]);\n    setErreur(null);\n    onViewportChange({\n      longitude: commune.longitude,\n      latitude: commune.latitude,\n      zoom: 11,\n      transitionInterpolator: new FlyToInterpolator(),\n      transitionDuration: 3000\n    });\n  }\n\n  function goToCommune({ longitude, latitude }) {\n    onViewportChange({\n      longitude,\n      latitude,\n      zoom: 11,\n      transitionInterpolator: new FlyToInterpolator(),\n      transitionDuration: 3000\n    });\n  }\n\n  function buildParcellesTexts(data) {\n    setParcellesGeoJson(data);\n    setParcellesTexts(\n      data.features.map(feature => ({\n        text: feature.properties.numero,\n        position: parcelleCenter(feature).geometry.coordinates\n      }))\n    );\n  }\n\n  function showGlobalError(erreur) {\n    window.console.log(erreur);\n    setErreur(\n      'Une erreur est survenue lors du chargement des parcelles cadastrales.'\n    );\n  }\n\n  function fetchParcellesTexts(commune) {\n    const init = {\n      method: 'GET',\n      headers: new Headers().append('Content-Type', 'application/json'),\n      mode: 'cors'\n    };\n    fetch(parcellesUrl(commune), init)\n      .then(data => data.json())\n      .then(data => buildParcellesTexts(data))\n      .catch(erreur => showGlobalError(erreur));\n  }\n\n  function onClickSelectAddress(adresse) {\n    setAdresse(adresse);\n    fetchParcellesTexts(commune);\n    onViewportChange({\n      latitude: adresse.position[0],\n      longitude: adresse.position[1],\n      zoom: 18,\n      transitionInterpolator: new FlyToInterpolator(),\n      transitionDuration: 3000\n    });\n  }\n\n  function onSelectCommune(commune) {\n    setCommune(commune);\n    setAdresse(null);\n    setParcelles([]);\n  }\n\n  return (\n    <AppTheme>\n      <AppAppBar />\n      <Container className={classes.map} data-cy=\"map\">\n        <ReactMapGL\n          {...viewport}\n          reuseMaps\n          onViewportChange={onViewportChange}\n          width=\"100vw\"\n          height=\"90vh\"\n          maxPitch={85}\n          mapStyle={MAP_STYLE}\n        >\n          <DeckGL\n            layers={renderLayers(\n              adresse,\n              parcellesTexts,\n              parcellesGeoJson,\n              parcelles,\n              setParcelles,\n              setErreur\n            )}\n            viewState={viewport}\n          />\n\n          <FullscreenControl className={classes.fullscreen} />\n          <NavigationControl className={classes.nav} />\n          {!commune && (\n            <ControlPanel\n              communes={communes}\n              containerComponent={containerComponent}\n              onViewportChange={goToCommune}\n              onSelectCommune={onSelectCommune}\n            />\n          )}\n          <CommuneMarker\n            commune={commune}\n            adresse={adresse}\n            parcelles={parcelles}\n            onClickSelectAddress={onClickSelectAddress}\n            resetCommune={resetCommune}\n            resetAdresse={resetAdresse}\n            setErreur={setErreur}\n          />\n          {erreur && (\n            <Snackbar\n              message={erreur}\n              variant=\"error\"\n              initialState={true}\n              onClose={() => setErreur(null)}\n            />\n          )}\n        </ReactMapGL>\n      </Container>\n    </AppTheme>\n  );\n}\nLocaliser.propTypes = {\n  classes: PropTypes.object.isRequired,\n  containerComponent: PropTypes.node\n};\nexport default compose(withStyles(styles))(Localiser);\n","import api from 'api/api';\n\nfunction handleDossiers() {\n  return api.then(api => {\n    return api.default.dossiers;\n  });\n}\n\nfunction listerDossiers() {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.listerDossiers();\n  });\n}\n\nfunction consulterDossier(id) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.consulterDossier(id);\n  });\n}\n\nfunction qualifierDossier(id) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.qualifierDossier(id);\n  });\n}\n\nfunction declarerIncompletDossier(id, message) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.declarerIncompletDossier(id, message);\n  });\n}\n\nfunction declarerCompletDossier(id) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.declarerCompletDossier(id);\n  });\n}\n\nfunction prendreDecision(id, formData) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.prendreDecision(id, formData);\n  });\n}\n\nfunction ajouterDossier(formData) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.ajouterDossier(formData);\n  });\n}\n\nfunction supprimerDossier(id) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.supprimerDossier(id);\n  });\n}\n\nfunction savePieceJointe(dossierId, numero, formData) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.savePieceJointe(dossierId, numero, formData);\n  });\n}\n\nfunction saveMessage(dossierId, message) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.saveMessage(dossierId, message);\n  });\n}\n\nfunction lireFichier(id) {\n  return api.then(handleDossiers).then(dossiers => {\n    return dossiers.lireFichier(id);\n  });\n}\n\nconst dossiers = {\n  listerDossiers,\n  consulterDossier,\n  ajouterDossier,\n  supprimerDossier,\n  savePieceJointe,\n  saveMessage,\n  lireFichier,\n  qualifierDossier,\n  declarerIncompletDossier,\n  declarerCompletDossier,\n  prendreDecision\n};\n\nexport default dossiers;\n","function formatFileSize(size) {\n  const sizes = [\n    ' Octets',\n    ' Ko',\n    ' Mo',\n    ' Go',\n    ' To',\n    ' Po',\n    ' Eo',\n    ' Zo',\n    ' Yo'\n  ];\n  for (var i = 1; i < sizes.length; i++) {\n    if (size < Math.pow(1024, i))\n      return (\n        Math.round((size / Math.pow(1024, i - 1)) * 100) / 100 + sizes[i - 1]\n      );\n  }\n  return size;\n}\nexport { formatFileSize };\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDropzone } from 'react-dropzone';\nimport RootRef from '@material-ui/core/RootRef';\nimport Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\nimport Button from 'components/Button';\nimport compose from 'utils/compose';\nimport { formatFileSize } from 'format/files';\nimport Typography from '../Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { env } from 'config/env-helper';\n\nconst styles = theme => ({\n  dropzone: {\n    width: '100%',\n    height: 'auto',\n    borderWidth: 2,\n    borderColor: 'rgb(102, 102, 102)',\n    borderStyle: 'dashed',\n    borderRadius: 5,\n    padding: theme.spacing(1)\n  },\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  }\n});\n\nconst maxSize = parseInt(env('REACT_APP_MAX_SIZE_UPLOAD_FILE'));\n\nfunction FileUploadDialog(props) {\n  const { handleFile, onClose, fullScreen, classes, acceptedFormats } = props;\n  const [showDialog, setShowDialog] = useState(true);\n  const onDrop = useCallback(\n    acceptedFiles => {\n      acceptedFiles.forEach(file => {\n        const reader = new FileReader();\n        reader.onabort = () => window.console.log('file reading was aborted');\n        reader.onerror = () => window.console.log('file reading has failed');\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n          const formData = new FormData();\n          formData.append('file', file);\n          handleFile(formData);\n        };\n        setShowDialog(false);\n      });\n    },\n    [handleFile]\n  );\n  const {\n    getRootProps,\n    getInputProps,\n    isDragReject,\n    rejectedFiles\n  } = useDropzone({\n    accept: acceptedFormats,\n    maxSize: maxSize,\n    onDrop: onDrop\n  });\n  const { ref, ...rootProps } = getRootProps();\n  function handleClose() {\n    onClose();\n    setShowDialog(false);\n  }\n\n  const rejectedFilesItems = rejectedFiles.map((key, file) => (\n    <li key={key}>\n      {file.path} - {formatFileSize(file.size)}\n    </li>\n  ));\n\n  return (\n    <Dialog\n      fullScreen={fullScreen}\n      open={showDialog}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <AppBar className={classes.appBar} color=\"secondary\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            {`Téléverser un fichier`}\n          </Typography>\n          <IconButton\n            edge=\"end\"\n            color=\"inherit\"\n            onClick={handleClose}\n            aria-label=\"Close\"\n          >\n            <CloseIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <DialogContent>\n        <RootRef rootRef={ref}>\n          <Paper\n            {...rootProps}\n            className={classes.dropzone}\n            data-cy=\"file-upload-dropzone\"\n          >\n            <input {...getInputProps()} />\n            {isDragReject ? (\n              <p>{`Ce fichier n'est pas acceptable`}</p>\n            ) : (\n              <React.Fragment>\n                <p>\n                  {`Cliquez ici pour sélectionner un fichier ou glissez-le ici`}\n                </p>\n                {rejectedFilesItems.length > 0 && (\n                  <aside>\n                    <h4 style={{ color: 'red' }}>Fichier rejeté:</h4>\n                    <ul>{rejectedFilesItems}</ul>\n                  </aside>\n                )}\n              </React.Fragment>\n            )}\n            <em>{`(Seuls les fichiers aux formats ${acceptedFormats} de moins de ${formatFileSize(\n              maxSize\n            )} sont acceptés)`}</em>\n          </Paper>\n        </RootRef>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={handleClose}\n          color=\"secondary\"\n          variant=\"contained\"\n          autoFocus\n          data-cy=\"confirm-dialog-btn\"\n        >\n          Fermer\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\nFileUploadDialog.propTypes = {\n  classes: PropTypes.object.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  fullScreen: PropTypes.bool.isRequired,\n  acceptedFormats: PropTypes.array.isRequired\n};\n\nexport default compose(\n  withStyles(styles),\n  withMobileDialog()\n)(FileUploadDialog);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'utils/compose';\nimport { withStyles } from '@material-ui/styles';\nimport Button from 'components/Button';\nimport FileUploadDialog from 'components/files/FileUploadDialog';\nimport Icon from '@material-ui/core/Icon';\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing(1)\n  },\n  rightIcon: {\n    marginLeft: theme.spacing(1)\n  }\n});\n\nfunction FileUploadButton(props) {\n  const {\n    classes,\n    acceptedFormats,\n    iconName,\n    label,\n    variant,\n    color,\n    onUploadFile,\n    setError\n  } = props;\n  const [showDropzone, setShowDropzone] = useState(false);\n  function closeDropzone() {\n    setShowDropzone(false);\n  }\n  function handleShowDropzone() {\n    setShowDropzone(true);\n  }\n  function handleFile(dossierId, numero, formData) {\n    onUploadFile(dossierId, numero, formData)\n      .then()\n      .catch(error => setError(error));\n    closeDropzone();\n  }\n  return (\n    <React.Fragment>\n      <Button\n        className={classes.button}\n        variant={variant}\n        color={color}\n        aria-label={label}\n        onClick={handleShowDropzone}\n        data-cy=\"file-upload-btn\"\n      >\n        {label}\n        <Icon className={classes.rightIcon}>{iconName}</Icon>\n      </Button>\n      {showDropzone && (\n        <FileUploadDialog\n          handleFile={handleFile}\n          onClose={closeDropzone}\n          acceptedFormats={acceptedFormats}\n        />\n      )}\n    </React.Fragment>\n  );\n}\nFileUploadButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  acceptedFormats: PropTypes.array.isRequired,\n  variant: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  iconName: PropTypes.string.isRequired,\n  onUploadFile: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired\n};\n\nexport default compose(withStyles(styles))(FileUploadButton);\n","import moment from 'moment';\n\nfunction format(date) {\n  if (date === undefined) return '';\n  let momentDate = moment(date);\n  return momentDate.format('DD/MM/YYYY à HH:mm');\n}\n\nfunction dateSortDesc(date1, date2) {\n  if (date1 > date2) return -1;\n  if (date1 < date2) return 1;\n  return 0;\n}\n\nexport { dateSortDesc };\n\nexport default format;\n","import React from 'react';\nimport DeposeIcon from '@material-ui/icons/CloudDownload';\nimport QualifieIcon from '@material-ui/icons/Assignment';\nimport IncompletIcon from '@material-ui/icons/AssignmentReturn';\nimport CompletIcon from '@material-ui/icons/AssignmentTurnedIn';\n\nconst steps = [\n  {\n    id: 'DEPOSE',\n    libelle: 'déposé',\n    variant: 'info',\n    icon: <DeposeIcon />\n  },\n  {\n    id: 'QUALIFIE',\n    libelle: 'qualifié',\n    variant: 'warning',\n    icon: <QualifieIcon />\n  },\n  {\n    id: 'INCOMPLET',\n    libelle: 'incomplet',\n    variant: 'error',\n    icon: <IncompletIcon />\n  },\n  {\n    id: 'COMPLET',\n    libelle: 'complet',\n    variant: 'success',\n    icon: <CompletIcon />\n  },\n  {\n    id: 'DECISION',\n    libelle: 'décidé',\n    variant: 'success',\n    icon: <CompletIcon />\n  }\n];\n\nfunction step(statutId) {\n  return steps.find(step => step.id === statutId);\n}\n\nfunction dossierWorkflow(dossier) {\n  const statutsSuivants = dossier.statutsRestants;\n  const concat_array = [...dossier.statuts, ...statutsSuivants];\n  return concat_array;\n}\n\nfunction emptyWorkflow() {\n  const emptyWorkflow = steps.filter(step => step.id !== 'INCOMPLET');\n  return emptyWorkflow;\n}\n\nexport { dossierWorkflow };\nexport { emptyWorkflow };\nexport { step };\n\nexport default steps;\n","/* eslint-disable react/display-name */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport AppAppBar from 'components/AppAppBar';\nimport AppFooter from 'components/AppFooter';\nimport AppTheme from 'theme/AppTheme';\nimport api from 'api/dossiers';\nimport { useAsync } from 'react-async';\nimport Error from 'pages/Error';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport compose from 'utils/compose';\nimport { withRouter } from 'react-router';\nimport { useUser } from 'context/user-context';\nimport FileUploadButton from 'components/files/FileUploadButton';\nimport MUIDataTable from 'mui-datatables';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport format from 'format/dates';\nimport { Chip } from '@material-ui/core';\nimport { step } from 'pages/protected/Dossiers/steps';\n\nasync function handleDossiers() {\n  return await api.listerDossiers();\n}\n\nfunction Dossiers(props) {\n  const {\n    data,\n    error,\n    setError,\n    isRejected,\n    isLoading,\n    isFulfilled,\n    reload\n  } = useAsync({\n    promiseFn: handleDossiers,\n    onReject: handleReject\n  });\n  const { history } = props;\n  const { isBeta, isDeposant } = useUser();\n  const theme = useTheme();\n  const isSmallMedia = useMediaQuery(theme.breakpoints.down('sm'));\n  const largeMediaColumns = [\n    {\n      name: 'type.libelle',\n      label: 'Type'\n    },\n    {\n      name: 'statutActuel.dateDebut',\n      label: 'Depuis le',\n      options: {\n        customBodyRender: (value, tableMeta, updateValue) => format(value)\n      }\n    },\n    { name: 'statutActuel.joursRestants', label: 'Jours restants' }\n  ];\n  const smallMediaColumns = [\n    { name: 'id', label: 'Id' },\n    {\n      name: 'statutActuel.id',\n      label: 'Statut',\n      options: {\n        customBodyRender: (value, tableMeta, updateValue) =>\n          isSmallMedia ? (\n            step(value).libelle\n          ) : (\n            <Chip\n              icon={step(value).icon}\n              label={step(value).libelle}\n              color=\"secondary\"\n            />\n          )\n      }\n    }\n  ];\n  const columns = isSmallMedia\n    ? smallMediaColumns\n    : [...smallMediaColumns, ...largeMediaColumns];\n\n  async function handleAjouterDossier(formData) {\n    await api.ajouterDossier(formData);\n    reload();\n  }\n  async function handleSupprimerDossier(id) {\n    await api.supprimerDossier(id);\n    reload();\n  }\n  async function handleReject(err) {\n    setError(err);\n  }\n\n  if (isRejected) return <Error error={error} />;\n  if (isLoading) return <LinearProgress />;\n  if (data && isFulfilled) {\n    return (\n      <AppTheme>\n        <AppAppBar />\n        <MUIDataTable\n          title=\"Dossiers\"\n          data={data}\n          columns={columns}\n          options={{\n            filter: true,\n            filterType: 'dropdown',\n            responsive: 'scrollFullHeight',\n            rowsPerPage: 5,\n            rowsPerPageOptions: [5, 10, 15],\n            customToolbar: () => {\n              return isBeta && isDeposant ? (\n                <FileUploadButton\n                  iconName=\"add\"\n                  color=\"secondary\"\n                  label=\"Ajouter\"\n                  variant=\"contained\"\n                  onUploadFile={handleAjouterDossier}\n                  setError={setError}\n                  acceptedFormats={['application/pdf']}\n                />\n              ) : (\n                undefined\n              );\n            },\n            customToolbarSelect: (selectedRows, displayData, setSelectedRows) =>\n              isBeta &&\n              isDeposant && (\n                <Tooltip title={'Supprimer'}>\n                  <IconButton\n                    onClick={() =>\n                      selectedRows.data.forEach(row =>\n                        handleSupprimerDossier(data[row.dataIndex].id)\n                      )\n                    }\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </Tooltip>\n              ),\n            onRowClick: (rowData, rowState) => {\n              history.push(`/dossiers/${rowData[0]}`);\n            },\n            textLabels: {\n              body: {\n                noMatch: 'Aucune donnée',\n                toolTip: 'Trier',\n                columnHeaderTooltip: column => `Trier par ${column.label}`\n              },\n              pagination: {\n                next: 'Page suivante',\n                previous: 'Page précédente',\n                rowsPerPage: 'Lignes par page:',\n                displayRows: 'de'\n              },\n              toolbar: {\n                search: 'Rechercher',\n                downloadCsv: 'Exporter en CSV',\n                print: 'Imprimer',\n                viewColumns: 'Voir les colonnes',\n                filterTable: 'Filtrer'\n              },\n              filter: {\n                all: 'Tout',\n                title: 'Filtres',\n                reset: 'Effacer'\n              },\n              viewColumns: {\n                title: 'Voir les colonnes',\n                titleAria: 'Voir/Cacher les colonnes'\n              },\n              selectedRows: {\n                text: 'ligne(s) sélectionnées',\n                delete: 'Supprimer',\n                deleteAria: 'Supprimer les lignes sélectionnées'\n              }\n            }\n          }}\n        />\n        <AppFooter />\n      </AppTheme>\n    );\n  }\n}\nDossiers.propTypes = {\n  history: PropTypes.object.isRequired\n};\n\nexport default compose(withRouter)(Dossiers);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withFormik } from 'formik';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles, Grid } from '@material-ui/core';\nimport Button from 'components/Button';\nimport SendIcon from '@material-ui/icons/Send';\nimport compose from 'utils/compose';\n\nconst styles = theme => ({\n  grid: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  }\n});\n\nconst formikValues = {\n  mapPropsToValues: props => ({\n    onSaveMessage: props.onSaveMessage,\n    dossierId: props.dossierId\n  }),\n  initialValues: () => {\n    return { message: '' };\n  },\n  validate: values => {\n    const errors = {};\n    if (!values.message) {\n      errors.message = 'Obligatoire';\n    }\n    return errors;\n  },\n  handleSubmit: (\n    values,\n    { setSubmitting, props: { onSaveMessage, dossierId } }\n  ) => {\n    onSaveMessage(dossierId, values.message);\n  },\n  displayName: 'MessageForm'\n};\n\nfunction MessageForm(props) {\n  const {\n    classes,\n    values,\n    touched,\n    errors,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isSubmitting\n  } = props;\n\n  return (\n    <Grid container className={classes.grid}>\n      <form onSubmit={handleSubmit}>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Message\"\n            rowsMax={10}\n            rows={10}\n            multiline\n            placeholder=\"Votre message\"\n            value={values.message}\n            onChange={handleChange}\n            onBlur={handleBlur}\n            name=\"message\"\n            data-cy=\"message-contenu-textarea\"\n            margin=\"normal\"\n            variant=\"filled\"\n            className={classes.textField}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Button\n            className={classes.button}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"secondary\"\n            aria-label=\"ajouter un nouveau message\"\n            data-cy=\"message-envoyer-btn\"\n            disabled={isSubmitting}\n          >\n            {`Envoyer`}\n            <SendIcon className={classes.rightIcon} />\n          </Button>\n        </Grid>\n        <Grid item xs={12}>\n          {errors.message && touched.message && (\n            <div id=\"feedback\">{errors.message}</div>\n          )}\n        </Grid>\n      </form>\n    </Grid>\n  );\n}\nMessageForm.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dossierId: PropTypes.string.isRequired,\n  values: PropTypes.object.isRequired,\n  touched: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  handleBlur: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  isSubmitting: PropTypes.bool.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  onSaveMessage: PropTypes.func.isRequired\n};\n\nexport default compose(\n  withStyles(styles),\n  withFormik(formikValues)\n)(MessageForm);\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core';\nimport Typography from 'components/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Slide from '@material-ui/core/Slide';\nimport MessageForm from 'pages/protected/Dossiers/Dossier/Messages/MessageForm';\n\nconst styles = theme => ({\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  },\n  dialogTitle: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n});\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\nTransition.displayName = 'TransitionNewMessgeDialog';\n\nfunction NewMessageDialog(props) {\n  const { classes, dossierId, initialState, onClose, onSaveMessage } = props;\n  const [open, setOpen] = React.useState(initialState);\n  function handleClose() {\n    onClose();\n    setOpen(false);\n  }\n  function handleSaveMessage(contenu) {\n    onSaveMessage(dossierId, contenu);\n    setOpen(false);\n  }\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"message-new-dialog-title\"\n      TransitionComponent={Transition}\n    >\n      <AppBar className={classes.appBar} color=\"secondary\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            {`Nouveau message`}\n          </Typography>\n          <IconButton\n            edge=\"end\"\n            color=\"inherit\"\n            onClick={handleClose}\n            aria-label=\"Close\"\n          >\n            <CloseIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <DialogContent>\n        <MessageForm\n          dossierId={dossierId}\n          onSaveMessage={(event, contenu) => handleSaveMessage(contenu)}\n        />\n      </DialogContent>\n    </Dialog>\n  );\n}\nNewMessageDialog.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  initialState: PropTypes.bool.isRequired,\n  dossierId: PropTypes.string.isRequired,\n  onSaveMessage: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(NewMessageDialog);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles, Fab } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport NewMessageDialog from 'pages/protected/Dossiers/Dossier/Messages/NewMessageDialog';\n\nconst styles = theme => ({\n  fab: {\n    backgroundColor: theme.palette.secondary.main,\n    margin: theme.spacing(1),\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(3)\n  }\n});\n\nfunction AddMessageButton(props) {\n  const { classes, dossierId, onSaveMessage } = props;\n  const [showNewDialog, setShowNewDialog] = useState(false);\n\n  function closeNewDialog() {\n    setShowNewDialog(false);\n  }\n  function handleShowNewDialog() {\n    setShowNewDialog(true);\n  }\n  return (\n    <React.Fragment>\n      <Fab\n        color=\"primary\"\n        data-cy=\"message-ajouter-btn\"\n        aria-label=\"Ajouter\"\n        className={classes.fab}\n        onClick={handleShowNewDialog}\n      >\n        <AddIcon color=\"primary\" />\n      </Fab>\n      {showNewDialog && (\n        <NewMessageDialog\n          dossierId={dossierId}\n          onClose={closeNewDialog}\n          initialState={true}\n          onSaveMessage={onSaveMessage}\n        />\n      )}\n    </React.Fragment>\n  );\n}\nAddMessageButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dossierId: PropTypes.string.isRequired,\n  onSaveMessage: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(AddMessageButton);\n","const listePiecesJointesDPMI = [\n  {\n    numero: 'd',\n    titre: 'Décision Mairie',\n    description: \"La copie de l'arrêté de la décision de la collectivité\",\n    formats: 'application/pdf',\n    required: false\n  },\n  {\n    numero: '0',\n    titre: 'CERFA 13703-06',\n    description:\n      'Déclaration préalable - Constructions et travaux non soumis à permis de construire portant sur une maison individuelle et/ou ses annexes',\n    formats: 'application/pdf',\n    required: true\n  },\n  {\n    numero: '1',\n    titre: 'DP1 - Plan de situation',\n    description:\n      'Un plan de situation du terrain [Art. R. 431-36 a) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '2',\n    titre: 'DP2 - Plan de masse',\n    description:\n      'Un plan de masse coté dans les 3 dimensions [Art. R. 431-36 b) du code de l’urbanisme]. À fournir si votre projet crée une construction ou modifie le volume d’une construction existante (exemples : véranda, abri de jardin…)',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '3',\n    titre: 'DP3 - Plan de coupe',\n    description:\n      'Un plan en coupe précisant l’implantation de la construction par rapport au profil du terrain [Art. R. 431-10b) du code de l’urbanisme]. À fournir si votre projet modifie le profil du terrain (exemple : piscine enterrée…)',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '4',\n    titre: 'DP4 - Plan des façades et des toitures',\n    description:\n      'Un plan des façades et des toitures [Art. R. 431-10a) du code de l’urbanisme]. À fournir si votre projet les modifie (exemple : pose d’une fenêtre de toit, création d’une porte..). Inutile pour un simple ravalement de façade.',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '5',\n    titre: \"DP5 - Représentation de l'aspect extérieur\",\n    description:\n      'Une représentation de l’aspect extérieur de la construction faisant apparaître les modifications projetées [Art. R. 431-36c) du code de l’urbanisme] À fournir uniquement si la pièce DP4 est insuffisante pour montrer la modification envisagée.',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '6',\n    titre: \"DP6 - Document graphique d'insertion\",\n    description:\n      'Un document graphique permettant d’apprécier l’insertion du projet de construction dans son environnement [Art. R. 431-10 c du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '7',\n    titre: 'DP7 - Photo de situation proche ',\n    description:\n      'Une photographie permettant de situer le terrain dans l’environnement proche [Art. R. 431-10 d) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '8',\n    titre: 'DP8 - Photo de situation lointaine',\n    description:\n      'Une photographie permettant de situer le terrain dans le paysage lointain, sauf si vous justifiez qu’aucune photographie de loin n’est possible [Art. R. 431-10 d) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '8-1',\n    titre: 'DP8-1 - Note des dérogations',\n    description:\n      'Une note précisant la nature de la ou des dérogations demandées et justifiant du respect des objectifs et des conditions fixées aux articles L. 151-29-1 et L. 152-6 du code de l’urbanisme pour chacune des dérogations demandées. [Art. R. 431-31-2 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '11',\n    titre: 'DP11 - Notice des matériaux',\n    description:\n      'Une notice faisant apparaître les matériaux utilisés et les modalités d’exécution des travaux [Art. R. 431-14, R. 431-14-1 et R. 441-8-1 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '11-1',\n    titre: 'DP11-1 - Dossier R331-19',\n    description:\n      'Le dossier prévu au II de l’article R. 331-19 du code de l’environnement [Art. R. 431-14-1 et R. 441-8-1 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '12-1',\n    titre: 'DP12-1 - Document R111-21',\n    description:\n      'Un document prévu par l’article R. 111-21 du code de la construction et de l’habitation attestant que la construction fait preuve d’exemplarité énergétique ou d’exemplarité environnementale ou est à énergie positive selon les critères définis par ces dispositions [Art. R. 431-18 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '12-2',\n    titre: 'DP12-2 - Dossier R111-23',\n    description:\n      'Un document par lequel le demandeur s’engage à installer des dispositifs conformes aux dispositions de l’arrêté prévu au 2° de l’article R. 111-23 [Art. R. 431-18-1 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '14',\n    titre: 'DP14 - Note dérogation accessibilité',\n    description:\n      'Une note précisant la nature des travaux pour lesquels une dérogation est sollicitée et justifiant que ces travaux sont nécessaires pour permettre l’accessibilité du logement à des personnes handicapées [Art. R. 431-31 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '15',\n    titre: 'DP15 - Contrat servitude cours communes',\n    description:\n      'Une copie du contrat ou de la décision judiciaire relatif à l’institution de ces servitudes [Art. R. 431-32 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '16',\n    titre: 'DP16 - Contrat transfert des possibilités de construction',\n    description:\n      'Une copie du contrat ayant procédé au transfert des possibilités de construction résultant du coefficient d’occupation des sols [Art. R. 431-33 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '17',\n    titre: 'DP17 - Graphique plan de sauvegarde et de mise en valeur',\n    description:\n      'Un document graphique faisant apparaître l’état initial et l’état futur de chacun des éléments ou parties faisant l’objet de travaux [Art. R .431-37 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '22',\n    titre: 'DP22 - Convention projet urbain partenarial',\n    description:\n      'L’extrait de la convention précisant le lieu du projet urbain partenarial et la durée d’exonération de la taxe d’aménagement [Art. R. 431-23-2 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '23',\n    titre: 'DP23 - Agrément',\n    description:\n      'La copie de l’agrément [Art. R. 431-16 g) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  }\n];\n\nexport { listePiecesJointesDPMI };\n","const listePiecesJointesPCMI = [\n  {\n    numero: 'd',\n    titre: 'Décision Mairie',\n    description: \"La copie de l'arrêté de la décision de la collectivité\",\n    formats: 'application/pdf',\n    required: false\n  },\n  {\n    numero: '0',\n    titre: 'CERFA 13406-06',\n    description:\n      'Demande de Permis de construire pour une maison individuelle et/ou ses annexes comprenant ou non des démolitions',\n    formats: 'application/pdf',\n    required: true\n  },\n  {\n    numero: '1',\n    titre: 'PCMI1 - Plan de situation',\n    description:\n      'Un plan de situation du terrain [Art. R. 431-7 a) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '2',\n    titre: 'PCMI2 - Plan de masse',\n    description:\n      'Un plan de masse des constructions à édifier ou à modifier [Art. R. 431-9 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '3',\n    titre: 'PCMI3 - Plan de coupe',\n    description:\n      'Un plan en coupe du terrain et de la construction [Article R. 431-10 b) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '4',\n    titre: 'PCMI4 - Notice descriptive',\n    description:\n      'Une notice décrivant le terrain et présentant le projet [Art. R. 431-8 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '5',\n    titre: 'PCMI5 - Plan des façades',\n    description:\n      'Un plan des façades et des toitures [Art. R. 431-10 a) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '6',\n    titre: \"PCMI6 - Document graphique d'insertion\",\n    description:\n      'Un document graphique permettant d’apprécier l’insertion du projet de construction dans son environnement [Art. R. 431-10 c) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '7',\n    titre: 'PCMI7 - Photo de situation proche ',\n    description:\n      'Une photographie permettant de situer le terrain dans l’environnement proche [Art. R. 431-10 d) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '8',\n    titre: 'PCMI8 - Photo de situation lointaine',\n    description:\n      'Une photographie permettant de situer le terrain dans le paysage lointain [Art. R. 431-10 d) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '9',\n    titre: 'PCMI9 - Certificat surface constructible',\n    description:\n      'Le certificat indiquant la surface constructible attribuée à votre lot [Art. R. 442-11 1er al du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '10',\n    titre: 'PCMI10 - Certificat achèvement des équipements',\n    description:\n      'Le certificat attestant l’achèvement des équipements desservant le lot [Art. R. 431-22-1 a) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '11',\n    titre: 'PCMI11 - Cahier des charges de cession du terrain',\n    description:\n      'Une copie des dispositions du cahier des charges de cession de terrain qui indiquent le codebre de m² constructibles sur la parcelle et, si elles existent, des dispositions du cahier des charges, qui fixent les prescriptions techniques, urbanistiques et architecturales imposées pour la durée de réalisation de la zone [Art. R. 431-23 a) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '12',\n    titre:\n      'PCMI12 - Convention participation au coût des équipements collectifs',\n    description:\n      'La convention entre la commune ou l’établissement public et vous qui fixe votre participation au coût des équipements de la zone [Art. R. 431-23 b) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '12-1',\n    titre: 'PCMI12-1 - Dossier évaluation des incidences',\n    description:\n      'Le dossier d’évaluation des incidences prévu à l’art. R. 414-23 du code de l’environnement [Art. R.431-16 c) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '12-2',\n    titre: 'PCMI12-2 - Attestation conformité',\n    description:\n      'L’attestation de conformité du projet d’installation [Art. R.431-16 d) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '13',\n    titre: 'PCMI13 - Attestation contrôleur technique',\n    description:\n      'L’attestation d’un contrôleur technique [Art. R. 431-16 e) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '14',\n    titre: 'PCMI14 - Attestation architecte',\n    description:\n      'L’attestation de l’architecte ou de l’expert certifiant que l’étude a été réalisée et que le projet la prend en compte [Art. R. 431-16 f) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '14-1',\n    titre: 'PCMI14-1 - Attestation réglementation thermique',\n    description:\n      'Le formulaire attestant la prise en compte de la réglementation thermique [Art. R. 431-16 j) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '15',\n    titre: 'PCMI15 - Attestation exemplarité environnementale',\n    description:\n      'Un document prévu par l’article R. 111-21 du code de la construction et de l’habitation attestant que la construction fait preuve d’exemplarité énergétique ou d’exemplarité environnementale ou est à énergie positive selon les critères définis par ces dispositions [Art. R. 431-18 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '16',\n    titre: 'PCMI16 - Document engagement R. 111-23',\n    description:\n      'Un document par lequel le demandeur s’engage à installer des dispositifs conformes aux dispositions de l’arrêté prévu au 2° de l’article R. 111-23 [Art. R. 431-18-1 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '17',\n    titre: 'PCMI17 - Lettre du préfet sur défrichement',\n    description:\n      'La copie de la lettre du préfet qui vous fait savoir que votre demande d’autorisation de défrichement est complète, si le défrichement est ou non soumis à reconnaissance de la situation et de l’état des terrains et si la demande doit ou non faire l’objet d’une enquête publique [Art. R. 431-19 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '18',\n    titre: 'PCMI18 - Justificatif dépôt permis de démolir',\n    description:\n      'La justification du dépôt de la demande de permis de démolir [Art. R. 431-21 a) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '19',\n    titre: 'PCMI19 - Pièces jointes au permis de démolir',\n    description:\n      'Les pièces à joindre à une demande de permis de démolir, selon l’Annexe ci-jointe [Art. R. 431-21 b) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '20',\n    titre: 'PCMI20 - Accord gestionnaire domaine public',\n    description:\n      'L’accord du gestionnaire du domaine pour engager la procédure d’autorisation d’occupation temporaire du domaine public [Art. R. 431-13 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '21',\n    titre: 'PCMI21 - Notice matérieaux',\n    description:\n      'Une notice faisant apparaître les matériaux utilisés et les modalités d’exécution des travaux [Art. R. 431-14 et R. 431-14-1 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '21-1',\n    titre: 'PCMI21-1 - Dossier R. 331-19',\n    description:\n      'Le dossier prévu au II de l’article R. 331-19 du code de l’environnement [Art. R. 431-14-1 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '22',\n    titre: 'PCMI22 - Plan situation stationnements',\n    description:\n      ' Le plan de situation du terrain sur lequel seront réalisées les aires de stationnement et le plan des constructions et des aménagements correspondants [Art. R. 431-26 a) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '23',\n    titre: 'PCMI23 - Promesse concession',\n    description:\n      ' La promesse synallagmatique de concession ou d’acquisition [Art. R. 431-26 b) du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '23-1',\n    titre: 'PCMI23-1 - Note dérogation accessibilité',\n    description:\n      'Une note précisant la nature des travaux pour lesquels une dérogation est sollicitée et justifiant que ces travaux sont nécessaires pour permettre l’accessibilité du logement à des personnes handicapées [Art. R. 431-31 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '23-2',\n    titre: 'PCMI23-2 - Demande dérogation R. 111-1-2',\n    description:\n      'Une demande de dérogation comprenant les précisions et les justifications définies à l’article R. 111-1-2 du code de la construction et de l’habitation [Art. R. 431-31-1 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '23-3',\n    titre: 'PCMI23-3 - Note dérogations Art. R. 431-31-2',\n    description:\n      'Une note précisant la nature de la ou des dérogations demandées justifiant du respect des objectifs et des conditions fixées aux articles L. 151-29-1 et L. 152-6 du code de l’urbanisme pour chacune des dérogations demandées. [Art. R. 431-31-2 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '24',\n    titre: 'PCMI24 - Contrat servitudes',\n    description:\n      'Une copie du contrat ou de la décision judiciaire relatifs à l’institution de ces servitudes [Art. R. 431-32 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '25',\n    titre: 'PCMI25 - Contrat transfert COS',\n    description:\n      'Une copie du contrat ayant procédé au transfert des possibilités de construction résultant du COS [Art. R. 431-33 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  },\n  {\n    numero: '26',\n    titre: 'PCMI26 - Extrait convention projet urbain partenarial',\n    description:\n      'L’extrait de la convention précisant le lieu du projet urbain partenarial et la durée d’exonération de la taxe d’aménagement [Art. R. 431-23-2 du code de l’urbanisme]',\n    formats: 'application/pdf,image/*',\n    required: false\n  }\n];\n\nexport { listePiecesJointesPCMI };\n","import { listePiecesJointesDPMI } from 'pages/protected/Dossiers/Dossier/PiecesJointes/listePiecesJointesDPMI';\nimport { listePiecesJointesPCMI } from 'pages/protected/Dossiers/Dossier/PiecesJointes/listePiecesJointesPCMI';\n\nfunction liste(typeDemande) {\n  let lowtypeDemande = typeDemande ? typeDemande.toLowerCase() : '';\n  switch (lowtypeDemande) {\n    case 'DPMI':\n      return listePiecesJointesDPMI;\n    case 'PCMI':\n      return listePiecesJointesPCMI;\n    default:\n      return [];\n  }\n}\n\nfunction addDossierIdAndFichierId(pj, dossier, numero) {\n  if (pj) {\n    pj.DossierId = dossier.id;\n    if (numero === dossier.cerfa.numero) {\n      pj.fichierId = dossier.cerfa.fichierId;\n    } else if (dossier.decision && numero === dossier.decision.numero) {\n      pj.fichierId = dossier.decision.fichierId;\n    } else {\n      let pieceJointe = dossier.piecesJointes.find(pj => pj.numero === numero);\n      pj.fichierId = pieceJointe ? pieceJointe.fichierId : null;\n    }\n  }\n  return pj;\n}\n\nfunction pieceJointe(dossier, numero) {\n  let pj = {};\n  switch (dossier.type.id) {\n    case 'DPMI':\n      pj = listePiecesJointesDPMI.find(pj => pj.numero === numero);\n      return addDossierIdAndFichierId(pj, dossier, numero);\n    case 'PCMI':\n      pj = listePiecesJointesPCMI.find(pj => pj.numero === numero);\n      return addDossierIdAndFichierId(pj, dossier, numero);\n    default:\n      return pj;\n  }\n}\n\nfunction cerfa(dossier) {\n  return pieceJointe(dossier, dossier.cerfa.numero);\n}\n\nfunction decision(dossier) {\n  return pieceJointe(dossier, dossier.decision.numero);\n}\n\nfunction isCerfa(pieceJointe) {\n  return pieceJointe.numero === '0';\n}\n\nfunction isDecision(pieceJointe) {\n  return pieceJointe.numero === 'd';\n}\n\nexport { liste };\nexport { pieceJointe };\nexport { cerfa };\nexport { isCerfa };\nexport { decision };\nexport { isDecision };\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core';\nimport Typography from '../Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Slide from '@material-ui/core/Slide';\n\nconst styles = theme => ({\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  },\n  dialogTitle: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  },\n  pdfContent: {\n    width: '100%',\n    height: '100%'\n  }\n});\n\nconst Transition = forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\nTransition.displayName = 'TransitionDialog';\n\nfunction FilePreview(props) {\n  const { classes, file, initialState, onClose } = props;\n  const [open, setOpen] = React.useState(initialState);\n  function handleClose() {\n    onClose();\n    setOpen(false);\n  }\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"pieceJointe-preview-dialog-title\"\n      fullScreen={file.type === 'application/pdf'}\n      TransitionComponent={Transition}\n    >\n      <AppBar className={classes.appBar} color=\"secondary\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            {`Aperçu de ${file.nom}`}\n          </Typography>\n          <IconButton\n            edge=\"end\"\n            color=\"inherit\"\n            onClick={handleClose}\n            aria-label=\"Close\"\n            data-cy=\"file-preview-close-btn\"\n          >\n            <CloseIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <DialogContent>\n        {file.type === 'application/pdf' && (\n          <embed\n            src={file.data}\n            type={file.type}\n            aria-label={file.nom}\n            className={classes.pdfContent}\n          />\n        )}\n        {file.type.startsWith('image/') && (\n          <img src={file.data} alt={file.nom} />\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\nFilePreview.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  initialState: PropTypes.bool.isRequired,\n  file: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(FilePreview);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport api from 'api/dossiers';\nimport FilePreview from 'components/files/FilePreview';\nimport Button from 'components/Button';\nimport { useAsync } from 'react-async';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Error from 'pages/Error';\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing(1)\n  },\n  buttonWrapper: {\n    margin: theme.spacing(1),\n    position: 'relative'\n  },\n  buttonProgress: {\n    color: 'inherit',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  rightIcon: {\n    marginLeft: theme.spacing(1)\n  }\n});\n\nasync function handleFilePreview(fichierId) {\n  let fichier = null;\n  if (\n    fichierId &&\n    fichierId !== null &&\n    fichierId.fichierId &&\n    fichierId.fichierId !== null\n  )\n    fichier = await api.lireFichier(fichierId.fichierId);\n  return { file: fichier };\n}\n\nfunction FilePreviewButton(props) {\n  const { classes, fichierId, label } = props;\n  const [showPreview, setShowPreview] = useState(fichierId !== null);\n  const [showPreviewDialog, setShowPreviewDialog] = useState(false);\n  const {\n    data = {\n      file: null\n    },\n    isSettled,\n    isLoading,\n    isRejected,\n    error\n  } = useAsync({\n    promiseFn: handleFilePreview,\n    fichierId: fichierId\n  });\n  const { file } = data;\n  useEffect(() => {\n    if (isSettled) {\n      if (file && file !== null) setShowPreview(true);\n    }\n  }, [isSettled, file]);\n\n  function closePreviewDialog() {\n    setShowPreviewDialog(false);\n  }\n  function handleShowPreviewDialog() {\n    setShowPreviewDialog(true);\n  }\n  if (isRejected) return <Error error={error} />;\n  return (\n    <React.Fragment>\n      {showPreview && isSettled && file && (\n        <React.Fragment>\n          <div className={classes.buttonWrapper}>\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"secondary\"\n              aria-label=\"prévisualiser\"\n              onClick={handleShowPreviewDialog}\n              disabled={isLoading}\n              data-cy=\"file-preview-btn\"\n            >\n              {label ? label : 'Prévisualiser'}\n              <VisibilityIcon className={classes.rightIcon} />\n            </Button>\n          </div>\n          {isLoading && (\n            <CircularProgress size={24} className={classes.buttonProgress} />\n          )}\n          {showPreviewDialog && (\n            <FilePreview\n              file={file}\n              onClose={closePreviewDialog}\n              initialState={true}\n            />\n          )}\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n}\nFilePreviewButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  fichierId: PropTypes.string,\n  label: PropTypes.string,\n  setError: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(FilePreviewButton);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core';\nimport api from 'api/dossiers';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport FileUploadButton from 'components/files/FileUploadButton';\nimport {\n  isCerfa,\n  isDecision\n} from 'pages/protected/Dossiers/Dossier/PiecesJointes/piecesjointes';\nimport { useUser } from 'context/user-context';\nimport FilePreviewButton from 'components/files/FilePreviewButton';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 400,\n    marginBottom: theme.spacing(1)\n  },\n  content: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  actions: {\n    display: 'flex'\n  }\n});\n\nfunction PieceJointe(props) {\n  const { classes, pieceJointe, setError, reload } = props;\n\n  const { isDeposant } = useUser();\n\n  async function handleSavePieceJointe(file) {\n    await api.savePieceJointe(pieceJointe.DossierId, pieceJointe.numero, file);\n    reload();\n  }\n  function title(text, required) {\n    var title = text;\n    if (required) text += '(* obligatoire)';\n    return title;\n  }\n\n  return (\n    <Card className={classes.card}>\n      <CardHeader title={title(pieceJointe.titre, pieceJointe.required)} />\n      <CardContent className={classes.content}>\n        {pieceJointe.description}\n      </CardContent>\n      <CardActions disableSpacing className={classes.actions}>\n        {isDeposant && !isCerfa(pieceJointe) && !isDecision(pieceJointe) && (\n          <FileUploadButton\n            iconName=\"cloud_upload\"\n            label=\"Téléverser\"\n            variant=\"outlined\"\n            color=\"inherit\"\n            onUploadFile={handleSavePieceJointe}\n            setError={setError}\n            acceptedFormats={pieceJointe.formats.split(',')}\n          />\n        )}\n        <FilePreviewButton\n          fichierId={pieceJointe.fichierId}\n          setError={setError}\n        />\n      </CardActions>\n    </Card>\n  );\n}\nPieceJointe.propTypes = {\n  classes: PropTypes.object.isRequired,\n  pieceJointe: PropTypes.object.isRequired,\n  setError: PropTypes.func.isRequired,\n  reload: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(PieceJointe);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport PersonneAvatar from 'components/PersonneAvatar';\nimport { nomCompletAvecProfils } from 'users/people';\nimport format from 'format/dates';\n\nconst styles = theme => ({\n  card: {\n    marginBottom: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  header: {\n    display: 'flex'\n  },\n  content: {\n    overflowWrap: 'break-word'\n  }\n});\n\nfunction Message(props) {\n  const { classes, message } = props;\n\n  return (\n    <Card className={classes.card}>\n      <CardHeader\n        avatar={<PersonneAvatar personne={message.auteur} />}\n        title={nomCompletAvecProfils(message.auteur)}\n        subheader={`Le ${format(message.date)}`}\n        className={classes.header}\n      />\n      <CardContent className={classes.content}>{message.contenu}</CardContent>\n    </Card>\n  );\n}\nMessage.propTypes = {\n  classes: PropTypes.object.isRequired,\n  message: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Message);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Message from 'pages/protected/Dossiers/Dossier/Messages/Message';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport { dateSortDesc } from 'format/dates';\n\nconst useStyles = makeStyles(theme => ({\n  grid: {\n    flexGrow: 1\n  }\n}));\n\nfunction isFromProfil(message, profil) {\n  return message.auteur.profils.includes(profil);\n}\n\nfunction MessagesBigMediaChat(props) {\n  const { messages } = props;\n  return (\n    <React.Fragment>\n      {messages.length > 1\n        ? messages.sort(dateSortDesc).map((message, index) => (\n            <React.Fragment key={index}>\n              <Grid item xs={6}>\n                {isFromProfil(message, 'DEPOSANT') && (\n                  <Message message={message} />\n                )}\n              </Grid>\n              <Grid item xs={6}>\n                {isFromProfil(message, 'INSTRUCTEUR') && (\n                  <Message message={message} />\n                )}\n              </Grid>\n            </React.Fragment>\n          ))\n        : messages.length > 0 && <Message message={messages[0]} />}\n    </React.Fragment>\n  );\n}\nMessagesBigMediaChat.propTypes = {\n  messages: PropTypes.array.isRequired\n};\n\nfunction MessagesChat(props) {\n  const { messages } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const isSmallMedia = useMediaQuery(theme.breakpoints.down('sm'));\n  return (\n    <Grid container spacing={1} className={classes.grid}>\n      <Grid container item xs={12} spacing={3}>\n        {!isSmallMedia ? (\n          <MessagesBigMediaChat messages={messages} />\n        ) : (\n          messages.map((message, index) => (\n            <Message message={message} key={index} />\n          ))\n        )}\n      </Grid>\n    </Grid>\n  );\n}\nMessagesChat.propTypes = {\n  messages: PropTypes.array.isRequired\n};\nexport default MessagesChat;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport steps from 'pages/protected/Dossiers/steps';\nimport StepConnector from '@material-ui/core/StepConnector';\nimport format from 'format/dates';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { StepContent } from '@material-ui/core';\n\nconst useColorlibStepIconStyles = makeStyles({\n  root: {\n    backgroundColor: '#ccc',\n    zIndex: 1,\n    color: '#fff',\n    width: 50,\n    height: 50,\n    display: 'flex',\n    borderRadius: '50%',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  active: {\n    backgroundImage:\n      'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\n    boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)'\n  },\n  completed: {\n    backgroundImage:\n      'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)'\n  }\n});\n\nconst ColorlibConnector = withStyles({\n  alternativeLabel: {\n    top: 22\n  },\n  active: {\n    '& $line': {\n      backgroundImage:\n        'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n    }\n  },\n  completed: {\n    '& $line': {\n      backgroundImage:\n        'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n    }\n  },\n  line: {\n    height: 3,\n    border: 0,\n    backgroundColor: '#eaeaf0',\n    borderRadius: 1\n  }\n})(StepConnector);\n\nfunction ColorlibStepIcon(props) {\n  const classes = useColorlibStepIconStyles();\n  const { active, completed, icon } = props;\n  const icons = steps.map(step => step.icon);\n  return (\n    <div\n      className={clsx(classes.root, {\n        [classes.active]: active,\n        [classes.completed]: completed\n      })}\n    >\n      {icons[String(icon - 1)]}\n    </div>\n  );\n}\nColorlibStepIcon.propTypes = {\n  active: PropTypes.bool,\n  completed: PropTypes.bool,\n  icon: PropTypes.node\n};\n\nfunction texteDate(dateDebut) {\n  return dateDebut ? 'le ' + format(dateDebut) : '';\n}\n\nfunction Etapes(props) {\n  const { activeStepId, steps } = props;\n  const activeStep = steps.find(step => step.id === activeStepId);\n  const activeStepIndex = steps.lastIndexOf(activeStep);\n  const stepProps = {};\n  const labelProps = {};\n  const theme = useTheme();\n  const isSmallMedia = useMediaQuery(theme.breakpoints.down('sm'));\n\n  return (\n    <Stepper\n      activeStep={activeStepIndex}\n      alternativeLabel={!isSmallMedia}\n      connector={isSmallMedia ? undefined : <ColorlibConnector />}\n      orientation={isSmallMedia ? 'vertical' : 'horizontal'}\n    >\n      {steps.map(step => (\n        <Step\n          key={step.id}\n          data-cy={`step-${step.id}`}\n          {...stepProps}\n          error={step.error ? step.error.toString() : ''}\n        >\n          <StepLabel\n            StepIconComponent={ColorlibStepIcon}\n            {...labelProps}\n            error={step.error ? step.error : false}\n          >\n            {isSmallMedia\n              ? step.libelle\n              : step.libelle + ' ' + texteDate(step.dateDebut)}\n          </StepLabel>\n          {isSmallMedia && (\n            <StepContent>{texteDate(step.dateDebut)}</StepContent>\n          )}\n        </Step>\n      ))}\n    </Stepper>\n  );\n}\nEtapes.propTypes = {\n  activeStepId: PropTypes.string.isRequired,\n  steps: PropTypes.array.isRequired\n};\nexport default Etapes;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core';\nimport AddCommentIcon from '@material-ui/icons/AddComment';\nimport Button from 'components/Button';\nimport NewMessageDialog from 'pages/protected/Dossiers/Dossier/Messages/NewMessageDialog';\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing(1)\n  },\n  rightIcon: {\n    marginLeft: theme.spacing(1)\n  }\n});\n\nfunction DeclarerIncompletButton(props) {\n  const { classes, dossierId, onSaveMessage } = props;\n  const [showNewDialog, setShowNewDialog] = useState(false);\n\n  function closeNewDialog() {\n    setShowNewDialog(false);\n  }\n  function handleShowNewDialog() {\n    setShowNewDialog(true);\n  }\n  return (\n    <React.Fragment>\n      <Button\n        className={classes.button}\n        variant=\"contained\"\n        color=\"secondary\"\n        aria-label=\"déclarer incomplet\"\n        onClick={handleShowNewDialog}\n        data-cy=\"declarer-incomplet-btn\"\n      >\n        {`Incomplet`}\n        <AddCommentIcon />\n      </Button>\n      {showNewDialog && (\n        <NewMessageDialog\n          dossierId={dossierId}\n          onClose={closeNewDialog}\n          initialState={true}\n          onSaveMessage={onSaveMessage}\n        />\n      )}\n    </React.Fragment>\n  );\n}\nDeclarerIncompletButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dossierId: PropTypes.string.isRequired,\n  onSaveMessage: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(DeclarerIncompletButton);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport api from 'api/dossiers';\nimport Button from 'components/Button';\nimport FileUploadButton from 'components/files/FileUploadButton';\nimport { useUser } from 'context/user-context';\nimport FilePreviewButton from 'components/files/FilePreviewButton';\nimport {\n  cerfa,\n  decision\n} from 'pages/protected/Dossiers/Dossier/PiecesJointes/piecesjointes';\nimport DeclarerIncompletButton from 'pages/protected/Dossiers/Dossier/Etapes/DeclarerIncompletButton';\nimport Typography from 'components/Typography';\nimport Grid from '@material-ui/core/Grid';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  }\n});\n\nfunction Actions(props) {\n  const { classes, dossier, match, setError, reload } = props;\n  const id = match.params.id;\n  const { isMairie, isInstructeur } = useUser();\n\n  async function handleQualifier() {\n    await api.qualifierDossier(id);\n    reload();\n  }\n  async function handleDeclarerIncomplet(contenu) {\n    await api.declarerIncompletDossier(id, contenu);\n    reload();\n  }\n  async function handleDeclarerComplet() {\n    await api.declarerCompletDossier(id);\n    reload();\n  }\n  async function handlePrendreDecision(formData) {\n    await api.prendreDecision(id, formData);\n    reload();\n  }\n  return (\n    <Grid container className={classes.root}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\" marked=\"center\" align=\"center\">\n          {`CERFA initial`}\n        </Typography>\n        <FilePreviewButton\n          fichierId={cerfa(dossier).fichierId}\n          label=\"CERFA\"\n          setError={setError}\n        />\n        {dossier.statutActuel.id === 'DECISION' && (\n          <React.Fragment>\n            <Typography variant=\"h6\" marked=\"center\" align=\"center\">\n              {`Décision`}\n            </Typography>\n            <FilePreviewButton\n              fichierId={decision(dossier).fichierId}\n              label=\"Décision\"\n              setError={setError}\n            />\n          </React.Fragment>\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        {((isMairie &&\n          ['DEPOSE', 'COMPLET'].includes(dossier.statutActuel.id)) ||\n          (isInstructeur &&\n            ['QUALIFIE', 'INCOMPLET'].includes(dossier.statutActuel.id))) && (\n          <Typography variant=\"h6\" marked=\"center\" align=\"center\">\n            {`Actions`}\n          </Typography>\n        )}\n        {isMairie && dossier.statutActuel.id === 'DEPOSE' && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={event => handleQualifier()}\n            data-cy=\"qualifier-btn\"\n          >\n            {`Qualifier`}\n          </Button>\n        )}\n        {isInstructeur &&\n          ['QUALIFIE', 'INCOMPLET'].includes(dossier.statutActuel.id) && (\n            <React.Fragment>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={event => handleDeclarerComplet()}\n                data-cy=\"declarer-complet-btn\"\n              >\n                {`Complet`}\n              </Button>\n              <DeclarerIncompletButton\n                dossierId={dossier.id}\n                onSaveMessage={(event, contenu) =>\n                  handleDeclarerIncomplet(contenu)\n                }\n              />\n            </React.Fragment>\n          )}\n        {isMairie && dossier.statutActuel.id === 'COMPLET' && (\n          <FileUploadButton\n            iconName=\"attach_file\"\n            color=\"secondary\"\n            label=\"Décider\"\n            variant=\"contained\"\n            onUploadFile={handlePrendreDecision}\n            setError={setError}\n            acceptedFormats={['application/pdf']}\n          />\n        )}\n      </Grid>\n    </Grid>\n  );\n}\nActions.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dossier: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired,\n  setError: PropTypes.func.isRequired,\n  reload: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(Actions);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppTheme from 'theme/AppTheme';\nimport { withRouter } from 'react-router-dom';\nimport AppAppBar from 'components/AppAppBar';\nimport AppFooter from 'components/AppFooter';\nimport compose from 'utils/compose';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAsync } from 'react-async';\nimport api from 'api/dossiers';\nimport Error from 'pages/Error';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport NotFound from 'pages/NotFound';\nimport Typography from 'components/Typography';\nimport { dossierWorkflow } from 'pages/protected/Dossiers/steps';\nimport Grid from '@material-ui/core/Grid';\nimport { useUser } from 'context/user-context';\nimport AddMessageButton from 'pages/protected/Dossiers/Dossier/Messages/AddMessageButton';\nimport EmailIcon from '@material-ui/icons/Email';\nimport AttachIcon from '@material-ui/icons/AttachFile';\nimport { Badge } from '@material-ui/core';\nimport PieceJointe from 'pages/protected/Dossiers/Dossier/PiecesJointes/PieceJointe';\nimport { pieceJointe } from 'pages/protected/Dossiers/Dossier/PiecesJointes/piecesjointes';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport MessagesChat from 'pages/protected/Dossiers/Dossier/Messages/MessagesChat';\nimport Etapes from 'pages/protected/Dossiers/Dossier/Etapes';\nimport Actions from 'pages/protected/Dossiers/Dossier/Etapes/Actions';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  content: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  grid: {\n    flexGrow: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  buttons: {\n    flexGrow: 1,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  tabs: {\n    flexGrow: 1\n  }\n}));\n\nasync function handleDossier({ id }) {\n  return { dossier: await api.consulterDossier(id) };\n}\n\nfunction JoursRestants(props) {\n  const { dossier } = props;\n  return (\n    <Typography variant=\"h6\" marked=\"center\" align=\"center\">\n      {dossier.statutsRestants.length > 0 &&\n        `Il reste ${\n          dossier.statutActuel.joursRestants\n        } jours avant qu'il soit ${\n          dossier.statutsRestants.length > 0\n            ? ['INCOMPLET', 'COMPLET'].includes(dossier.statutsRestants[0].id)\n              ? `déclaré ${dossier.statutsRestants[0].libelle} ou ${dossier.statutsRestants[1].libelle}`\n              : dossier.statutsRestants[0].libelle\n            : ''\n        }`}\n    </Typography>\n  );\n}\nJoursRestants.propTypes = {\n  classes: PropTypes.object,\n  dossier: PropTypes.object.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  const classes = useStyles();\n  return (\n    <Typography\n      variant=\"body2\"\n      marked=\"center\"\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      <Grid container spacing={1} className={classes.grid}>\n        <Grid item xs={12}>\n          {children}\n        </Grid>\n      </Grid>\n    </Typography>\n  );\n}\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction Dossier(props) {\n  const { match } = props;\n  const classes = useStyles();\n  const id = match.params.id;\n  const { isDeposant, isBeta, isInstructeur } = useUser();\n  const {\n    data = { dossier: null },\n    error,\n    isLoading,\n    isRejected,\n    reload,\n    setError\n  } = useAsync({\n    promiseFn: handleDossier,\n    id: id\n  });\n  const [tabValue, setTabValue] = React.useState(0);\n  function handleChange(event, newValue) {\n    setTabValue(newValue);\n  }\n  async function handleSaveMessage(contenu) {\n    await api.saveMessage(id, contenu);\n    reload();\n  }\n\n  if (isRejected) return <Error error={error.message} />;\n  if (isLoading) return <LinearProgress />;\n  if (data) {\n    const { dossier } = data;\n    if (!dossier) return <NotFound />;\n    return (\n      <AppTheme>\n        <AppAppBar />\n        <Typography variant=\"h3\" marked=\"center\" align=\"center\">\n          {`Dossier n°${dossier.id}`}\n        </Typography>\n        <div className={classes.tabs}>\n          <AppBar position=\"static\" color=\"inherit\">\n            <Tabs\n              value={tabValue}\n              onChange={handleChange}\n              aria-label=\"onglets\"\n              centered\n              indicatorColor=\"secondary\"\n              textColor=\"secondary\"\n              variant=\"fullWidth\"\n            >\n              <Tab label=\"Étapes\" data-cy=\"etapes-tab\" {...a11yProps(0)} />\n              <Tab\n                icon={\n                  <Badge\n                    className={classes.badge}\n                    badgeContent={dossier.piecesJointes.length}\n                    max={100}\n                    color=\"secondary\"\n                  >\n                    <AttachIcon />\n                  </Badge>\n                }\n                label=\"Pièces\"\n                data-cy=\"pieces-tab\"\n                {...a11yProps(1)}\n              />\n              <Tab\n                icon={\n                  <Badge\n                    className={classes.badge}\n                    badgeContent={dossier.messages.length}\n                    max={100}\n                    color=\"secondary\"\n                  >\n                    <EmailIcon />\n                  </Badge>\n                }\n                label=\"Messages\"\n                data-cy=\"messages-tab\"\n                {...a11yProps(2)}\n              />\n            </Tabs>\n          </AppBar>\n          <TabPanel value={tabValue} index={0}>\n            <Grid container spacing={1} className={classes.grid}>\n              <Grid item xs={12}>\n                <JoursRestants dossier={dossier} />\n                <Etapes\n                  steps={dossierWorkflow(dossier)}\n                  activeStepId={dossier.statutActuel.id}\n                />\n                <Actions\n                  dossier={dossier}\n                  setError={setError}\n                  reload={reload}\n                  match={match}\n                />\n              </Grid>\n            </Grid>\n          </TabPanel>\n          <TabPanel value={tabValue} index={1}>\n            {dossier.piecesAJoindre.map(pieceAJoindre => (\n              <PieceJointe\n                key={pieceAJoindre}\n                pieceJointe={pieceJointe(dossier, pieceAJoindre)}\n                setError={setError}\n                reload={reload}\n              />\n            ))}\n          </TabPanel>\n          <TabPanel value={tabValue} index={2}>\n            {((isDeposant && isBeta) || isInstructeur) && (\n              <AddMessageButton\n                onSaveMessage={(event, contenu) => handleSaveMessage(contenu)}\n                dossierId={dossier.id}\n              />\n            )}\n            <MessagesChat messages={dossier.messages} />\n          </TabPanel>\n        </div>\n        <AppFooter />\n      </AppTheme>\n    );\n  }\n}\nDossier.propTypes = {\n  match: PropTypes.object.isRequired\n};\n\nexport default compose(withRouter)(Dossier);\n","import AccountIcon from '@material-ui/icons/AccountCircle';\nimport MonCompte from 'pages/protected/MonCompte';\nimport SignOutIcon from '@material-ui/icons/LockOpen';\nimport Localiser from 'pages/protected/Localiser';\nimport MapIcon from '@material-ui/icons/Map';\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\nimport Cgu from 'pages/Cgu';\nimport Aide from 'pages/Aide';\nimport AideIcon from '@material-ui/icons/Help';\nimport Dossiers from 'pages/protected/Dossiers';\nimport Dossier from 'pages/protected/Dossiers/Dossier';\n\nconst routes = [\n  {\n    id: 'dossiers',\n    path: '/dossiers',\n    label: 'Lister',\n    icon: SaveAltIcon,\n    component: Dossiers,\n    sidebar: true,\n    exact: true\n  },\n  {\n    id: 'dossier',\n    path: '/dossiers/:id',\n    label: 'Dossier',\n    icon: SaveAltIcon,\n    component: Dossier,\n    sidebar: false,\n    exact: true\n  },\n  {\n    id: 'localiser',\n    path: '/localiser',\n    label: 'Localiser',\n    icon: MapIcon,\n    component: Localiser,\n    sidebar: true,\n    beta: true\n  },\n  {\n    id: 'moncompte',\n    path: '/moncompte',\n    label: 'Mon compte',\n    icon: AccountIcon,\n    component: MonCompte,\n    sidebar: true,\n    auth: true\n  },\n  {\n    id: 'deconnexion',\n    label: 'Déconnexion',\n    icon: SignOutIcon,\n    sidebar: true,\n    auth: true\n  },\n  {\n    id: 'aide',\n    path: '/aide',\n    label: 'Aide',\n    icon: AideIcon,\n    component: Aide,\n    sidebar: false\n  },\n  {\n    id: 'cgu',\n    path: '/cgu',\n    label: 'CGU',\n    icon: null,\n    component: Cgu,\n    sidebar: false\n  }\n];\n\nexport default routes;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from 'components/Typography';\nimport AppAppBar from 'components/AppAppBar';\nimport AppFooter from 'components/AppFooter';\nimport AppTheme from 'theme/AppTheme';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'components/Button';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport Grid from '@material-ui/core/Grid';\nimport { withStyles } from '@material-ui/styles';\nimport compose from 'utils/compose';\n\nconst styles = theme => ({\n  grid: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  }\n});\n\nfunction Error(props) {\n  const { classes, error, history } = props;\n  return (\n    <AppTheme>\n      <AppAppBar />\n      <Grid container className={classes.grid}>\n        <Grid item xs={12}>\n          <Typography variant=\"h3\" marked=\"center\" align=\"center\">\n            {`Erreur`}\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant=\"body1\" marked=\"center\" align=\"center\">\n            {error.message}\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            aria-label=\"Retour\"\n            data-cy=\"back-btn\"\n            onClick={event => history.push('/')}\n          >\n            <BackIcon />\n            {`Retour`}\n          </Button>\n        </Grid>\n      </Grid>\n      <AppFooter />\n    </AppTheme>\n  );\n}\nError.propTypes = {\n  classes: PropTypes.object.isRequired,\n  error: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\n\nexport default compose(withRouter, withStyles(styles))(Error);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport capitalize from '@material-ui/core/utils/capitalize';\nimport MuiTypography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  markedH2Center: {\n    height: 4,\n    width: 73,\n    display: 'block',\n    margin: `${theme.spacing(1)}px auto 0`,\n    backgroundColor: theme.palette.secondary.main\n  },\n  markedH3Center: {\n    height: 4,\n    width: 55,\n    display: 'block',\n    margin: `${theme.spacing(1)}px auto 0`,\n    backgroundColor: theme.palette.secondary.main\n  },\n  markedH4Center: {\n    height: 4,\n    width: 55,\n    display: 'block',\n    margin: `${theme.spacing(1)}px auto 0`,\n    backgroundColor: theme.palette.secondary.main\n  },\n  markedH6Left: {\n    height: 2,\n    width: 28,\n    display: 'block',\n    marginTop: theme.spacing(0.5),\n    background: 'currentColor'\n  }\n});\n\nfunction Typography(props) {\n  const { children, classes, marked, variant, ...other } = props;\n\n  return (\n    <MuiTypography variant={variant} {...other}>\n      {children}\n      {marked ? (\n        <span\n          className={\n            classes[`marked${capitalize(variant) + capitalize(marked)}`]\n          }\n        />\n      ) : null}\n    </MuiTypography>\n  );\n}\n\nTypography.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object.isRequired,\n  marked: PropTypes.oneOf([false, 'center', 'left']),\n  variant: PropTypes.string\n};\n\nTypography.defaultProps = {\n  marked: false\n};\n\nexport default withStyles(styles)(Typography);\n","import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from 'components/Typography';\nimport Container from '@material-ui/core/Container';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Paper from '@material-ui/core/Paper';\nimport Button from 'components/Button';\nimport { Link as RouterLink } from 'react-router-dom';\nimport HeroImg from './hero.jpg';\nimport './hero.css';\nimport LazyLoad from 'react-lazyload';\nimport IconButton from '@material-ui/core/IconButton';\nimport { genericHashLink } from 'react-router-hash-link';\nimport { env } from 'config/env-helper';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    color: theme.palette.primary,\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    [theme.breakpoints.up('sm')]: {\n      height: '100vh',\n      minHeight: 500,\n      maxHeight: 1300\n    }\n  },\n  container: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(14),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  backdrop: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundColor: theme.palette.common.black,\n    opacity: 0.3,\n    zIndex: -1\n  },\n  background: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    zIndex: -2\n  },\n  arrowDown: {\n    fontSize: 48,\n    scrollBehaviour: 'smooth'\n  },\n  button: {\n    minWidth: 200,\n    bottom: theme.spacing(4)\n  },\n  more: {\n    marginTop: theme.spacing(2)\n  },\n  aide: {\n    marginBottom: theme.spacing(4)\n  },\n  title: {\n    marginBottom: theme.spacing(10)\n  },\n  description: {\n    padding: theme.spacing(2),\n    margin: theme.spacing(2)\n  }\n});\n\nconst IconButtonHashLink = props => genericHashLink(props, IconButton);\n\nclass Hero extends React.Component {\n  static propTypes = {\n    classes: PropTypes.object.isRequired\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <section className={classes.root}>\n        <Container className={classes.container}>\n          <div className={classes.backdrop} />\n          <div className={clsx(classes.background, 'hero')} />\n          <LazyLoad>\n            <img src={HeroImg} style={{ display: 'none' }} alt=\"hero\" />\n          </LazyLoad>\n          <div className={classes.title}>\n            <Paper>\n              <Typography\n                color=\"inherit\"\n                align=\"center\"\n                variant=\"h3\"\n                marked=\"center\"\n                className={classes.description}\n              >\n                {env('REACT_APP_DESCRIPTION')}\n              </Typography>\n              <Typography color=\"inherit\" align=\"center\" variant=\"h5\">\n                {env('REACT_APP_VISION')}\n              </Typography>\n            </Paper>\n          </div>\n          <div className={classes.aide}>\n            <Button\n              color=\"secondary\"\n              variant=\"contained\"\n              size=\"large\"\n              component={RouterLink}\n              to=\"/aide\"\n            >\n              {'Découvrez comment'}\n            </Button>\n          </div>\n          <Paper>\n            <IconButtonHashLink\n              color=\"secondary\"\n              aria-label=\"arrowDown\"\n              component={RouterLink}\n              to={{ pathname: '/', hash: '#connexion-btn' }}\n            >\n              <ExpandMoreIcon className={classes.arrowDown} />\n            </IconButtonHashLink>\n          </Paper>\n        </Container>\n      </section>\n    );\n  }\n}\n\nexport default withStyles(styles)(Hero);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport Typography from 'components/Typography';\nimport EuroSymbol from '@material-ui/icons/EuroSymbol';\nimport Timer from '@material-ui/icons/Timer';\nimport Timeline from '@material-ui/icons/Timeline';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    overflow: 'hidden'\n  },\n  container: {\n    marginTop: theme.spacing(5),\n    marginBottom: theme.spacing(10),\n    display: 'flex',\n    position: 'relative'\n  },\n  item: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: theme.spacing(0, 5)\n  },\n  image: {\n    fontSize: 64\n  },\n  title: {\n    marginTop: theme.spacing(5),\n    marginBottom: theme.spacing(5)\n  },\n  curvyLines: {\n    pointerEvents: 'none',\n    position: 'absolute',\n    top: -180\n  }\n});\n\nfunction Valeur(props) {\n  const { classes } = props;\n\n  return (\n    <section className={classes.root}>\n      <Container className={classes.container}>\n        <Grid container spacing={1}>\n          <Grid item xs={12} md={12}>\n            <div className={classes.item}>\n              <Typography\n                variant=\"h4\"\n                marked=\"center\"\n                className={classes.title}\n                component=\"h2\"\n              >\n                Les objectifs visés\n              </Typography>\n            </div>\n          </Grid>\n          <Grid item xs={12} md={4}>\n            <div className={classes.item}>\n              <EuroSymbol className={classes.image} />\n              <Typography variant=\"h6\" className={classes.title}>\n                Plus économique\n              </Typography>\n              <Typography variant=\"h5\">\n                {\n                  'En finir avec les impressions papier en plusieurs exemplaires et les courriers recommandés.'\n                }\n              </Typography>\n            </div>\n          </Grid>\n          <Grid item xs={12} md={4}>\n            <div className={classes.item}>\n              <Timer className={classes.image} />\n              <Typography variant=\"h6\" className={classes.title}>\n                Plus rapide\n              </Typography>\n              <Typography variant=\"h5\">\n                {\n                  'En finir avec les délais de transmission par voie postale et les temps de déplacements en mairie.'\n                }\n              </Typography>\n            </div>\n          </Grid>\n          <Grid item xs={12} md={4}>\n            <div className={classes.item}>\n              <Timeline className={classes.image} />\n              <Typography variant=\"h6\" className={classes.title}>\n                Plus clair\n              </Typography>\n              <Typography variant=\"h5\">\n                {\n                  \"Suivre l'état d'avancement de sa demande et échanger directement avec les instructeurs.\"\n                }\n              </Typography>\n            </div>\n          </Grid>\n        </Grid>\n      </Container>\n    </section>\n  );\n}\n\nValeur.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Valeur);\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport Typography from 'components/Typography';\nimport EditIcon from '@material-ui/icons/Edit';\nimport LockIcon from '@material-ui/icons/Lock';\nimport PeopleIcon from '@material-ui/icons/People';\nimport { genericHashLink } from 'react-router-hash-link';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport Fab from '@material-ui/core/Fab';\nimport Grow from '@material-ui/core/Grow';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ConnexionButton from 'components/ConnexionButton';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    overflow: 'hidden'\n  },\n  container: {\n    marginTop: theme.spacing(10),\n    marginBottom: theme.spacing(15),\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  item: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: theme.spacing(0, 5)\n  },\n  title: {\n    marginBottom: theme.spacing(14)\n  },\n  number: {\n    fontSize: 24,\n    fontFamily: theme.typography.fontFamily,\n    color: theme.palette.secondary.main,\n    fontWeight: theme.typography.fontWeightMedium\n  },\n  icon: {\n    fontSize: 64,\n    margin: theme.spacing(4)\n  },\n  button: {\n    marginTop: theme.spacing(8)\n  },\n  remonter: {\n    backgroundColor: theme.palette.secondary.main,\n    '&:hover': {\n      backgroundColor: theme.palette.secondary.main\n    },\n    margin: theme.spacing(1),\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(3)\n  }\n});\n\nconst IconButtonHashLink = props => genericHashLink(props, IconButton);\n\nfunction CommentFaire(props) {\n  const { classes, showRemonter } = props;\n\n  return (\n    <section className={classes.root}>\n      <Container className={classes.container}>\n        <Typography\n          variant=\"h4\"\n          marked=\"center\"\n          className={classes.title}\n          component=\"h2\"\n        >\n          Comment cela se ferait ?\n        </Typography>\n        <div>\n          <Grid container spacing={5}>\n            <Grid item xs={12} md={4}>\n              <div className={classes.item}>\n                <div className={classes.number}>1.</div>\n                <EditIcon alt=\"edit\" className={classes.icon} />\n                <Typography variant=\"h5\" align=\"center\">\n                  {`Préparer et déposer sa demande sur `}\n                </Typography>\n                <Link\n                  color=\"inherit\"\n                  href=\"https://www.service-public.fr/particuliers/vosdroits/R52221\"\n                >{`service-public.fr`}</Link>\n              </div>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <div className={classes.item}>\n                <div className={classes.number}>2.</div>\n                <LockIcon alt=\"people\" className={classes.icon} />\n                <Typography variant=\"h5\" align=\"center\">\n                  {'Se connecter dans RIEAU.'}\n                </Typography>\n                <Typography variant=\"body2\" align=\"center\">\n                  {\n                    'Seules les personnes habilitées peuvent accèder aux fonctionnalités à tester. Les Dossiers ne sont pas encore possible sur cette version.'\n                  }\n                </Typography>\n              </div>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <div className={classes.item}>\n                <div className={classes.number}>3.</div>\n                <PeopleIcon alt=\"people\" className={classes.icon} />\n                <Typography variant=\"h5\" align=\"center\">\n                  {\n                    \"Suivre l'avancement de l'instruction de sa demande dans RIEAU\"\n                  }\n                </Typography>\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n        <ConnexionButton appbar={false} color=\"secondary\" size=\"large\" />\n        <Grow in={showRemonter}>\n          <Fab aria-label=\"remonter\" className={classes.remonter}>\n            <IconButtonHashLink\n              component={RouterLink}\n              to={{ pathname: '/', hash: '#app-bar' }}\n            >\n              <ExpandLessIcon color=\"primary\" />\n            </IconButtonHashLink>\n          </Fab>\n        </Grow>\n      </Container>\n    </section>\n  );\n}\n\nCommentFaire.propTypes = {\n  classes: PropTypes.object.isRequired,\n  showRemonter: PropTypes.bool.isRequired\n};\n\nexport default withStyles(styles)(CommentFaire);\n","import React, { useState } from 'react';\nimport AppFooter from 'components/AppFooter';\nimport Hero from './Hero';\nimport Valeur from './Valeur';\nimport CommentFaire from './CommentFaire';\nimport AppAppBar from 'components/AppAppBar';\nimport AppTheme from 'theme/AppTheme';\n\nfunction Index() {\n  const [showRemonter, setShowRemonter] = useState(false);\n\n  function handleShowRemonter(event) {\n    if (event.deltaY > 0) {\n      setShowRemonter(true);\n    } else {\n      setShowRemonter(false);\n    }\n  }\n  return (\n    <AppTheme>\n      <AppAppBar />\n      <div onWheel={handleShowRemonter}>\n        <Hero />\n        <Valeur />\n        <CommentFaire showRemonter={showRemonter} />\n      </div>\n      <AppFooter />\n    </AppTheme>\n  );\n}\n\nexport default Index;\n","import HomeIcon from '@material-ui/icons/Home';\nimport AideIcon from '@material-ui/icons/Help';\nimport Home from 'pages/Home';\nimport Cgu from 'pages/Cgu';\nimport Aide from 'pages/Aide';\n\nconst routes = [\n  {\n    id: 'accueil',\n    path: '/',\n    label: 'Accueil',\n    icon: HomeIcon,\n    component: Home,\n    sidebar: true\n  },\n  {\n    id: 'aide',\n    path: '/aide',\n    label: 'Aide',\n    icon: AideIcon,\n    component: Aide,\n    sidebar: false\n  },\n  {\n    id: 'cgu',\n    path: '/cgu',\n    label: 'CGU',\n    icon: null,\n    component: Cgu,\n    sidebar: false\n  }\n];\n\nexport default routes;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isApiMock } from 'api/api';\nimport Button from './Button';\nimport { useAuth } from 'context/auth-context';\nimport Menu from '@material-ui/core/Menu';\nimport MenuList from '@material-ui/core/MenuList';\nimport MockUsersConnectionMenuItems from './MockUsersConnectionMenuItems';\n\nfunction ConnexionButton(props) {\n  const { color, appbar, size } = props;\n  const selectedSize = size || 'small';\n  const appBarPrefix = appbar ? 'appbar-' : '';\n  const { login } = useAuth();\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState();\n\n  function handleMenu(event) {\n    setOpen(true);\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose() {\n    setOpen(false);\n    setAnchorEl(null);\n  }\n  return (\n    <React.Fragment>\n      {!isApiMock ? (\n        <Button\n          id={appBarPrefix + 'connexion-btn'}\n          size={selectedSize}\n          onClick={login}\n          variant=\"contained\"\n          data-cy={appBarPrefix + 'connexion-btn'}\n          color={color}\n        >\n          {`Connexion`}\n        </Button>\n      ) : (\n        <React.Fragment>\n          <Button\n            id={appBarPrefix + 'connexion-btn'}\n            aria-controls={appBarPrefix + 'connexion-btn-menu'}\n            color={color}\n            size={selectedSize}\n            aria-haspopup=\"true\"\n            onClick={handleMenu}\n            variant=\"contained\"\n            data-cy={appBarPrefix + 'connexion-btn'}\n          >\n            {`Connexion`}\n          </Button>\n          <Menu\n            id={appBarPrefix + 'connexion-btn-menu'}\n            anchorEl={anchorEl}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'right'\n            }}\n            keepMounted\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'right'\n            }}\n            open={open}\n            onClose={handleClose}\n          >\n            <MenuList>\n              <MockUsersConnectionMenuItems appbar={appbar} />\n            </MenuList>\n          </Menu>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n}\n\nConnexionButton.propTypes = {\n  color: PropTypes.string.isRequired,\n  size: PropTypes.string.isRequired,\n  appbar: PropTypes.bool.isRequired\n};\nConnexionButton.defaultProps = {\n  color: 'primary',\n  appbar: true,\n  size: 'small'\n};\nexport default ConnexionButton;\n","import React from 'react';\nimport { useAuth } from 'context/auth-context';\nimport { MenuItem, ListItemIcon } from '@material-ui/core';\nimport SignInIcon from '@material-ui/icons/Lock';\nimport PropTypes from 'prop-types';\n\nfunction MockUsersConnectionMenuItems(props) {\n  const { appbar } = props;\n  const { login } = useAuth();\n  const prefixDataCy = `${\n    appbar ? 'appbar' : 'hamburger'\n  }-menu-item-btn-connexion`;\n  return (\n    <React.Fragment>\n      <MenuItem\n        button\n        onClick={function(event) {\n          return login('jean.martin');\n        }}\n        data-cy={`${prefixDataCy}-deposant`}\n      >\n        <ListItemIcon>\n          <SignInIcon />\n        </ListItemIcon>\n        {`Connexion Déposant`}\n      </MenuItem>\n      <MenuItem\n        button\n        onClick={function(event) {\n          return login('jacques.dupont');\n        }}\n        data-cy={`${prefixDataCy}-instructeur`}\n      >\n        <ListItemIcon>\n          <SignInIcon />\n        </ListItemIcon>\n        {`Connexion Instructeur`}\n      </MenuItem>\n      <MenuItem\n        button\n        onClick={function(event) {\n          return login('madame.le-maire');\n        }}\n        data-cy={`${prefixDataCy}-mairie`}\n      >\n        <ListItemIcon>\n          <SignInIcon />\n        </ListItemIcon>\n        {`Connexion Mairie`}\n      </MenuItem>\n    </React.Fragment>\n  );\n}\nMockUsersConnectionMenuItems.propTypes = {\n  appbar: PropTypes.bool\n};\n\nexport default MockUsersConnectionMenuItems;\n","import React, { lazy, Suspense } from 'react';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport AppTheme from 'theme/AppTheme';\nimport Typography from 'components/Typography';\nimport AppAppBar from 'components/AppAppBar';\nimport AppFooter from 'components/AppFooter';\nimport { importMDX } from 'mdx.macro';\n\nconst Cgu = lazy(() => importMDX('./cgu.mdx'));\n\nfunction Help() {\n  return (\n    <AppTheme>\n      <AppAppBar />\n      <Container>\n        <Box mt={7} mb={12}>\n          <Typography variant=\"h3\" gutterBottom marked=\"center\" align=\"center\">\n            CGU\n          </Typography>\n          <Suspense fallback={<div>Chargement en cours...</div>}>\n            <Cgu />\n          </Suspense>\n        </Box>\n      </Container>\n      <AppFooter />\n    </AppTheme>\n  );\n}\n\nexport default Help;\n","import React, { lazy, Suspense } from 'react';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport Typography from 'components/Typography';\nimport AppAppBar from 'components/AppAppBar';\nimport AppFooter from 'components/AppFooter';\nimport { importMDX } from 'mdx.macro';\nimport AppTheme from 'theme/AppTheme';\n\nconst Faq = lazy(() => importMDX('./faq.mdx'));\n\nfunction Help() {\n  return (\n    <AppTheme>\n      <AppAppBar />\n      <Container>\n        <Box mt={7} mb={12}>\n          <Typography variant=\"h3\" gutterBottom marked=\"center\" align=\"center\">\n            Aide\n          </Typography>\n          <Suspense fallback={<div>Chargement en cours...</div>}>\n            <Faq />\n          </Suspense>\n        </Box>\n      </Container>\n      <AppFooter />\n    </AppTheme>\n  );\n}\n\nexport default Help;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport MuiSnackbar from '@material-ui/core/Snackbar';\nimport MuiSnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { withStyles } from '@material-ui/core';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n};\n\nconst classes = theme => ({\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  success: {\n    backgroundColor: theme.palette.success\n  },\n  root: {\n    backgroundColor: theme.palette.error\n  },\n  info: {\n    backgroundColor: theme.palette.info\n  },\n  warning: {\n    backgroundColor: theme.palette.warning\n  }\n});\n\nfunction SnackbarContent(props) {\n  const { className, message, onClose, variant, ...other } = props;\n  const Icon = variantIcon[variant];\n\n  return (\n    <MuiSnackbarContent\n      className={clsx(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"Fermer\"\n          color=\"inherit\"\n          onClick={onClose}\n        >\n          <CloseIcon className={classes.icon} />\n        </IconButton>\n      ]}\n      {...other}\n    />\n  );\n}\nSnackbarContent.propTypes = {\n  className: PropTypes.string,\n  message: PropTypes.node,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired\n};\n\nfunction Snackbar(props) {\n  const [open, setOpen] = useState(true);\n  const { variant, message, onClose } = props;\n\n  function handleClose(event, reason) {\n    if (reason === 'clickaway') {\n      return;\n    }\n    if (onClose) onClose();\n    setOpen(false);\n  }\n\n  return (\n    <MuiSnackbar\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center'\n      }}\n      open={open}\n      className={classes.root}\n      autoHideDuration={30000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={classes.margin}\n        onClose={handleClose}\n        variant={variant}\n        message={message}\n      />\n    </MuiSnackbar>\n  );\n}\nSnackbar.propTypes = {\n  initialState: PropTypes.bool,\n  message: PropTypes.node,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired\n};\n\nexport default withStyles(classes)(Snackbar);\n","import React from 'react';\nimport Typography from 'components/Typography';\nimport AppAppBar from 'components/AppAppBar';\nimport AppFooter from 'components/AppFooter';\nimport AppTheme from 'theme/AppTheme';\n\nfunction NotFound() {\n  return (\n    <AppTheme>\n      <AppAppBar />\n      <Typography variant=\"h3\" marked=\"center\" align=\"center\">\n        {`404 | Page non trouvée`}\n      </Typography>\n      <AppFooter />\n    </AppTheme>\n  );\n}\n\nexport default NotFound;\n","import { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nexport default withStyles(theme => ({\n  root: {\n    fontWeight: theme.typography.fontWeightMedium,\n    fontFamily: theme.typography.fontFamilySecondary,\n    fontSize: theme.typography.pxToRem(12),\n    boxShadow: 'none',\n    '&:hover, &:active, &:focus': {\n      boxShadow: 'none'\n    }\n  },\n  sizeSmall: {\n    padding: theme.spacing(1, 3),\n    fontSize: theme.typography.pxToRem(11)\n  },\n  sizeLarge: {\n    padding: theme.spacing(2, 5),\n    fontSize: theme.typography.pxToRem(14)\n  }\n}))(Button);\n","import { env } from 'config/env-helper';\n\nconst isApiMock = [true, 'true', 1, '1'].includes(env('REACT_APP_API_MOCK'));\n\nfunction api() {\n  const importApi = isApiMock\n    ? import('api/mock/api-mock')\n    : import('api/api-real');\n  return importApi;\n}\n\nexport default api();\nexport { isApiMock };\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAABHCAYAAADbahNjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3OTBGMTMyNkI4ODExRTZBMUFBQjM4NEYyQzM4MkZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3OTBGMTMzNkI4ODExRTZBMUFBQjM4NEYyQzM4MkZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTc5MEYxMzA2Qjg4MTFFNkExQUFCMzg0RjJDMzgyRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTc5MEYxMzE2Qjg4MTFFNkExQUFCMzg0RjJDMzgyRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7HDclIAAATeElEQVR42uxd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\"","module.exports = __webpack_public_path__ + \"static/media/hero.3cd7c2c2.jpg\";","export default function compose(...funcs) {\n  return funcs.reduce(\n    (a, b) => (...args) => a(b(...args)),\n    arg => arg\n  );\n}\n","import React, { useContext, createContext } from 'react';\nimport { useAuth } from './auth-context';\n\nconst UserContext = createContext();\n\nfunction UserProvider(props) {\n  const {\n    data: { user, isAuthenticated, isDeposant, isMairie, isInstructeur, isBeta }\n  } = useAuth();\n  return (\n    <UserContext.Provider\n      value={{\n        user,\n        isAuthenticated,\n        isDeposant,\n        isMairie,\n        isInstructeur,\n        isBeta\n      }}\n      {...props}\n    />\n  );\n}\n\nfunction useUser() {\n  const context = useContext(UserContext);\n  if (context === undefined) {\n    throw new Error(`useUser must be used within a UserProvider`);\n  }\n  return context;\n}\n\nexport { UserProvider, useUser };\n","import { resolve } from 'path';\nimport { config } from 'dotenv';\nimport dotenvExpand from 'dotenv-expand';\n\ndotenvExpand(config({ path: resolve(__dirname, '../../.env') }));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { AuthProvider } from './auth-context';\nimport { UserProvider } from './user-context';\n\nfunction AppProviders({ children }) {\n  return (\n    <AuthProvider>\n      <UserProvider>{children}</UserProvider>\n    </AuthProvider>\n  );\n}\nAppProviders.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nexport default AppProviders;\n","import React from 'react';\nimport Snackbar from 'components/Snackbar';\nimport PropTypes from 'prop-types';\n\nfunction logErrorToMyService(error, info) {\n  window.console.log('error=' + JSON.stringify(error));\n  window.console.log('info=' + JSON.stringify(info));\n}\n\nclass ErrorBoundary extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, message: 'Oops! Une erreur est survenue.' };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true, message: JSON.stringify(error) };\n  }\n\n  componentDidCatch(error, info) {\n    logErrorToMyService(error, info);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <Snackbar variant=\"error\" message={this.state.message} />;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React from 'react';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useUser } from 'context/user-context';\nimport ErrorBoundary from 'components/ErrorBoundary';\n\nconst loadUnAuthenticatedApp = () => import('./unauthenticated-app');\nconst UnAuthenticatedApp = React.lazy(loadUnAuthenticatedApp);\nconst AuthenticatedApp = React.lazy(() => import('./authenticated-app'));\n\nfunction App() {\n  const { isAuthenticated } = useUser();\n  React.useEffect(() => {\n    loadUnAuthenticatedApp();\n  }, [isAuthenticated]);\n  return (\n    <React.Suspense fallback={<LinearProgress />}>\n      <ErrorBoundary>\n        {isAuthenticated ? <AuthenticatedApp /> : <UnAuthenticatedApp />}\n      </ErrorBoundary>\n    </React.Suspense>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import * as serviceWorker from './serviceWorker';\nimport AppProviders from './context';\nimport App from 'app';\nimport 'config/config';\n\nReactDOM.render(\n  <AppProviders>\n    <App />\n  </AppProviders>,\n  document.getElementById('root')\n);\n\n// ReactDOM.render(<Page />, document.querySelector('#root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister(); //Unsecure in firefox\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { ThemeProvider } from '@material-ui/styles';\nimport green from '@material-ui/core/colors/green';\nimport amber from '@material-ui/core/colors/amber';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nfunction AppTheme(props) {\n  const { children } = props;\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n  const theme = React.useMemo(\n    () =>\n      responsiveFontSizes(\n        createMuiTheme({\n          palette: {\n            type: prefersDarkMode ? 'dark' : 'light',\n            primary: {\n              main: '#fff'\n            },\n            secondary: {\n              main: '#4874b8'\n            },\n            info: {\n              main: '#4874b8'\n            },\n            success: green[600],\n            warning: amber[700]\n          },\n          typography: {\n            fontFamily: \"'Work Sans', sans-serif\",\n            fontSize: 14,\n            fontWeightLight: 300, // Work Sans\n            fontWeightRegular: 400, // Work Sans\n            fontWeightMedium: 700, // Roboto Condensed\n            fontFamilySecondary: \"'Roboto Condensed', sans-serif\"\n          }\n        })\n      ),\n    [prefersDarkMode]\n  );\n  return (\n    <ThemeProvider theme={theme}>\n      {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n      <CssBaseline />\n      {children}\n    </ThemeProvider>\n  );\n}\n\nAppTheme.propTypes = {\n  children: PropTypes.array.isRequired\n};\nexport default AppTheme;\n","import { withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nexport const styles = theme => ({\n  root: {\n    height: 64,\n    [theme.breakpoints.up('sm')]: {\n      height: 70\n    }\n  }\n});\n\nexport default withStyles(styles)(Toolbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport { Link as RouterLink } from 'react-router-dom';\n\nclass MenuItemLink extends React.Component {\n  static propTypes = {\n    route: PropTypes.object.isRequired\n  };\n  render() {\n    const { route } = this.props;\n    return (\n      <React.Fragment>\n        <MenuItem\n          data-cy={'menu-item-link-' + route.id}\n          button\n          component={RouterLink}\n          to={route.path}\n          {...this.props}\n        >\n          <ListItemIcon>\n            <route.icon />\n          </ListItemIcon>\n          {route.label}\n        </MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default MenuItemLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SignInIcon from '@material-ui/icons/Lock';\nimport MenuList from '@material-ui/core/List';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport routesUnauthenticated from 'routes/unauthenticated';\nimport routesAuthenticated from 'routes/authenticated';\nimport compose from 'utils/compose';\nimport MenuItemLink from 'components/MenuItemLink';\nimport { withRouter } from 'react-router-dom';\nimport { useAuth } from 'context/auth-context';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport { useUser } from 'context/user-context';\nimport { isApiMock } from 'api/api';\nimport MockUsersConnectionMenuItems from 'components/MockUsersConnectionMenuItems';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex'\n  },\n  list: {\n    width: drawerWidth\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  toolbar: theme.mixins.toolbar,\n  menuButton: {\n    color: 'primary',\n    marginRight: theme.spacing(2)\n  }\n});\n\nfunction SideBarMenu(props) {\n  const { classes, toggleDrawer } = props;\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const { login, logout } = useAuth();\n  const { isAuthenticated, isBeta } = useUser();\n  const moncompte = routesAuthenticated.find(route => route.id === 'moncompte');\n  const deconnexion = routesAuthenticated.find(\n    route => route.id === 'deconnexion'\n  );\n  function onClickItem(event, index) {\n    setSelectedIndex(index);\n  }\n  return (\n    <div\n      className={classes.toolbar}\n      role=\"presentation\"\n      onClick={event => toggleDrawer(event, false)}\n      onKeyDown={event => toggleDrawer(event, false)}\n    >\n      {isAuthenticated ? (\n        <MenuList>\n          {routesAuthenticated\n            .filter(\n              route =>\n                route.sidebar &&\n                (route.id !== 'dossiers' ? route.beta === isBeta : true) &&\n                !route.auth\n            )\n            .map(route => {\n              return (\n                <MenuItemLink\n                  key={route.id}\n                  selected={route.id === selectedIndex}\n                  route={route}\n                  onClick={event => onClickItem(event, route.id)}\n                />\n              );\n            })}\n          <MenuItemLink\n            route={moncompte}\n            onClick={event => onClickItem(event, moncompte.id)}\n          />\n          <MenuItem button onClick={logout}>\n            <ListItemIcon>\n              <deconnexion.icon />\n            </ListItemIcon>\n            {deconnexion.label}\n          </MenuItem>\n        </MenuList>\n      ) : (\n        <MenuList>\n          {routesUnauthenticated\n            .filter(route => route.sidebar)\n            .map(route => {\n              return (\n                <MenuItemLink\n                  key={route.id}\n                  selected={route.id === selectedIndex}\n                  route={route}\n                  onClick={event => onClickItem(event, route.id)}\n                />\n              );\n            })}\n          {isApiMock ? (\n            <MockUsersConnectionMenuItems appbar={false} />\n          ) : (\n            <MenuItem button onClick={login} data-cy=\"menu-item-btn-connexion\">\n              <ListItemIcon>\n                <SignInIcon />\n              </ListItemIcon>\n              {`Connexion`}\n            </MenuItem>\n          )}\n        </MenuList>\n      )}\n    </div>\n  );\n}\nSideBarMenu.propTypes = {\n  classes: PropTypes.object.isRequired,\n  toggleDrawer: PropTypes.func.isRequired\n};\n\nclass HamburgerMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      right: false\n    };\n    this.toggleDrawer = this.toggleDrawer.bind(this);\n  }\n\n  toggleDrawer = (event, open) => {\n    if (\n      event.type === 'keydown' &&\n      (event.key === 'Tab' || event.key === 'Shift')\n    ) {\n      return;\n    }\n    this.setState({ right: open });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { right } = this.state;\n    return (\n      <nav className={classes.drawer}>\n        <Hidden smUp implementation=\"css\">\n          <IconButton\n            edge=\"start\"\n            color=\"primary\"\n            className={classes.menuButton}\n            onClick={event => this.toggleDrawer(event, true)}\n            data-cy=\"hamburger-menu\"\n          >\n            <MenuIcon />\n          </IconButton>\n          <Drawer\n            anchor=\"right\"\n            open={right}\n            onClose={event => this.toggleDrawer(event, false)}\n          >\n            <SideBarMenu classes={classes} toggleDrawer={this.toggleDrawer} />\n          </Drawer>\n        </Hidden>\n      </nav>\n    );\n  }\n}\nHamburgerMenu.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default compose(withRouter, withStyles(styles))(HamburgerMenu);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItemLink from 'components/MenuItemLink';\nimport compose from 'utils/compose';\nimport routesAuthenticated from 'routes/authenticated';\nimport { useAuth } from 'context/auth-context';\nimport { MenuItem, ListItemIcon, MenuList } from '@material-ui/core';\nimport { useUser } from 'context/user-context';\n\nconst styles = theme => ({\n  root: {}\n});\n\nfunction AccountMenu(props) {\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState();\n  const { logout } = useAuth();\n  const { isAuthenticated } = useUser();\n  const moncompte = routesAuthenticated.find(route => route.id === 'moncompte');\n  const deconnexion = routesAuthenticated.find(\n    route => route.id === 'deconnexion'\n  );\n\n  function handleMenu(event) {\n    setOpen(true);\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose() {\n    setOpen(false);\n    setAnchorEl(null);\n  }\n  return (\n    <React.Fragment>\n      <div>\n        <IconButton\n          aria-label=\"Mon compte\"\n          aria-controls=\"account-menu-appbar\"\n          aria-haspopup=\"true\"\n          onClick={handleMenu}\n          color=\"inherit\"\n          data-cy=\"account-menu-appbar\"\n        >\n          <AccountCircle fontSize=\"large\" />\n        </IconButton>\n        <Menu\n          id=\"account-menu-appbar\"\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'right'\n          }}\n          keepMounted\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'right'\n          }}\n          open={open}\n          onClose={handleClose}\n        >\n          {isAuthenticated && (\n            <MenuList>\n              <MenuItemLink data-cy=\"acount-menu-item-profil\" route={moncompte}>\n                Profil\n              </MenuItemLink>\n              <MenuItem\n                button\n                onClick={logout}\n                data-cy=\"acount-menu-item-deconnexion\"\n              >\n                <ListItemIcon>\n                  <deconnexion.icon />\n                </ListItemIcon>\n                {deconnexion.label}\n              </MenuItem>\n            </MenuList>\n          )}\n        </Menu>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default compose(withRouter, withStyles(styles))(AccountMenu);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'components/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItemLink from 'components/MenuItemLink';\nimport MenuList from '@material-ui/core/MenuList';\nimport compose from 'utils/compose';\nimport routesAuthenticated from 'routes/authenticated';\nimport { useUser } from 'context/user-context';\n\nconst styles = theme => ({\n  root: {}\n});\n\nfunction DossiersMenu(props) {\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState();\n  const { isBeta } = useUser();\n\n  function handleMenu(event) {\n    setOpen(true);\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose() {\n    setOpen(false);\n    setAnchorEl(null);\n  }\n  return (\n    <React.Fragment>\n      <Button\n        aria-label=\"Dossiers\"\n        aria-controls=\"dossiers-menu-appbar\"\n        aria-haspopup=\"true\"\n        onClick={handleMenu}\n        color=\"inherit\"\n        variant=\"text\"\n        data-cy=\"appbar-dossiers-btn\"\n      >\n        {`Dossiers`}\n      </Button>\n      <Menu\n        id=\"dossiers-menu-appbar\"\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n        keepMounted\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n        open={open}\n        onClose={handleClose}\n      >\n        <MenuList>\n          {routesAuthenticated\n            .filter(\n              route =>\n                route.sidebar &&\n                (route.id !== 'dossiers' ? route.beta === isBeta : true) &&\n                !route.auth &&\n                route.id !== 'accueil'\n            )\n            .map(route => {\n              return (\n                <MenuItemLink key={route.id} route={route}>\n                  {route.label}\n                </MenuItemLink>\n              );\n            })}\n        </MenuList>\n      </Menu>\n    </React.Fragment>\n  );\n}\n\nexport default compose(withRouter, withStyles(styles))(DossiersMenu);\n","function isLightTheme(theme) {\n  return theme.palette.type === 'light';\n}\n\nfunction isDarkTheme(theme) {\n  return theme.palette.type === 'dark';\n}\n\nexport { isLightTheme, isDarkTheme };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles, useTheme } from '@material-ui/core/styles';\nimport Toolbar, { styles as toolbarStyles } from 'components/Toolbar';\nimport { Link as RouterLink } from 'react-router-dom';\nimport logo from './marianne.png';\nimport AppBar from '@material-ui/core/AppBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from 'components/Button';\nimport Hidden from '@material-ui/core/Hidden';\nimport HamburgerMenu from './HamburgerMenu';\nimport AccountMenu from './AccountMenu';\nimport routesUnauthenticated from 'routes/unauthenticated';\nimport { useUser } from 'context/user-context';\nimport Typography from 'components/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport DossiersMenu from './DossiersMenu';\nimport ConnexionButton from 'components/ConnexionButton';\nimport { env } from 'config/env-helper';\nimport { isLightTheme } from 'theme/theme';\n\nconst styles = theme => ({\n  placeholder: toolbarStyles(theme).root,\n  titleWrapper: {\n    display: 'flex',\n    marginTop: theme.spacing(2),\n    [theme.breakpoints.down('xs')]: {\n      marginTop: theme.spacing(3),\n      marginLeft: theme.spacing(5)\n    }\n  },\n  title: {\n    [theme.breakpoints.down('sm')]: {\n      fontSize: 24\n    }\n  },\n  logoWrapper: {\n    display: 'flex'\n  },\n  logo: {\n    width: '80%'\n  },\n  menu: {\n    display: 'flex',\n    margin: theme.spacing(2)\n  }\n});\n\nfunction AppAppBar(props) {\n  const { classes } = props;\n  const { isAuthenticated } = useUser();\n  const theme = useTheme();\n  return (\n    <div id=\"app-bar\">\n      <AppBar\n        position=\"fixed\"\n        elevation={0}\n        color={isLightTheme(theme) ? 'secondary' : 'inherit'}\n      >\n        <Toolbar>\n          <Grid container spacing={1} wrap=\"nowrap\">\n            <Grid\n              item\n              container\n              justify=\"flex-start\"\n              className={classes.logoWrapper}\n            >\n              <IconButton\n                color=\"inherit\"\n                size=\"small\"\n                component={RouterLink}\n                to=\"/\"\n              >\n                <img src={logo} className={classes.logo} alt=\"accueil\" />\n              </IconButton>\n            </Grid>\n            <Grid\n              item\n              container\n              justify=\"center\"\n              className={classes.titleWrapper}\n            >\n              <Typography\n                color=\"inherit\"\n                align=\"center\"\n                variant=\"h3\"\n                className={classes.title}\n              >\n                {env('REACT_APP_NAME')}\n              </Typography>\n            </Grid>\n            <Grid item container justify=\"flex-end\" className={classes.menu}>\n              <Hidden xsDown>\n                {isAuthenticated ? (\n                  <React.Fragment>\n                    <DossiersMenu />\n                    <AccountMenu />\n                  </React.Fragment>\n                ) : (\n                  <React.Fragment>\n                    {routesUnauthenticated\n                      .filter(route => route.sidebar && !route.auth)\n                      .map(route => {\n                        return (\n                          <Button\n                            key={route.id}\n                            color=\"primary\"\n                            size={'small'}\n                            component={RouterLink}\n                            variant={'text'}\n                            to={route.path}\n                            data-cy={'appbar-' + route.id + '-btn'}\n                          >\n                            {route.label}\n                          </Button>\n                        );\n                      })}\n                    <ConnexionButton\n                      color={isLightTheme(theme) ? 'primary' : 'secondary'}\n                    />\n                  </React.Fragment>\n                )}\n              </Hidden>\n              <Hidden smUp>\n                <HamburgerMenu />\n              </Hidden>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      <div className={classes.placeholder} />\n    </div>\n  );\n}\n\nAppAppBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  login: PropTypes.func,\n  logout: PropTypes.func,\n  register: PropTypes.func\n};\n\nexport default withStyles(styles)(AppAppBar);\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from './Typography';\nimport Button from './Button';\nimport compose from 'utils/compose';\nimport { FaGithub, FaTwitter, FaGlobe } from 'react-icons/fa';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\n\nconst styles = theme => ({\n  footer: {\n    display: 'flex',\n    padding: theme.spacing(6)\n  },\n  container: {\n    display: 'flex'\n  },\n  icons: {\n    display: 'flex'\n  },\n  terms: {\n    display: 'flex'\n  },\n  icon: {\n    fontSize: 24,\n    margin: theme.spacing(1),\n    '&:hover': {\n      transform: 'scale(1.2)'\n    }\n  },\n  button: {\n    margin: theme.spacing(1)\n  }\n});\n\nfunction AppFooter(props) {\n  const { classes } = props;\n\n  return (\n    <footer className={classes.footer}>\n      <Container className={classes.container}>\n        <Grid container spacing={1}>\n          <Grid\n            item\n            container\n            direction=\"column\"\n            justify=\"flex-end\"\n            className={classes.icons}\n            xs={12}\n          >\n            <Typography variant=\"h6\" align=\"center\" gutterBottom>\n              <IconButton\n                href=\"https://github.com/MTES-MCT/declaration-travaux\"\n                className={classes.icon}\n              >\n                <FaGithub />\n              </IconButton>\n              <IconButton\n                href=\"https://twitter.com/Min_Territoires\"\n                className={classes.icon}\n              >\n                <FaTwitter />\n              </IconButton>\n              <IconButton\n                href=\"http://www.cohesion-territoires.gouv.fr/\"\n                className={classes.icon}\n              >\n                <FaGlobe />\n              </IconButton>\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            container\n            justify=\"center\"\n            className={classes.terms}\n            xs={12}\n          >\n            <Button\n              component={RouterLink}\n              to=\"/aide\"\n              className={classes.button}\n            >\n              {`Aide`}\n            </Button>\n            <Button component={RouterLink} to=\"/cgu\" className={classes.button}>\n              {`CGU`}\n            </Button>\n          </Grid>\n          <Grid item container direction=\"column\" justify=\"flex-end\" xs={12}>\n            <Typography\n              variant=\"caption\"\n              align=\"center\"\n              color=\"textSecondary\"\n              component=\"p\"\n            >\n              {`© 2019 Ministère de la Cohésion des territoires et des Relations avec les collectivités territoriales`}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Container>\n    </footer>\n  );\n}\nAppFooter.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default compose(React.memo, withStyles(styles))(AppFooter);\n"],"sourceRoot":""}