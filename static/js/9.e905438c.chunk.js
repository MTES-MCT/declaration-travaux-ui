(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{629:function(n,e,r){"use strict";r.r(e);var t=r(673),o=r.n(t),u=r(690),i=r.n(u),s=r(128),c=r.n(s),a=o.a.create({baseURL:c()("API_URL"),timeout:1e3}),f=i()({url:c()("SSO_APP_URL"),realm:c()("SSO_APP_REALM"),clientId:c()("SSO_APP_CLIENT_ID")});o.a.interceptors.request.use(function(n){var e=f.token;return e&&(n.headers.Authorization="Bearer ".concat(e)),n},function(n){return Promise.reject(n)});var m={auth:{login:function(){return new Promise(function(n,e){return f.init({onLoad:"login-required"}).success(function(e){return n(e)}).error(function(n){return e(new Error(n))})})},isAuthenticated:function(){return new Promise(function(n,e){return f.init({onLoad:"check-sso"}).success(function(e){return n(e)}).error(function(n){return e(new Error(n))})})},logout:function(){return new Promise(function(n,e){return f.logout().success(function(e){return n(e)}).error(function(n){return e(new Error(n))})})},getUser:function(){return new Promise(function(n,e){return f.loadUserInfo().success(function(e){return n({firstName:e.given_name,lastName:e.family_name,email:e.email})}).error(function(n){return e(new Error(n))})})},isDepositaire:function(){return new Promise(function(n,e){return n(f.hasRealmRole("depositaire"))})},isInstructeur:function(){return new Promise(function(n,e){return n(f.hasRealmRole("instructeur"))})}},depots:{mesDepots:function(){return a.get("/depots")},savePieceJointe:function(n,e,r){return a.post("/piecesjointes",{code:n,file:e,binary:r})}}};e.default=m}}]);
//# sourceMappingURL=9.e905438c.chunk.js.map