(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{628:function(e,n,r){"use strict";r.r(n);var t=r(672),o=r.n(t),u=r(689),i=r.n(u),s=o.a.create({baseURL:"http://localhost:5000",timeout:1e3}),c=i()({url:"http://localhost:8080/auth",realm:"rieau",clientId:"rieau-ui"});o.a.interceptors.request.use(function(e){var n=c.token;return n&&(e.headers.Authorization="Bearer ".concat(n)),e},function(e){return Promise.reject(e)});var a={auth:{login:function(){return new Promise(function(e,n){return c.init({onLoad:"login-required"}).success(function(n){return e(n)}).error(function(e){return n(new Error(e))})})},isAuthenticated:function(){return new Promise(function(e,n){return c.init({onLoad:"check-sso"}).success(function(n){return e(n)}).error(function(e){return n(new Error(e))})})},logout:function(){return new Promise(function(e,n){return c.logout().success(function(n){return e(n)}).error(function(e){return n(new Error(e))})})},getUser:function(){return new Promise(function(e,n){return c.loadUserInfo().success(function(n){return e({firstName:n.given_name,lastName:n.family_name,email:n.email})}).error(function(e){return n(new Error(e))})})},isDepositaire:function(){return new Promise(function(e,n){return e(c.hasRealmRole("depositaire"))})},isInstructeur:function(){return new Promise(function(e,n){return e(c.hasRealmRole("instructeur"))})}},depots:{mesDepots:function(){return s.get("/depots")},savePieceJointe:function(e,n,r){return s.post("/piecesjointes",{code:e,file:n,binary:r})}}};n.default=a}}]);
//# sourceMappingURL=9.e979ca42.chunk.js.map