(this["webpackJsonprieau-ui"]=this["webpackJsonprieau-ui"]||[]).push([[0],{103:function(e,t,a){"use strict";var n=a(35),r=a.n(n),i=a(55),o=a(0),c=a.n(o),s=a(40);function l(){return s.a.then((function(e){return e.default.auth}))}var u={login:s.b?function(e){return s.a.then(l).then((function(t){return t.login(e)}))}:function(){return s.a.then(l).then((function(e){return e.login()}))},logout:function(){return s.a.then(l).then((function(e){return e.logout()}))},isAuthenticated:function(){return s.a.then(l).then((function(e){return e.isAuthenticated()}))},getUser:function(){return s.a.then(l).then((function(e){return e.getUser()}))},isDeposant:function(){return s.a.then(l).then((function(e){return e.isDeposant()}))},isMairie:function(){return s.a.then(l).then((function(e){return e.isMairie()}))},isInstructeur:function(){return s.a.then(l).then((function(e){return e.isInstructeur()}))},isBeta:function(){return s.a.then(l).then((function(e){return e.isBeta()}))}},d=a(156),m=a(677),p=a(133);a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return E}));var f=c.a.createContext();function g(){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.isAuthenticated();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",{user:null,isAuthenticated:t,isDeposant:!1,isMairie:!1,isInstructeur:!1,isBeta:!1,dossiers:[]});case 5:return e.next=7,u.getUser();case 7:return e.t0=e.sent,e.t1=t,e.next=11,u.isDeposant();case 11:return e.t2=e.sent,e.next=14,u.isMairie();case 14:return e.t3=e.sent,e.next=17,u.isInstructeur();case 17:return e.t4=e.sent,e.next=20,u.isBeta();case 20:return e.t5=e.sent,e.abrupt("return",{user:e.t0,isAuthenticated:e.t1,isDeposant:e.t2,isMairie:e.t3,isInstructeur:e.t4,isBeta:e.t5});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=Object(d.a)({promiseFn:g}),a=t.data,n=t.error,r=t.isRejected,i=t.isLoading,o=t.reload;if(i)return c.a.createElement(m.a,null);if(r)return c.a.createElement(p.a,{error:n.message});if(a){var l=s.b?function(e){return u.login(e).then(o)}:function(){return u.login().then(o)};return c.a.createElement(f.Provider,Object.assign({value:{data:a,login:l,logout:function(){return u.logout().then(o)}}},e))}}function E(){var e=c.a.useContext(f);if(void 0===e)throw new p.a("useAuth must be used within a AuthProvider");return e}},130:function(e,t,a){"use strict";function n(e){return window.env[e]}a.d(t,"a",(function(){return n}))},132:function(e,t,a){"use strict";var n=a(281),r=a.n(n),i=a(0),o=a.n(i),c=a(8),s=a(159),l=a(657),u=a(659),d=a(658),m=a(21),p=a(69),f=a(74),g=a(54),b=a(45),h=a(62),E=[{id:"DEPOSANT",libelle:"d\xe9posant",avatar:"D"},{id:"INSTRUCTEUR",libelle:"instructeur",avatar:"I"},{id:"MAIRIE",libelle:"mairie",avatar:"M"},{id:"BETA",libelle:"b\xeata",avatar:"B"}];function v(e){var t=[];return e.profils.forEach((function(e){return t.push(E.find((function(t){return t.id===e})))})),t}function j(e){return e.toUpperCase().substring(0,1)}function y(e){return"".concat(e.prenom,"  ").concat(e.nom)}var O=a(656);var x=Object(b.a)(Object(c.a)((function(e){return{avatar:{color:"#fff",backgroundColor:"#4874b8"}}})))((function(e){var t,a=e.classes,n=e.personne;return o.a.createElement(O.a,{"aria-label":"initiales",className:a.avatar},j((t=n).prenom)+j(t.nom))}));var C=Object(b.a)(Object(c.a)((function(e){return{root:{flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:e.spacing(2)},content:{overflowWrap:"break-word"}}})))((function(e){var t=e.classes,a=Object(g.b)().user;return o.a.createElement(h.a,null,o.a.createElement(p.a,null),a&&o.a.createElement(s.a,{container:!0,spacing:1,className:t.root},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(l.a,null,o.a.createElement(d.a,{avatar:o.a.createElement(x,{personne:a}),title:"Mon Compte",subheader:y(a)}),o.a.createElement(u.a,{className:t.content},o.a.createElement(m.a,{variant:"h6",component:"h2"},"Profils"),o.a.createElement(m.a,{variant:"body2",color:"textSecondary",component:"p"},v(a).map((function(e){return e.libelle})).toString()),o.a.createElement(m.a,{variant:"h6",component:"h2"},"Email"),o.a.createElement(m.a,{variant:"body2",color:"textSecondary",component:"p"},a.email))))),o.a.createElement(f.a,null))})),k=a(453),I=a.n(k),w=a(23),P=a(46),D=a(127),A=a(686),R=(a(534),a(346)),S=a(319),N=a(376),M=a(661),q=a(687),z=a(589),L=a(170),F=a(419),T=a.n(F),G=[{nom:"Andeville",latitude:49.258172,longitude:2.1673,code:"60012"},{nom:"Bazi\xe8ge",latitude:43.454982,longitude:1.613846,code:"31048"},{nom:"Mours",latitude:49.13367,longitude:2.270546,code:"95436"},{nom:"Nogent-sur-Oise",latitude:49.274714,longitude:2.467452,code:"60463"},{nom:"La Cr\xe8che",latitude:46.363291,longitude:-.298161,code:"79048"},{nom:"Castanet-Tolosan",latitude:43.517586,longitude:1.498613,code:"31113"},{nom:"Saint-Tropez",latitude:43.273612,longitude:6.639691,code:"83119"}];var U=Object(c.a)((function(e){return{root:{position:"absolute",top:0,right:0,maxWidth:"320px",background:"#fff",boxShadow:"0 '2px' '4px' rgba(0,0,0,0.3)",padding:"24px",margin:"20px",color:"#6b6b76",outline:"none"},containerNotFound:{position:"relative",flexDirection:"column",display:"flex",alignItems:"center"}}}))((function(e){var t=e.communes,a=e.classes,n=e.onViewportChange,r=e.containerComponent,c=e.onSelectCommune,s=r||function(e){var t=e.children;return o.a.createElement(R.a,{className:a.root},t)},l=Object(i.useState)(),u=Object(w.a)(l,2),d=u[0],p=u[1];return o.a.createElement(s,null,o.a.createElement(S.a,{component:"fieldset"},o.a.createElement(z.a,{component:"legend"},"Communes partenaires"),o.a.createElement(M.a,{"aria-label":"Communes partenaires",name:"commune",value:d?d.code:"",onChange:function(e){var t,a=(t=e.target.value,G.find((function(e){return e.code===t})));p(a),c(a)}},t.map((function(e,t){return o.a.createElement(N.a,{key:t,value:e.code,label:e.nom,control:o.a.createElement(q.a,null),onClick:function(){return function(e){p(e),c(e),n(e)}(e)}})}))))," ",o.a.createElement(R.a,{className:a.containerNotFound},o.a.createElement(m.a,{variant:"subtitle2"},"La commune n'appara\xeet pas ?"),o.a.createElement(L.a,{color:"inherit",href:"https://www.service-public.fr/particuliers/vosdroits/F17578"},o.a.createElement(T.a,{"aria-label":"D\xe9poser en mairie"}),o.a.createElement(m.a,{variant:"body2"},"D\xe9poser en mairie"))))})),B=a(267),H=a(97),W=a(98),Y=a(101),V=a(99),Z=a(100);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X={cursor:"pointer",fill:"#e60000",stroke:"none"},K=function(e){function t(){return Object(H.a)(this,t),Object(Y.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.size,a=void 0===t?20:t,n=e.onClick;return o.a.createElement("svg",{height:a,viewBox:"0 0 24 24",style:J({},X,{transform:"translate(".concat(-a/2,"px,").concat(-a,"px)")}),onClick:n},o.a.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),t}(i.PureComponent),_=a(35),$=a.n(_),ee=a(55),te=a(119),ae=a(424),ne=a.n(ae),re=a(425),ie=a.n(re),oe=a(426),ce=a.n(oe),se=a(427),le=a.n(se),ue=a(377),de=a(138),me=a(216),pe=a(662),fe=a(322),ge=a.n(fe),be=a(38),he=a(470);function Ee(e){var t=e.classes,a=e.inputRef,n=void 0===a?function(){}:a,r=e.ref,i=Object(te.a)(e,["classes","inputRef","ref"]);return o.a.createElement(ue.a,Object.assign({"data-cy":"chercher-adresse-input",InputProps:{startAdornment:o.a.createElement(pe.a,{position:"start"},o.a.createElement(ge.a,null)),inputRef:function(e){r(e),n(e)},classes:{input:t.input}}},i))}function ve(e,t){var a=t.query,n=t.isHighlighted,r=ce()(e.label,a),i=le()(e.label,r);return o.a.createElement(me.a,{selected:n,component:"div"},o.a.createElement("div",null,i.map((function(e,t){return o.a.createElement("span",{key:t,style:{fontWeight:e.highlight?500:400}},e.text)}))))}var je=Object(c.a)((function(e){var t,a;return{root:{padding:2},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},suggestion:{display:"flex"},suggestionsList:(t={margin:0,padding:0,listStyleType:"none"},Object(P.a)(t,e.breakpoints.down("md"),{width:160,fontSize:24*.4}),Object(P.a)(t,e.breakpoints.up("md"),{width:400,fontSize:24}),t),input:(a={},Object(P.a)(a,e.breakpoints.down("md"),{width:400}),Object(P.a)(a,e.breakpoints.up("md"),{width:400}),a)}}))((function(e){var t=e.classes,a=e.commune,n=e.resetCommune,r=e.setErreur,c=e.onClickSelectAddress,s=Object(i.useState)(""),l=Object(w.a)(s,2),u=l[0],d=l[1],p=Object(i.useState)([]),f=Object(w.a)(p,2),g=f[0],b=f[1],h={container:t.container,suggestionsContainerOpen:t.suggestionsContainerOpen,suggestionsList:t.suggestionsList,suggestion:t.suggestion};function E(e){return e.features.map((function(e){var t={};return t.value=e.properties.id,t.label=e.properties.label,t.position=[e.geometry.coordinates[1],e.geometry.coordinates[0]],t}))}function v(e){return ne()(e.trim()).toLowerCase()}function j(){return y.apply(this,arguments)}function y(){return(y=Object(ee.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api-adresse.data.gouv.fr/search/?q=",t=v(u),e.next=4,fetch("https://api-adresse.data.gouv.fr/search/?q="+t+"&citycode="+a.code).then((function(e){return e.json()})).then((function(e){return E(e)}),(function(e){return r(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,j();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return e.label}var C={classes:t,placeholder:"Ex: 1 rue des Fleurs...",value:u,onChange:function(e,t){var a=t.newValue;d(a)},onBlur:function(e,t){var a=t.highlightedSuggestion;a&&(d(x(a)),c(a))}};return o.a.createElement("div",{className:t.root},a&&o.a.createElement(de.a,null,o.a.createElement(he.a,{display:"flex",flexDirection:"column",p:1,m:1,alignItems:"center"},o.a.createElement(he.a,{p:1},o.a.createElement(m.a,{variant:"subtitle2"},"Chercher l'adresse du projet \xe0 ".concat(a.nom)),o.a.createElement(ie.a,{classes:t,key:"autosuggest-".concat(a.code),"data-cy":"chercher-adresse-input",suggestions:g,shouldRenderSuggestions:function(e){return e.trim().length>3},onSuggestionsFetchRequested:function(){return O.apply(this,arguments)},onSuggestionsClearRequested:function(){b([])},onSuggestionSelected:function(e,t){var a=t.suggestion;b(x(a)),c(a)},getSuggestionValue:x,renderSuggestion:ve,renderInputComponent:Ee,inputProps:C,theme:h,renderSuggestionsContainer:function(e){return o.a.createElement(de.a,Object.assign({},e.containerProps,{square:!0}),e.children)}})),o.a.createElement(he.a,{p:1},o.a.createElement(be.a,{color:"inherit",variant:"outlined",onClick:n},"Changer de commune")))))})),ye=a(58),Oe=a(429),xe=a.n(Oe),Ce=a(430),ke=a.n(Ce),Ie=a(431),we=a.n(Ie);var Pe=Object(b.a)(Object(c.a)((function(e){var t;return{searchInput:{display:"flex"},popupContainer:(t={position:"relative",flexDirection:"column",display:"flex",alignItems:"center"},Object(P.a)(t,e.breakpoints.down("xs"),{width:300}),Object(P.a)(t,"width",400),t)}})))((function(e){var t=e.classes,a=e.commune,n=e.adresse,r=e.onClickSelectAddress,c=e.resetCommune,s=e.resetAdresse,l=e.parcelles,u=e.setErreur,d=n?n.position[1]:a?a.longitude:null,p=n?n.position[0]:a?a.latitude:null,f=Object(i.useState)(!0),g=Object(w.a)(f,2),b=g[0],E=g[1];return o.a.createElement(h.a,null,a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(D.c,{longitude:d,latitude:p},o.a.createElement(K,{size:20,onClick:function(){return E(!0)}})),b&&o.a.createElement(D.e,{longitude:d,latitude:p,anchor:"top",closeButton:!0,closeOnClick:!1,onClose:function(){return E(!1)}},n?o.a.createElement(de.a,{className:t.parcelles},o.a.createElement(he.a,{display:"flex",flexDirection:"column",p:1,m:1,alignItems:"center"},o.a.createElement(he.a,{p:1,justifyContent:"center"},o.a.createElement(m.a,{variant:"subtitle2"},"".concat(l.length," parcelles s\xe9lectionn\xe9es \xe0 ").concat(n.label)),o.a.createElement(m.a,{variant:"body2"},"Pour une surface totale de ".concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=0;return e.map((function(e){return a+=we()(e)})),Number.parseFloat(a).toFixed(t)}(l)," m\xb2"))),o.a.createElement(he.a,{p:1},o.a.createElement(be.a,{color:"secondary",component:ye.Link,variant:"contained",to:"/deposer"},"D\xe9poser"),o.a.createElement(be.a,{color:"inherit",variant:"outlined",onClick:s},"Changer d'adresse")))):o.a.createElement(je,{commune:a,onClickSelectAddress:r,resetCommune:c,setErreur:u}))))})),De=a(685),Ae=a(683),Re=a(665);function Se(e,t,a,n){t.length>9?n("Maximum atteint de ".concat(10," parcelles.")):!function(e,t){return t.length<1||t.filter((function(t){return xe()(e,t).features.length>0})).length>0}(e,t)?n("La parcelle ".concat(e.properties.numero," n'est pas contigu\xeb.")):a(t.concat(e))}function Ne(e,t,a,n,r,i){return e?[new De.a({id:"parcelles-polygon-layer",data:a,filled:!0,pickable:!0,stroked:!0,extruded:!1,opacity:.2,getFillColor:function(e){return[60,93,170]},getLineColor:[60,93,170],onClick:function(e){var t=e.object;e.x,e.y;Se(t,n,r,i)}}),new Ae.a({id:"parcelles-text-layer",data:t,getTextAnchor:"middle",getAlignmentBaseline:"center",getColor:function(e){return[0,0,0]},getSize:function(e){return 20},sizeScale:1,opacity:.6,getPixelOffset:[0,15]}),new Re.a({id:"parcelles-selectionnes-layer",data:n,pickable:!0,stroked:!0,filled:!0,wireframe:!0,lineWidthMinPixels:1,opacity:.2,getPolygon:function(e){return e.geometry.coordinates},getFillColor:function(e){return[0,17,94]},getLineColor:[0,17,94],getLineWidth:1,onClick:function(e){var t=e.object;e.x,e.y;!function(e,t,a){(function(e,t){return t.filter((function(t){return t.id===e.id})).length>0})(e,t)&&a(t.filter((function(t){return t.id!==e.id})))}(t,n,r)}})]:[]}function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var qe={latitude:45.9167,longitude:1.8833,zoom:4,pitch:0,bearing:0},ze="https://openmaptiles.geo.data.gouv.fr/styles/osm-bright/style.json";var Le=Object(b.a)(Object(c.a)((function(e){var t;return{map:{position:"relative",flexDirection:"column",display:"flex",alignItems:"center"},fullscreen:{position:"absolute",top:10,left:30,padding:2},nav:{position:"absolute",top:50,left:30,padding:2},parcelles:(t={position:"absolute",top:30,left:90,padding:e.spacing(2)},Object(P.a)(t,e.breakpoints.down("sm"),{width:200,height:340,fontSize:10}),Object(P.a)(t,e.breakpoints.up("sm"),{width:220,height:340,fontSize:14}),t),parcellesActions:{flexGrow:1}}})))((function(e){var t=e.classes,a=e.containerComponent,n=Object(i.useState)(qe),r=Object(w.a)(n,2),c=r[0],s=r[1],l=Object(i.useState)(G),u=Object(w.a)(l,2),d=u[0],m=u[1],f=Object(i.useState)(),g=Object(w.a)(f,2),b=g[0],E=g[1],v=Object(i.useState)(),j=Object(w.a)(v,2),y=j[0],O=j[1],x=Object(i.useState)([]),C=Object(w.a)(x,2),k=C[0],I=C[1],S=Object(i.useState)([]),N=Object(w.a)(S,2),M=N[0],q=N[1],z=Object(i.useState)([]),L=Object(w.a)(z,2),F=L[0],T=L[1],H=Object(i.useState)(),W=Object(w.a)(H,2),Y=W[0],V=W[1];function Z(e){s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))}function Q(e){var t={method:"GET",headers:(new Headers).append("Content-Type","application/json"),mode:"cors"};fetch(function(e){return"https://cadastre.data.gouv.fr/bundler/cadastre-etalab/communes/".concat(e.code,"/geojson/parcelles")}(e),t).then((function(e){return e.json()})).then((function(e){return function(e){T(e),q(e.features.map((function(e){return{text:e.properties.numero,position:(t=e,ke()(t)).geometry.coordinates};var t})))}(e)})).catch((function(e){return function(e){window.console.log(e),V("Une erreur est survenue lors du chargement des parcelles cadastrales.")}(e)}))}return o.a.createElement(h.a,null,o.a.createElement(p.a,null),o.a.createElement(R.a,{className:t.map,"data-cy":"map"},o.a.createElement(D.f,Object.assign({},c,{reuseMaps:!0,onViewportChange:Z,width:"100vw",height:"90vh",maxPitch:85,mapStyle:ze}),o.a.createElement(A.a,{layers:Ne(b,M,F,k,I,V),viewState:c}),o.a.createElement(D.b,{className:t.fullscreen}),o.a.createElement(D.d,{className:t.nav}),!y&&o.a.createElement(U,{communes:d,containerComponent:a,onViewportChange:function(e){Z({longitude:e.longitude,latitude:e.latitude,zoom:11,transitionInterpolator:new D.a,transitionDuration:3e3})},onSelectCommune:function(e){O(e),E(null),I([])}}),o.a.createElement(Pe,{commune:y,adresse:b,parcelles:k,onClickSelectAddress:function(e){E(e),Q(y),Z({latitude:e.position[0],longitude:e.position[1],zoom:18,transitionInterpolator:new D.a,transitionDuration:3e3})},resetCommune:function(){s(qe),m(G),E(null),I([]),O(null),q([]),T([]),V(null)},resetAdresse:function(){E(null),I([]),V(null),Z({longitude:y.longitude,latitude:y.latitude,zoom:11,transitionInterpolator:new D.a,transitionDuration:3e3})},setErreur:V}),Y&&o.a.createElement(B.a,{message:Y,variant:"error",initialState:!0,onClose:function(){return V(null)}}))))})),Fe=a(452),Te=a.n(Fe),Ge=a(341),Ue=a.n(Ge),Be=a(262),He=a(265),We=a(209),Ye=a.n(We),Ve=a(40);function Ze(){return Ve.a.then((function(e){return e.default.dossiers}))}var Qe={listerDossiers:function(){return Ve.a.then(Ze).then((function(e){return e.listerDossiers()}))},consulterDossier:function(e){return Ve.a.then(Ze).then((function(t){return t.consulterDossier(e)}))},ajouterDossier:function(e){return Ve.a.then(Ze).then((function(t){return t.ajouterDossier(e)}))},supprimerDossier:function(e){return Ve.a.then(Ze).then((function(t){return t.supprimerDossier(e)}))},savePieceJointe:function(e,t,a){return Ve.a.then(Ze).then((function(n){return n.savePieceJointe(e,t,a)}))},saveMessage:function(e,t){return Ve.a.then(Ze).then((function(a){return a.saveMessage(e,t)}))},lireFichier:function(e){return Ve.a.then(Ze).then((function(t){return t.lireFichier(e)}))},qualifierDossier:function(e){return Ve.a.then(Ze).then((function(t){return t.qualifierDossier(e)}))},declarerIncompletDossier:function(e,t){return Ve.a.then(Ze).then((function(a){return a.declarerIncompletDossier(e,t)}))},declarerCompletDossier:function(e){return Ve.a.then(Ze).then((function(t){return t.declarerCompletDossier(e)}))},prendreDecision:function(e,t){return Ve.a.then(Ze).then((function(a){return a.prendreDecision(e,t)}))}},Je=a(156),Xe=a(133),Ke=a(677),_e=a(117),$e=a(461),et=a(459),tt=a(670),at=a(667),nt=a(668),rt=a(374),it=a(669),ot=a(671),ct=a(672);function st(e){for(var t=[" Octets"," Ko"," Mo"," Go"," To"," Po"," Eo"," Zo"," Yo"],a=1;a<t.length;a++)if(e<Math.pow(1024,a))return Math.round(e/Math.pow(1024,a-1)*100)/100+t[a-1];return e}var lt=a(154),ut=a.n(lt),dt=a(130),mt=parseInt(Object(dt.a)("REACT_APP_MAX_SIZE_UPLOAD_FILE"));var pt=Object(b.a)(Object(c.a)((function(e){return{dropzone:{width:"100%",height:"auto",borderWidth:2,borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:5,padding:e.spacing(1)},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),Object(ct.a)())((function(e){var t=e.handleFile,a=e.onClose,n=e.fullScreen,r=e.classes,c=e.acceptedFormats,s=Object(i.useState)(!0),l=Object(w.a)(s,2),u=l[0],d=l[1],p=Object(i.useCallback)((function(e){e.forEach((function(e){var a=new FileReader;a.onabort=function(){return window.console.log("file reading was aborted")},a.onerror=function(){return window.console.log("file reading has failed")},a.readAsDataURL(e),a.onload=function(){var a=new FormData;a.append("file",e),t(a)},d(!1)}))}),[t]),f=Object(et.a)({accept:c,maxSize:mt,onDrop:p}),g=f.getRootProps,b=f.getInputProps,h=f.isDragReject,E=f.rejectedFiles,v=g(),j=v.ref,y=Object(te.a)(v,["ref"]);function O(){a(),d(!1)}var x=E.map((function(e,t){return o.a.createElement("li",{key:e},t.path," - ",st(t.size))}));return o.a.createElement(at.a,{fullScreen:n,open:u,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(nt.a,{className:r.appBar,color:"secondary"},o.a.createElement(rt.a,null,o.a.createElement(m.a,{variant:"h6",className:r.title},"T\xe9l\xe9verser un fichier"),o.a.createElement(L.a,{edge:"end",color:"inherit",onClick:O,"aria-label":"Close"},o.a.createElement(ut.a,null)))),o.a.createElement(it.a,null,o.a.createElement(tt.a,{rootRef:j},o.a.createElement(de.a,Object.assign({},y,{className:r.dropzone,"data-cy":"file-upload-dropzone"}),o.a.createElement("input",b()),h?o.a.createElement("p",null,"Ce fichier n'est pas acceptable"):o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Cliquez ici pour s\xe9lectionner un fichier ou glissez-le ici"),x.length>0&&o.a.createElement("aside",null,o.a.createElement("h4",{style:{color:"red"}},"Fichier rejet\xe9:"),o.a.createElement("ul",null,x))),o.a.createElement("em",null,"(Seuls les fichiers aux formats ".concat(c," de moins de ").concat(st(mt)," sont accept\xe9s)"))))),o.a.createElement(ot.a,null,o.a.createElement(be.a,{onClick:O,color:"secondary",variant:"contained",autoFocus:!0,"data-cy":"confirm-dialog-btn"},"Fermer")))})),ft=a(673);var gt=Object(b.a)(Object($e.a)((function(e){return{button:{margin:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)}}})))((function(e){var t=e.classes,a=e.acceptedFormats,n=e.iconName,r=e.label,c=e.variant,s=e.color,l=e.onUploadFile,u=e.setError,d=Object(i.useState)(!1),m=Object(w.a)(d,2),p=m[0],f=m[1];function g(){f(!1)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{className:t.button,variant:c,color:s,"aria-label":r,onClick:function(){f(!0)},"data-cy":"file-upload-btn"},r,o.a.createElement(ft.a,{className:t.rightIcon},n)),p&&o.a.createElement(pt,{handleFile:function(e,t,a){l(e,t,a).then().catch((function(e){return u(e)})),g()},onClose:g,acceptedFormats:a}))})),bt=a(439),ht=a.n(bt),Et=a(391),vt=a(325),jt=a.n(vt),yt=a(33),Ot=a(463),xt=a(441),Ct=a.n(xt);function kt(e,t){return e>t?-1:e<t?1:0}var It=function(e){return void 0===e?"":Ct()(e).format("DD/MM/YYYY \xe0 HH:mm")},wt=a(401),Pt=a(197),Dt=a(324),At=a.n(Dt),Rt=a(442),St=a.n(Rt),Nt=a(443),Mt=a.n(Nt),qt=a(340),zt=a.n(qt),Lt=[{id:"DEPOSE",libelle:"d\xe9pos\xe9",variant:"info",icon:o.a.createElement(At.a,null)},{id:"QUALIFIE",libelle:"qualifi\xe9",variant:"warning",icon:o.a.createElement(St.a,null)},{id:"INCOMPLET",libelle:"incomplet",variant:"error",icon:o.a.createElement(Mt.a,null)},{id:"COMPLET",libelle:"complet",variant:"success",icon:o.a.createElement(zt.a,null)},{id:"DECISION",libelle:"d\xe9cid\xe9",variant:"success",icon:o.a.createElement(zt.a,null)}];function Ft(e){return Lt.find((function(t){return t.id===e}))}function Tt(e){var t=e.statutsRestants;return[].concat(Object(Pt.a)(e.statuts),Object(Pt.a)(t))}var Gt=Lt;function Ut(){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.listerDossiers();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ht=Object(b.a)(_e.o)((function(e){var t=Object(Je.a)({promiseFn:Ut,onReject:function(e){return C.apply(this,arguments)}}),a=t.data,n=t.error,r=t.setError,i=t.isRejected,c=t.isLoading,s=t.isFulfilled,l=t.reload,u=e.history,d=Object(g.b)(),m=d.isBeta,b=d.isDeposant,E=Object(yt.a)(),v=[{name:"id",label:"Id"},{name:"statutActuel.id",label:"Statut",options:{customBodyRender:function(e,t,a){return o.a.createElement(wt.a,{icon:Ft(e).icon,label:Ft(e).libelle,color:"secondary"})}}}],j=Object(Ot.a)(E.breakpoints.down("sm"))?v:[].concat(v,[{name:"type.libelle",label:"Type"},{name:"statutActuel.dateDebut",label:"Depuis le",options:{customBodyRender:function(e,t,a){return It(e)}}},{name:"statutActuel.joursRestants",label:"Jours restants"}]);function y(e){return O.apply(this,arguments)}function O(){return(O=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.ajouterDossier(t);case 2:l();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.supprimerDossier(t);case 2:l();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i?o.a.createElement(Xe.a,{error:n}):c?o.a.createElement(Ke.a,null):a&&s?o.a.createElement(h.a,null,o.a.createElement(p.a,null),o.a.createElement(ht.a,{title:"Dossiers",data:a,columns:j,options:{filter:!0,filterType:"dropdown",responsive:"scrollFullHeight",rowsPerPage:5,rowsPerPageOptions:[5,10,15],customToolbar:function(){return m&&b?o.a.createElement(gt,{iconName:"add",color:"secondary",label:"Ajouter",variant:"contained",onUploadFile:y,setError:r,acceptedFormats:["application/pdf"]}):void 0},customToolbarSelect:function(e,t,n){return m&&b&&o.a.createElement(Et.a,{title:"Supprimer"},o.a.createElement(L.a,{onClick:function(){return e.data.forEach((function(e){return function(e){return x.apply(this,arguments)}(a[e.dataIndex].id)}))}},o.a.createElement(jt.a,null)))},onRowClick:function(e,t){u.push("/dossiers/".concat(e[0]))},textLabels:{body:{noMatch:"Aucune donn\xe9e",toolTip:"Trier",columnHeaderTooltip:function(e){return"Trier par ".concat(e.label)}},pagination:{next:"Page suivante",previous:"Page pr\xe9c\xe9dente",rowsPerPage:"Lignes par page:",displayRows:"de"},toolbar:{search:"Rechercher",downloadCsv:"Exporter en CSV",print:"Imprimer",viewColumns:"Voir les colonnes",filterTable:"Filtrer"},filter:{all:"Tout",title:"Filtres",reset:"Effacer"},viewColumns:{title:"Voir les colonnes",titleAria:"Voir/Cacher les colonnes"},selectedRows:{text:"ligne(s) s\xe9lectionn\xe9es",delete:"Supprimer",deleteAria:"Supprimer les lignes s\xe9lectionn\xe9es"}}}}),o.a.createElement(f.a,null)):void 0})),Wt=a(242),Yt=a(352),Vt=a(655),Zt=a(447),Qt=a.n(Zt),Jt=a(600),Xt=a(458),Kt=a(446),_t=a.n(Kt);var $t=Object(b.a)(Object(c.a)((function(e){return{grid:{display:"flex",flexDirection:"column",alignItems:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}})),Object(Xt.a)({mapPropsToValues:function(e){return{onSaveMessage:e.onSaveMessage,dossierId:e.dossierId}},initialValues:function(){return{message:""}},validate:function(e){var t={};return e.message||(t.message="Obligatoire"),t},handleSubmit:function(e,t){t.setSubmitting;var a=t.props;(0,a.onSaveMessage)(a.dossierId,e.message)},displayName:"MessageForm"}))((function(e){var t=e.classes,a=e.values,n=e.touched,r=e.errors,i=e.handleChange,c=e.handleBlur,l=e.handleSubmit,u=e.isSubmitting;return o.a.createElement(s.a,{container:!0,className:t.grid},o.a.createElement("form",{onSubmit:l},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(ue.a,{label:"Message",rowsMax:10,rows:10,multiline:!0,placeholder:"Votre message",value:a.message,onChange:i,onBlur:c,name:"message","data-cy":"message-contenu-textarea",margin:"normal",variant:"filled",className:t.textField})),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(be.a,{className:t.button,type:"submit",variant:"contained",color:"secondary","aria-label":"ajouter un nouveau message","data-cy":"message-envoyer-btn",disabled:u},"Envoyer",o.a.createElement(_t.a,{className:t.rightIcon}))),o.a.createElement(s.a,{item:!0,xs:12},r.message&&n.message&&o.a.createElement("div",{id:"feedback"},r.message))))})),ea=Object(i.forwardRef)((function(e,t){return o.a.createElement(Jt.a,Object.assign({direction:"up",ref:t},e))}));ea.displayName="TransitionNewMessgeDialog";var ta=Object(c.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},dialogTitle:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.classes,a=e.dossierId,n=e.initialState,r=e.onClose,i=e.onSaveMessage,c=o.a.useState(n),s=Object(w.a)(c,2),l=s[0],u=s[1];function d(){r(),u(!1)}function p(e){i(a,e),u(!1)}return o.a.createElement(at.a,{open:l,onClose:d,"aria-labelledby":"message-new-dialog-title",TransitionComponent:ea},o.a.createElement(nt.a,{className:t.appBar,color:"secondary"},o.a.createElement(rt.a,null,o.a.createElement(m.a,{variant:"h6",className:t.title},"Nouveau message"),o.a.createElement(L.a,{edge:"end",color:"inherit",onClick:d,"aria-label":"Close"},o.a.createElement(ut.a,null)))),o.a.createElement(it.a,null,o.a.createElement($t,{dossierId:a,onSaveMessage:function(e,t){return p(t)}})))}));var aa=Object(c.a)((function(e){return{fab:{backgroundColor:e.palette.secondary.main,margin:e.spacing(1),position:"fixed",bottom:e.spacing(2),right:e.spacing(3)}}}))((function(e){var t=e.classes,a=e.dossierId,n=e.onSaveMessage,r=Object(i.useState)(!1),c=Object(w.a)(r,2),s=c[0],l=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Vt.a,{color:"primary","data-cy":"message-ajouter-btn","aria-label":"Ajouter",className:t.fab,onClick:function(){l(!0)}},o.a.createElement(Qt.a,{color:"primary"})),s&&o.a.createElement(ta,{dossierId:a,onClose:function(){l(!1)},initialState:!0,onSaveMessage:n}))})),na=a(451),ra=a.n(na),ia=a(450),oa=a.n(ia),ca=a(674),sa=a(675),la=[{numero:"d",titre:"D\xe9cision Mairie",description:"La copie de l'arr\xeat\xe9 de la d\xe9cision de la collectivit\xe9",formats:"application/pdf",required:!1},{numero:"0",titre:"CERFA 13703-06",description:"D\xe9claration pr\xe9alable - Constructions et travaux non soumis \xe0 permis de construire portant sur une maison individuelle et/ou ses annexes",formats:"application/pdf",required:!0},{numero:"1",titre:"DP1 - Plan de situation",description:"Un plan de situation du terrain [Art. R. 431-36 a) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"2",titre:"DP2 - Plan de masse",description:"Un plan de masse cot\xe9 dans les 3 dimensions [Art. R. 431-36 b) du code de l\u2019urbanisme]. \xc0 fournir si votre projet cr\xe9e une construction ou modifie le volume d\u2019une construction existante (exemples : v\xe9randa, abri de jardin\u2026)",formats:"application/pdf,image/*",required:!1},{numero:"3",titre:"DP3 - Plan de coupe",description:"Un plan en coupe pr\xe9cisant l\u2019implantation de la construction par rapport au profil du terrain [Art. R. 431-10b) du code de l\u2019urbanisme]. \xc0 fournir si votre projet modifie le profil du terrain (exemple : piscine enterr\xe9e\u2026)",formats:"application/pdf,image/*",required:!1},{numero:"4",titre:"DP4 - Plan des fa\xe7ades et des toitures",description:"Un plan des fa\xe7ades et des toitures [Art. R. 431-10a) du code de l\u2019urbanisme]. \xc0 fournir si votre projet les modifie (exemple : pose d\u2019une fen\xeatre de toit, cr\xe9ation d\u2019une porte..). Inutile pour un simple ravalement de fa\xe7ade.",formats:"application/pdf,image/*",required:!1},{numero:"5",titre:"DP5 - Repr\xe9sentation de l'aspect ext\xe9rieur",description:"Une repr\xe9sentation de l\u2019aspect ext\xe9rieur de la construction faisant appara\xeetre les modifications projet\xe9es [Art. R. 431-36c) du code de l\u2019urbanisme] \xc0 fournir uniquement si la pi\xe8ce DP4 est insuffisante pour montrer la modification envisag\xe9e.",formats:"application/pdf,image/*",required:!1},{numero:"6",titre:"DP6 - Document graphique d'insertion",description:"Un document graphique permettant d\u2019appr\xe9cier l\u2019insertion du projet de construction dans son environnement [Art. R. 431-10 c du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"7",titre:"DP7 - Photo de situation proche ",description:"Une photographie permettant de situer le terrain dans l\u2019environnement proche [Art. R. 431-10 d) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"8",titre:"DP8 - Photo de situation lointaine",description:"Une photographie permettant de situer le terrain dans le paysage lointain, sauf si vous justifiez qu\u2019aucune photographie de loin n\u2019est possible [Art. R. 431-10 d) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"8-1",titre:"DP8-1 - Note des d\xe9rogations",description:"Une note pr\xe9cisant la nature de la ou des d\xe9rogations demand\xe9es et justifiant du respect des objectifs et des conditions fix\xe9es aux articles L. 151-29-1 et L. 152-6 du code de l\u2019urbanisme pour chacune des d\xe9rogations demand\xe9es. [Art. R. 431-31-2 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"11",titre:"DP11 - Notice des mat\xe9riaux",description:"Une notice faisant appara\xeetre les mat\xe9riaux utilis\xe9s et les modalit\xe9s d\u2019ex\xe9cution des travaux [Art. R. 431-14, R. 431-14-1 et R. 441-8-1 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"11-1",titre:"DP11-1 - Dossier R331-19",description:"Le dossier pr\xe9vu au II de l\u2019article R. 331-19 du code de l\u2019environnement [Art. R. 431-14-1 et R. 441-8-1 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"12-1",titre:"DP12-1 - Document R111-21",description:"Un document pr\xe9vu par l\u2019article R. 111-21 du code de la construction et de l\u2019habitation attestant que la construction fait preuve d\u2019exemplarit\xe9 \xe9nerg\xe9tique ou d\u2019exemplarit\xe9 environnementale ou est \xe0 \xe9nergie positive selon les crit\xe8res d\xe9finis par ces dispositions [Art. R. 431-18 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"12-2",titre:"DP12-2 - Dossier R111-23",description:"Un document par lequel le demandeur s\u2019engage \xe0 installer des dispositifs conformes aux dispositions de l\u2019arr\xeat\xe9 pr\xe9vu au 2\xb0 de l\u2019article R. 111-23 [Art. R. 431-18-1 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"14",titre:"DP14 - Note d\xe9rogation accessibilit\xe9",description:"Une note pr\xe9cisant la nature des travaux pour lesquels une d\xe9rogation est sollicit\xe9e et justifiant que ces travaux sont n\xe9cessaires pour permettre l\u2019accessibilit\xe9 du logement \xe0 des personnes handicap\xe9es [Art. R. 431-31 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"15",titre:"DP15 - Contrat servitude cours communes",description:"Une copie du contrat ou de la d\xe9cision judiciaire relatif \xe0 l\u2019institution de ces servitudes [Art. R. 431-32 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"16",titre:"DP16 - Contrat transfert des possibilit\xe9s de construction",description:"Une copie du contrat ayant proc\xe9d\xe9 au transfert des possibilit\xe9s de construction r\xe9sultant du coefficient d\u2019occupation des sols [Art. R. 431-33 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"17",titre:"DP17 - Graphique plan de sauvegarde et de mise en valeur",description:"Un document graphique faisant appara\xeetre l\u2019\xe9tat initial et l\u2019\xe9tat futur de chacun des \xe9l\xe9ments ou parties faisant l\u2019objet de travaux [Art. R .431-37 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"22",titre:"DP22 - Convention projet urbain partenarial",description:"L\u2019extrait de la convention pr\xe9cisant le lieu du projet urbain partenarial et la dur\xe9e d\u2019exon\xe9ration de la taxe d\u2019am\xe9nagement [Art. R. 431-23-2 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"23",titre:"DP23 - Agr\xe9ment",description:"La copie de l\u2019agr\xe9ment [Art. R. 431-16 g) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1}],ua=[{numero:"d",titre:"D\xe9cision Mairie",description:"La copie de l'arr\xeat\xe9 de la d\xe9cision de la collectivit\xe9",formats:"application/pdf",required:!1},{numero:"0",titre:"CERFA 13406-06",description:"Demande de Permis de construire pour une maison individuelle et/ou ses annexes comprenant ou non des d\xe9molitions",formats:"application/pdf",required:!0},{numero:"1",titre:"PCMI1 - Plan de situation",description:"Un plan de situation du terrain [Art. R. 431-7 a) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"2",titre:"PCMI2 - Plan de masse",description:"Un plan de masse des constructions \xe0 \xe9difier ou \xe0 modifier [Art. R. 431-9 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"3",titre:"PCMI3 - Plan de coupe",description:"Un plan en coupe du terrain et de la construction [Article R. 431-10 b) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"4",titre:"PCMI4 - Notice descriptive",description:"Une notice d\xe9crivant le terrain et pr\xe9sentant le projet [Art. R. 431-8 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"5",titre:"PCMI5 - Plan des fa\xe7ades",description:"Un plan des fa\xe7ades et des toitures [Art. R. 431-10 a) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"6",titre:"PCMI6 - Document graphique d'insertion",description:"Un document graphique permettant d\u2019appr\xe9cier l\u2019insertion du projet de construction dans son environnement [Art. R. 431-10 c) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"7",titre:"PCMI7 - Photo de situation proche ",description:"Une photographie permettant de situer le terrain dans l\u2019environnement proche [Art. R. 431-10 d) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"8",titre:"PCMI8 - Photo de situation lointaine",description:"Une photographie permettant de situer le terrain dans le paysage lointain [Art. R. 431-10 d) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"9",titre:"PCMI9 - Certificat surface constructible",description:"Le certificat indiquant la surface constructible attribu\xe9e \xe0 votre lot [Art. R. 442-11 1er al du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"10",titre:"PCMI10 - Certificat ach\xe8vement des \xe9quipements",description:"Le certificat attestant l\u2019ach\xe8vement des \xe9quipements desservant le lot [Art. R. 431-22-1 a) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"11",titre:"PCMI11 - Cahier des charges de cession du terrain",description:"Une copie des dispositions du cahier des charges de cession de terrain qui indiquent le codebre de m\xb2 constructibles sur la parcelle et, si elles existent, des dispositions du cahier des charges, qui fixent les prescriptions techniques, urbanistiques et architecturales impos\xe9es pour la dur\xe9e de r\xe9alisation de la zone [Art. R. 431-23 a) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"12",titre:"PCMI12 - Convention participation au co\xfbt des \xe9quipements collectifs",description:"La convention entre la commune ou l\u2019\xe9tablissement public et vous qui fixe votre participation au co\xfbt des \xe9quipements de la zone [Art. R. 431-23 b) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"12-1",titre:"PCMI12-1 - Dossier \xe9valuation des incidences",description:"Le dossier d\u2019\xe9valuation des incidences pr\xe9vu \xe0 l\u2019art. R. 414-23 du code de l\u2019environnement [Art. R.431-16 c) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"12-2",titre:"PCMI12-2 - Attestation conformit\xe9",description:"L\u2019attestation de conformit\xe9 du projet d\u2019installation [Art. R.431-16 d) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"13",titre:"PCMI13 - Attestation contr\xf4leur technique",description:"L\u2019attestation d\u2019un contr\xf4leur technique [Art. R. 431-16 e) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"14",titre:"PCMI14 - Attestation architecte",description:"L\u2019attestation de l\u2019architecte ou de l\u2019expert certifiant que l\u2019\xe9tude a \xe9t\xe9 r\xe9alis\xe9e et que le projet la prend en compte [Art. R. 431-16 f) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"14-1",titre:"PCMI14-1 - Attestation r\xe9glementation thermique",description:"Le formulaire attestant la prise en compte de la r\xe9glementation thermique [Art. R. 431-16 j) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"15",titre:"PCMI15 - Attestation exemplarit\xe9 environnementale",description:"Un document pr\xe9vu par l\u2019article R. 111-21 du code de la construction et de l\u2019habitation attestant que la construction fait preuve d\u2019exemplarit\xe9 \xe9nerg\xe9tique ou d\u2019exemplarit\xe9 environnementale ou est \xe0 \xe9nergie positive selon les crit\xe8res d\xe9finis par ces dispositions [Art. R. 431-18 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"16",titre:"PCMI16 - Document engagement R. 111-23",description:"Un document par lequel le demandeur s\u2019engage \xe0 installer des dispositifs conformes aux dispositions de l\u2019arr\xeat\xe9 pr\xe9vu au 2\xb0 de l\u2019article R. 111-23 [Art. R. 431-18-1 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"17",titre:"PCMI17 - Lettre du pr\xe9fet sur d\xe9frichement",description:"La copie de la lettre du pr\xe9fet qui vous fait savoir que votre demande d\u2019autorisation de d\xe9frichement est compl\xe8te, si le d\xe9frichement est ou non soumis \xe0 reconnaissance de la situation et de l\u2019\xe9tat des terrains et si la demande doit ou non faire l\u2019objet d\u2019une enqu\xeate publique [Art. R. 431-19 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"18",titre:"PCMI18 - Justificatif d\xe9p\xf4t permis de d\xe9molir",description:"La justification du d\xe9p\xf4t de la demande de permis de d\xe9molir [Art. R. 431-21 a) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"19",titre:"PCMI19 - Pi\xe8ces jointes au permis de d\xe9molir",description:"Les pi\xe8ces \xe0 joindre \xe0 une demande de permis de d\xe9molir, selon l\u2019Annexe ci-jointe [Art. R. 431-21 b) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"20",titre:"PCMI20 - Accord gestionnaire domaine public",description:"L\u2019accord du gestionnaire du domaine pour engager la proc\xe9dure d\u2019autorisation d\u2019occupation temporaire du domaine public [Art. R. 431-13 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"21",titre:"PCMI21 - Notice mat\xe9rieaux",description:"Une notice faisant appara\xeetre les mat\xe9riaux utilis\xe9s et les modalit\xe9s d\u2019ex\xe9cution des travaux [Art. R. 431-14 et R. 431-14-1 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"21-1",titre:"PCMI21-1 - Dossier R. 331-19",description:"Le dossier pr\xe9vu au II de l\u2019article R. 331-19 du code de l\u2019environnement [Art. R. 431-14-1 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"22",titre:"PCMI22 - Plan situation stationnements",description:" Le plan de situation du terrain sur lequel seront r\xe9alis\xe9es les aires de stationnement et le plan des constructions et des am\xe9nagements correspondants [Art. R. 431-26 a) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"23",titre:"PCMI23 - Promesse concession",description:" La promesse synallagmatique de concession ou d\u2019acquisition [Art. R. 431-26 b) du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"23-1",titre:"PCMI23-1 - Note d\xe9rogation accessibilit\xe9",description:"Une note pr\xe9cisant la nature des travaux pour lesquels une d\xe9rogation est sollicit\xe9e et justifiant que ces travaux sont n\xe9cessaires pour permettre l\u2019accessibilit\xe9 du logement \xe0 des personnes handicap\xe9es [Art. R. 431-31 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"23-2",titre:"PCMI23-2 - Demande d\xe9rogation R. 111-1-2",description:"Une demande de d\xe9rogation comprenant les pr\xe9cisions et les justifications d\xe9finies \xe0 l\u2019article R. 111-1-2 du code de la construction et de l\u2019habitation [Art. R. 431-31-1 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"23-3",titre:"PCMI23-3 - Note d\xe9rogations Art. R. 431-31-2",description:"Une note pr\xe9cisant la nature de la ou des d\xe9rogations demand\xe9es justifiant du respect des objectifs et des conditions fix\xe9es aux articles L. 151-29-1 et L. 152-6 du code de l\u2019urbanisme pour chacune des d\xe9rogations demand\xe9es. [Art. R. 431-31-2 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"24",titre:"PCMI24 - Contrat servitudes",description:"Une copie du contrat ou de la d\xe9cision judiciaire relatifs \xe0 l\u2019institution de ces servitudes [Art. R. 431-32 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"25",titre:"PCMI25 - Contrat transfert COS",description:"Une copie du contrat ayant proc\xe9d\xe9 au transfert des possibilit\xe9s de construction r\xe9sultant du COS [Art. R. 431-33 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1},{numero:"26",titre:"PCMI26 - Extrait convention projet urbain partenarial",description:"L\u2019extrait de la convention pr\xe9cisant le lieu du projet urbain partenarial et la dur\xe9e d\u2019exon\xe9ration de la taxe d\u2019am\xe9nagement [Art. R. 431-23-2 du code de l\u2019urbanisme]",formats:"application/pdf,image/*",required:!1}];function da(e,t,a){if(e)if(e.DossierId=t.id,a===t.cerfa.numero)e.fichierId=t.cerfa.fichierId;else if(t.decision&&a===t.decision.numero)e.fichierId=t.decision.fichierId;else{var n=t.piecesJointes.find((function(e){return e.numero===a}));e.fichierId=n?n.fichierId:null}return e}function ma(e,t){var a={};switch(e.type.id){case"DPMI":return da(a=la.find((function(e){return e.numero===t})),e,t);case"PCMI":return da(a=ua.find((function(e){return e.numero===t})),e,t);default:return a}}function pa(e){return ma(e,e.cerfa.numero)}function fa(e){return ma(e,e.decision.numero)}var ga=a(448),ba=a.n(ga),ha=Object(i.forwardRef)((function(e,t){return o.a.createElement(Jt.a,Object.assign({direction:"up",ref:t},e))}));ha.displayName="TransitionDialog";var Ea=Object(c.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},dialogTitle:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},pdfContent:{width:"100%",height:"100%"}}}))((function(e){var t=e.classes,a=e.file,n=e.initialState,r=e.onClose,i=o.a.useState(n),c=Object(w.a)(i,2),s=c[0],l=c[1];function u(){r(),l(!1)}return o.a.createElement(at.a,{open:s,onClose:u,"aria-labelledby":"pieceJointe-preview-dialog-title",fullScreen:"application/pdf"===a.type,TransitionComponent:ha},o.a.createElement(nt.a,{className:t.appBar,color:"secondary"},o.a.createElement(rt.a,null,o.a.createElement(m.a,{variant:"h6",className:t.title},"Aper\xe7u de ".concat(a.nom)),o.a.createElement(L.a,{edge:"end",color:"inherit",onClick:u,"aria-label":"Close","data-cy":"file-preview-close-btn"},o.a.createElement(ut.a,null)))),o.a.createElement(it.a,null,"application/pdf"===a.type&&o.a.createElement("embed",{src:a.data,type:a.type,"aria-label":a.nom,className:t.pdfContent}),a.type.startsWith("image/")&&o.a.createElement("img",{src:a.data,alt:a.nom})))})),va=a(676);function ja(e){return ya.apply(this,arguments)}function ya(){return(ya=Object(ee.a)($.a.mark((function e(t){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!t||null===t||!t.fichierId||null===t.fichierId){e.next=5;break}return e.next=4,Qe.lireFichier(t.fichierId);case 4:a=e.sent;case 5:return e.abrupt("return",{file:a});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oa=Object(c.a)((function(e){return{button:{margin:e.spacing(1)},buttonWrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:"inherit",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},rightIcon:{marginLeft:e.spacing(1)}}}))((function(e){var t=e.classes,a=e.fichierId,n=e.label,r=Object(i.useState)(null!==a),c=Object(w.a)(r,2),s=c[0],l=c[1],u=Object(i.useState)(!1),d=Object(w.a)(u,2),m=d[0],p=d[1],f=Object(Je.a)({promiseFn:ja,fichierId:a}),g=f.data,b=void 0===g?{file:null}:g,h=f.isSettled,E=f.isLoading,v=f.isRejected,j=f.error,y=b.file;return Object(i.useEffect)((function(){h&&y&&null!==y&&l(!0)}),[h,y]),v?o.a.createElement(Xe.a,{error:j}):o.a.createElement(o.a.Fragment,null,s&&h&&y&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.buttonWrapper},o.a.createElement(be.a,{className:t.button,variant:"contained",color:"secondary","aria-label":"pr\xe9visualiser",onClick:function(){p(!0)},disabled:E,"data-cy":"file-preview-btn"},n||"Pr\xe9visualiser",o.a.createElement(ba.a,{className:t.rightIcon}))),E&&o.a.createElement(va.a,{size:24,className:t.buttonProgress}),m&&o.a.createElement(Ea,{file:y,onClose:function(){p(!1)},initialState:!0})))}));var xa=Object(c.a)((function(e){return{card:{maxWidth:400,marginBottom:e.spacing(1)},content:{display:"flex",flexWrap:"wrap"},actions:{display:"flex"}}}))((function(e){var t=e.classes,a=e.pieceJointe,n=e.setError,r=e.reload,i=Object(g.b)().isDeposant;function c(){return(c=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.savePieceJointe(a.DossierId,a.numero,t);case 2:r();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(l.a,{className:t.card},o.a.createElement(d.a,{title:function(e,t){var a=e;return t&&(e+="(* obligatoire)"),a}(a.titre,a.required)}),o.a.createElement(u.a,{className:t.content},a.description),o.a.createElement(sa.a,{disableSpacing:!0,className:t.actions},i&&!function(e){return"0"===e.numero}(a)&&!function(e){return"d"===e.numero}(a)&&o.a.createElement(gt,{iconName:"cloud_upload",label:"T\xe9l\xe9verser",variant:"outlined",color:"inherit",onUploadFile:function(e){return c.apply(this,arguments)},setError:n,acceptedFormats:a.formats.split(",")}),o.a.createElement(Oa,{fichierId:a.fichierId,setError:n})))})),Ca=a(684),ka=a(682);var Ia=Object(c.a)((function(e){return{card:{marginBottom:e.spacing(1),display:"flex",flexDirection:"column"},header:{display:"flex"},content:{overflowWrap:"break-word"}}}))((function(e){var t,a=e.classes,n=e.message;return o.a.createElement(l.a,{className:a.card},o.a.createElement(d.a,{avatar:o.a.createElement(x,{personne:n.auteur}),title:(t=n.auteur,"".concat(y(t)," (").concat(v(t).map((function(e){return e.libelle})).toString(),")")),subheader:"Le ".concat(It(n.date)),className:a.header}),o.a.createElement(u.a,{className:a.content},n.contenu))})),wa=Object(Wt.a)((function(e){return{grid:{flexGrow:1}}}));function Pa(e,t){return e.auteur.profils.includes(t)}function Da(e){var t=e.messages;return o.a.createElement(o.a.Fragment,null,t.length>1?t.sort(kt).map((function(e,t){return o.a.createElement(o.a.Fragment,{key:t},o.a.createElement(s.a,{item:!0,xs:6},Pa(e,"DEPOSANT")&&o.a.createElement(Ia,{message:e})),o.a.createElement(s.a,{item:!0,xs:6},Pa(e,"INSTRUCTEUR")&&o.a.createElement(Ia,{message:e})))})):t.length>0&&o.a.createElement(Ia,{message:t[0]}))}var Aa=function(e){var t=e.messages,a=wa(),n=Object(yt.a)(),r=Object(Ot.a)(n.breakpoints.down("sm"));return o.a.createElement(s.a,{container:!0,spacing:1,className:a.grid},o.a.createElement(s.a,{container:!0,item:!0,xs:12,spacing:3},r?t.map((function(e,t){return o.a.createElement(Ia,{message:e,key:t})})):o.a.createElement(Da,{messages:t})))},Ra=a(6),Sa=a(681),Na=a(678),Ma=a(679),qa=a(601),za=a(680),La=Object(Wt.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}}),Fa=Object(c.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(qa.a);function Ta(e){var t,a=La(),n=e.active,r=e.completed,i=e.icon,c=Gt.map((function(e){return e.icon}));return o.a.createElement("div",{className:Object(Ra.a)(a.root,(t={},Object(P.a)(t,a.active,n),Object(P.a)(t,a.completed,r),t))},c[String(i-1)])}function Ga(e){return e?"le "+It(e):""}var Ua=function(e){var t=e.activeStepId,a=e.steps,n=a.find((function(e){return e.id===t})),r=a.lastIndexOf(n),i={},c={},s=Object(yt.a)(),l=Object(Ot.a)(s.breakpoints.down("sm"));return o.a.createElement(Sa.a,{activeStep:r,alternativeLabel:!l,connector:l?void 0:o.a.createElement(Fa,null),orientation:l?"vertical":"horizontal"},a.map((function(e){return o.a.createElement(Na.a,Object.assign({key:e.id,"data-cy":"step-".concat(e.id)},i,{error:e.error?e.error.toString():""}),o.a.createElement(Ma.a,Object.assign({StepIconComponent:Ta},c,{error:!!e.error&&e.error}),l?e.libelle:e.libelle+" "+Ga(e.dateDebut)),l&&o.a.createElement(za.a,null,Ga(e.dateDebut)))})))},Ba=a(449),Ha=a.n(Ba);var Wa=Object(c.a)((function(e){return{button:{margin:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)}}}))((function(e){var t=e.classes,a=e.dossierId,n=e.onSaveMessage,r=Object(i.useState)(!1),c=Object(w.a)(r,2),s=c[0],l=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{className:t.button,variant:"contained",color:"secondary","aria-label":"d\xe9clarer incomplet",onClick:function(){l(!0)},"data-cy":"declarer-incomplet-btn"},"Incomplet",o.a.createElement(Ha.a,null)),s&&o.a.createElement(ta,{dossierId:a,onClose:function(){l(!1)},initialState:!0,onSaveMessage:n}))}));var Ya=Object(c.a)((function(e){return{root:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center"}}}))((function(e){var t=e.classes,a=e.dossier,n=e.match,r=e.setError,i=e.reload,c=n.params.id,l=Object(g.b)(),u=l.isMairie,d=l.isInstructeur;function p(){return(p=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.qualifierDossier(c);case 2:i();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.declarerIncompletDossier(c,t);case 2:i();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.declarerCompletDossier(c);case 2:i();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.prendreDecision(c,t);case 2:i();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(s.a,{container:!0,className:t.root},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(m.a,{variant:"h6",marked:"center",align:"center"},"CERFA initial"),o.a.createElement(Oa,{fichierId:pa(a).fichierId,label:"CERFA",setError:r}),"DECISION"===a.statutActuel.id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{variant:"h6",marked:"center",align:"center"},"D\xe9cision"),o.a.createElement(Oa,{fichierId:fa(a).fichierId,label:"D\xe9cision",setError:r}))),o.a.createElement(s.a,{item:!0,xs:12},(u&&["DEPOSE","COMPLET"].includes(a.statutActuel.id)||d&&["QUALIFIE","INCOMPLET"].includes(a.statutActuel.id))&&o.a.createElement(m.a,{variant:"h6",marked:"center",align:"center"},"Actions"),u&&"DEPOSE"===a.statutActuel.id&&o.a.createElement(be.a,{variant:"contained",color:"secondary",onClick:function(e){return function(){return p.apply(this,arguments)}()},"data-cy":"qualifier-btn"},"Qualifier"),d&&["QUALIFIE","INCOMPLET"].includes(a.statutActuel.id)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{variant:"contained",color:"secondary",onClick:function(e){return function(){return b.apply(this,arguments)}()},"data-cy":"declarer-complet-btn"},"Complet"),o.a.createElement(Wa,{dossierId:a.id,onSaveMessage:function(e,t){return function(e){return f.apply(this,arguments)}(t)}})),u&&"COMPLET"===a.statutActuel.id&&o.a.createElement(gt,{iconName:"attach_file",color:"secondary",label:"D\xe9cider",variant:"contained",onUploadFile:function(e){return h.apply(this,arguments)},setError:r,acceptedFormats:["application/pdf"]})))})),Va=Object(Wt.a)((function(e){return{card:{display:"flex",flexDirection:"column",alignItems:"center"},content:{display:"flex",flexWrap:"wrap"},grid:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center"},buttons:{flexGrow:1,display:"flex",alignItems:"center"},tabs:{flexGrow:1}}}));function Za(e){return Qa.apply(this,arguments)}function Qa(){return(Qa=Object(ee.a)($.a.mark((function e(t){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,Qe.consulterDossier(a);case 3:return e.t0=e.sent,e.abrupt("return",{dossier:e.t0});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e){var t=e.dossier;return o.a.createElement(m.a,{variant:"h6",marked:"center",align:"center"},t.statutsRestants.length>0&&"Il reste ".concat(t.statutActuel.joursRestants," jours avant qu'il soit ").concat(t.statutsRestants.length>0?["INCOMPLET","COMPLET"].includes(t.statutsRestants[0].id)?"d\xe9clar\xe9 ".concat(t.statutsRestants[0].libelle," ou ").concat(t.statutsRestants[1].libelle):t.statutsRestants[0].libelle:""))}function Xa(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Ka(e){var t=e.children,a=e.value,n=e.index,r=Object(te.a)(e,["children","value","index"]),i=Va();return o.a.createElement(m.a,Object.assign({variant:"body2",marked:"center",component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),o.a.createElement(s.a,{container:!0,spacing:1,className:i.grid},o.a.createElement(s.a,{item:!0,xs:12},t)))}var _a=Object(b.a)(_e.o)((function(e){var t=e.match,a=Va(),n=t.params.id,r=Object(g.b)(),i=r.isDeposant,c=r.isBeta,l=r.isInstructeur,u=Object(Je.a)({promiseFn:Za,id:n}),d=u.data,b=void 0===d?{dossier:null}:d,E=u.error,v=u.isLoading,j=u.isRejected,y=u.reload,O=u.setError,x=o.a.useState(0),C=Object(w.a)(x,2),k=C[0],I=C[1];function P(){return(P=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.saveMessage(n,t);case 2:y();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(j)return o.a.createElement(Xe.a,{error:E.message});if(v)return o.a.createElement(Ke.a,null);if(b){var D=b.dossier;return D?o.a.createElement(h.a,null,o.a.createElement(p.a,null),o.a.createElement(m.a,{variant:"h3",marked:"center",align:"center"},"Dossier n\xb0".concat(D.id)),o.a.createElement("div",{className:a.tabs},o.a.createElement(nt.a,{position:"static",color:"inherit"},o.a.createElement(Ca.a,{value:k,onChange:function(e,t){I(t)},"aria-label":"onglets",centered:!0,indicatorColor:"secondary",textColor:"secondary",variant:"fullWidth"},o.a.createElement(ka.a,Object.assign({label:"\xc9tapes","data-cy":"etapes-tab"},Xa(0))),o.a.createElement(ka.a,Object.assign({icon:o.a.createElement(ca.a,{className:a.badge,badgeContent:D.piecesJointes.length,max:100,color:"secondary"},o.a.createElement(oa.a,null)),label:"Pi\xe8ces","data-cy":"pieces-tab"},Xa(1))),o.a.createElement(ka.a,Object.assign({icon:o.a.createElement(ca.a,{className:a.badge,badgeContent:D.messages.length,max:100,color:"secondary"},o.a.createElement(ra.a,null)),label:"Messages","data-cy":"messages-tab"},Xa(2))))),o.a.createElement(Ka,{value:k,index:0},o.a.createElement(s.a,{container:!0,spacing:1,className:a.grid},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(Ja,{dossier:D}),o.a.createElement(Ua,{steps:Tt(D),activeStepId:D.statutActuel.id}),o.a.createElement(Ya,{dossier:D,setError:O,reload:y,match:t})))),o.a.createElement(Ka,{value:k,index:1},D.piecesAJoindre.map((function(e){return o.a.createElement(xa,{key:e,pieceJointe:ma(D,e),setError:O,reload:y})}))),o.a.createElement(Ka,{value:k,index:2},(i&&c||l)&&o.a.createElement(aa,{onSaveMessage:function(e,t){return function(e){return P.apply(this,arguments)}(t)},dossierId:D.id}),o.a.createElement(Aa,{messages:D.messages}))),o.a.createElement(f.a,null)):o.a.createElement(Yt.a,null)}})),$a=[{id:"dossiers",path:"/dossiers",label:"Lister",icon:Ue.a,component:Ht,sidebar:!0,exact:!0},{id:"dossier",path:"/dossiers/:id",label:"Dossier",icon:Ue.a,component:_a,sidebar:!1,exact:!0},{id:"localiser",path:"/localiser",label:"Localiser",icon:Te.a,component:Le,sidebar:!0,beta:!0},{id:"moncompte",path:"/moncompte",label:"Mon compte",icon:r.a,component:C,sidebar:!0,auth:!0},{id:"deconnexion",label:"D\xe9connexion",icon:I.a,sidebar:!0,auth:!0},{id:"aide",path:"/aide",label:"Aide",icon:Ye.a,component:He.a,sidebar:!1},{id:"cgu",path:"/cgu",label:"CGU",icon:null,component:Be.a,sidebar:!1}];t.a=$a},133:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(21),o=a(69),c=a(74),s=a(62),l=a(117),u=a(38),d=a(455),m=a.n(d),p=a(159),f=a(461),g=a(45);t.a=Object(g.a)(l.o,Object(f.a)((function(e){return{grid:{display:"flex",flexDirection:"column",alignItems:"center"}}})))((function(e){var t=e.classes,a=e.error,n=e.history;return r.a.createElement(s.a,null,r.a.createElement(o.a,null),r.a.createElement(p.a,{container:!0,className:t.grid},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(i.a,{variant:"h3",marked:"center",align:"center"},"Erreur")),r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(i.a,{variant:"body1",marked:"center",align:"center"},a.message)),r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"contained",color:"secondary","aria-label":"Retour","data-cy":"back-btn",onClick:function(e){return n.push("/")}},r.a.createElement(m.a,null),"Retour"))),r.a.createElement(c.a,null))}))},21:function(e,t,a){"use strict";var n=a(119),r=a(0),i=a.n(r),o=a(8),c=a(331),s=a.n(c),l=a(80);function u(e){var t=e.children,a=e.classes,r=e.marked,o=e.variant,c=Object(n.a)(e,["children","classes","marked","variant"]);return i.a.createElement(l.a,Object.assign({variant:o},c),t,r?i.a.createElement("span",{className:a["marked".concat(s()(o)+s()(r))]}):null)}u.defaultProps={marked:!1},t.a=Object(o.a)((function(e){return{markedH2Center:{height:4,width:73,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH3Center:{height:4,width:55,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH4Center:{height:4,width:55,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH6Left:{height:2,width:28,display:"block",marginTop:e.spacing(.5),background:"currentColor"}}}))(u)},241:function(e,t,a){"use strict";var n=a(417),r=a.n(n),i=a(209),o=a.n(i),c=a(23),s=a(0),l=a.n(s),u=a(74),d=a(97),m=a(98),p=a(101),f=a(99),g=a(100),b=a(46),h=a(6),E=a(8),v=a(21),j=a(346),y=a(408),O=a.n(y),x=a(138),C=a(38),k=a(58),I=a(406),w=a.n(I),P=(a(528),a(407)),D=a.n(P),A=a(170),R=a(257),S=a(130),N=function(e){return Object(R.genericHashLink)(e,A.a)},M=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement("section",{className:e.root},l.a.createElement(j.a,{className:e.container},l.a.createElement("div",{className:e.backdrop}),l.a.createElement("div",{className:Object(h.a)(e.background,"hero")}),l.a.createElement(D.a,null,l.a.createElement("img",{src:w.a,style:{display:"none"},alt:"hero"})),l.a.createElement("div",{className:e.title},l.a.createElement(x.a,null,l.a.createElement(v.a,{color:"inherit",align:"center",variant:"h3",marked:"center",className:e.description},Object(S.a)("REACT_APP_DESCRIPTION")),l.a.createElement(v.a,{color:"inherit",align:"center",variant:"h5"},Object(S.a)("REACT_APP_VISION")))),l.a.createElement("div",{className:e.aide},l.a.createElement(C.a,{color:"secondary",variant:"contained",size:"large",component:k.Link,to:"/aide"},"D\xe9couvrez comment")),l.a.createElement(x.a,null,l.a.createElement(N,{color:"secondary","aria-label":"arrowDown",component:k.Link,to:{pathname:"/",hash:"#connexion-btn"}},l.a.createElement(O.a,{className:e.arrowDown})))))}}]),t}(l.a.Component),q=Object(E.a)((function(e){return{root:Object(b.a)({flexGrow:1,color:e.palette.primary,position:"relative",display:"flex",alignItems:"center"},e.breakpoints.up("sm"),{height:"100vh",minHeight:500,maxHeight:1300}),container:{marginTop:e.spacing(3),marginBottom:e.spacing(14),display:"flex",flexDirection:"column",alignItems:"center"},backdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.3,zIndex:-1},background:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",zIndex:-2},arrowDown:{fontSize:48,scrollBehaviour:"smooth"},button:{minWidth:200,bottom:e.spacing(4)},more:{marginTop:e.spacing(2)},aide:{marginBottom:e.spacing(4)},title:{marginBottom:e.spacing(10)},description:{padding:e.spacing(2),margin:e.spacing(2)}}}))(M),z=a(159),L=a(409),F=a.n(L),T=a(410),G=a.n(T),U=a(411),B=a.n(U);var H=Object(E.a)((function(e){return{root:{display:"flex",overflow:"hidden"},container:{marginTop:e.spacing(5),marginBottom:e.spacing(10),display:"flex",position:"relative"},item:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0,5)},image:{fontSize:64},title:{marginTop:e.spacing(5),marginBottom:e.spacing(5)},curvyLines:{pointerEvents:"none",position:"absolute",top:-180}}}))((function(e){var t=e.classes;return l.a.createElement("section",{className:t.root},l.a.createElement(j.a,{className:t.container},l.a.createElement(z.a,{container:!0,spacing:1},l.a.createElement(z.a,{item:!0,xs:12,md:12},l.a.createElement("div",{className:t.item},l.a.createElement(v.a,{variant:"h4",marked:"center",className:t.title,component:"h2"},"Les objectifs vis\xe9s"))),l.a.createElement(z.a,{item:!0,xs:12,md:4},l.a.createElement("div",{className:t.item},l.a.createElement(F.a,{className:t.image}),l.a.createElement(v.a,{variant:"h6",className:t.title},"Plus \xe9conomique"),l.a.createElement(v.a,{variant:"h5"},"En finir avec les impressions papier en plusieurs exemplaires et les courriers recommand\xe9s."))),l.a.createElement(z.a,{item:!0,xs:12,md:4},l.a.createElement("div",{className:t.item},l.a.createElement(G.a,{className:t.image}),l.a.createElement(v.a,{variant:"h6",className:t.title},"Plus rapide"),l.a.createElement(v.a,{variant:"h5"},"En finir avec les d\xe9lais de transmission par voie postale et les temps de d\xe9placements en mairie."))),l.a.createElement(z.a,{item:!0,xs:12,md:4},l.a.createElement("div",{className:t.item},l.a.createElement(B.a,{className:t.image}),l.a.createElement(v.a,{variant:"h6",className:t.title},"Plus clair"),l.a.createElement(v.a,{variant:"h5"},"Suivre l'\xe9tat d'avancement de sa demande et \xe9changer directement avec les instructeurs."))))))})),W=a(412),Y=a.n(W),V=a(157),Z=a.n(V),Q=a(413),J=a.n(Q),X=a(654),K=a(655),_=a(217),$=a(414),ee=a.n($),te=a(259),ae=function(e){return Object(R.genericHashLink)(e,A.a)};var ne=Object(E.a)((function(e){return{root:{display:"flex",overflow:"hidden"},container:{marginTop:e.spacing(10),marginBottom:e.spacing(15),position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},item:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0,5)},title:{marginBottom:e.spacing(14)},number:{fontSize:24,fontFamily:e.typography.fontFamily,color:e.palette.secondary.main,fontWeight:e.typography.fontWeightMedium},icon:{fontSize:64,margin:e.spacing(4)},button:{marginTop:e.spacing(8)},remonter:{backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.main},margin:e.spacing(1),position:"fixed",bottom:e.spacing(2),right:e.spacing(3)}}}))((function(e){var t=e.classes,a=e.showRemonter;return l.a.createElement("section",{className:t.root},l.a.createElement(j.a,{className:t.container},l.a.createElement(v.a,{variant:"h4",marked:"center",className:t.title,component:"h2"},"Comment cela se ferait ?"),l.a.createElement("div",null,l.a.createElement(z.a,{container:!0,spacing:5},l.a.createElement(z.a,{item:!0,xs:12,md:4},l.a.createElement("div",{className:t.item},l.a.createElement("div",{className:t.number},"1."),l.a.createElement(Y.a,{alt:"edit",className:t.icon}),l.a.createElement(v.a,{variant:"h5",align:"center"},"Pr\xe9parer et d\xe9poser sa demande sur "),l.a.createElement(X.a,{color:"inherit",href:"https://www.service-public.fr/particuliers/vosdroits/R52221"},"service-public.fr"))),l.a.createElement(z.a,{item:!0,xs:12,md:4},l.a.createElement("div",{className:t.item},l.a.createElement("div",{className:t.number},"2."),l.a.createElement(Z.a,{alt:"people",className:t.icon}),l.a.createElement(v.a,{variant:"h5",align:"center"},"Se connecter dans RIEAU."),l.a.createElement(v.a,{variant:"body2",align:"center"},"Seules les personnes habilit\xe9es peuvent acc\xe8der aux fonctionnalit\xe9s \xe0 tester. Les Dossiers ne sont pas encore possible sur cette version."))),l.a.createElement(z.a,{item:!0,xs:12,md:4},l.a.createElement("div",{className:t.item},l.a.createElement("div",{className:t.number},"3."),l.a.createElement(J.a,{alt:"people",className:t.icon}),l.a.createElement(v.a,{variant:"h5",align:"center"},"Suivre l'avancement de l'instruction de sa demande dans RIEAU"))))),l.a.createElement(te.a,{appbar:!1,color:"secondary",size:"large"}),l.a.createElement(_.a,{in:a},l.a.createElement(K.a,{"aria-label":"remonter",className:t.remonter},l.a.createElement(ae,{component:k.Link,to:{pathname:"/",hash:"#app-bar"}},l.a.createElement(ee.a,{color:"primary"}))))))})),re=a(69),ie=a(62);var oe=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1];return l.a.createElement(ie.a,null,l.a.createElement(re.a,null),l.a.createElement("div",{onWheel:function(e){e.deltaY>0?n(!0):n(!1)}},l.a.createElement(q,null),l.a.createElement(H,null),l.a.createElement(ne,{showRemonter:a})),l.a.createElement(u.a,null))},ce=a(262),se=a(265),le=[{id:"accueil",path:"/",label:"Accueil",icon:r.a,component:oe,sidebar:!0},{id:"aide",path:"/aide",label:"Aide",icon:o.a,component:se.a,sidebar:!1},{id:"cgu",path:"/cgu",label:"CGU",icon:null,component:ce.a,sidebar:!1}];t.a=le},259:function(e,t,a){"use strict";var n=a(23),r=a(0),i=a.n(r),o=a(40),c=a(38),s=a(103),l=a(334),u=a(462),d=a(260);function m(e){var t=e.color,a=e.appbar,r=e.size||"small",m=a?"appbar-":"",p=Object(s.b)().login,f=i.a.useState(!1),g=Object(n.a)(f,2),b=g[0],h=g[1],E=i.a.useState(),v=Object(n.a)(E,2),j=v[0],y=v[1];return i.a.createElement(i.a.Fragment,null,o.b?i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{id:m+"connexion-btn","aria-controls":m+"connexion-btn-menu",color:t,size:r,"aria-haspopup":"true",onClick:function(e){h(!0),y(e.currentTarget)},variant:"contained","data-cy":m+"connexion-btn"},"Connexion"),i.a.createElement(l.a,{id:m+"connexion-btn-menu",anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:function(){h(!1),y(null)}},i.a.createElement(u.a,null,i.a.createElement(d.a,{appbar:a})))):i.a.createElement(c.a,{id:m+"connexion-btn",size:r,onClick:p,variant:"contained","data-cy":m+"connexion-btn",color:t},"Connexion"))}m.defaultProps={color:"primary",appbar:!0,size:"small"},t.a=m},260:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(103),o=a(216),c=a(347),s=a(157),l=a.n(s);t.a=function(e){var t=e.appbar,a=Object(i.b)().login,n="".concat(t?"appbar":"hamburger","-menu-item-btn-connexion");return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{button:!0,onClick:function(e){return a("jean.martin")},"data-cy":"".concat(n,"-deposant")},r.a.createElement(c.a,null,r.a.createElement(l.a,null)),"Connexion D\xe9posant"),r.a.createElement(o.a,{button:!0,onClick:function(e){return a("jacques.dupont")},"data-cy":"".concat(n,"-instructeur")},r.a.createElement(c.a,null,r.a.createElement(l.a,null)),"Connexion Instructeur"),r.a.createElement(o.a,{button:!0,onClick:function(e){return a("madame.le-maire")},"data-cy":"".concat(n,"-mairie")},r.a.createElement(c.a,null,r.a.createElement(l.a,null)),"Connexion Mairie"))}},262:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(346),o=a(470),c=a(62),s=a(21),l=a(69),u=a(74),d=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,607))}));t.a=function(){return r.a.createElement(c.a,null,r.a.createElement(l.a,null),r.a.createElement(i.a,null,r.a.createElement(o.a,{mt:7,mb:12},r.a.createElement(s.a,{variant:"h3",gutterBottom:!0,marked:"center",align:"center"},"CGU"),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Chargement en cours...")},r.a.createElement(d,null)))),r.a.createElement(u.a,null))}},265:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(346),o=a(470),c=a(21),s=a(69),l=a(74),u=a(62),d=Object(n.lazy)((function(){return a.e(5).then(a.bind(null,608))}));t.a=function(){return r.a.createElement(u.a,null,r.a.createElement(s.a,null),r.a.createElement(i.a,null,r.a.createElement(o.a,{mt:7,mb:12},r.a.createElement(c.a,{variant:"h3",gutterBottom:!0,marked:"center",align:"center"},"Aide"),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Chargement en cours...")},r.a.createElement(d,null)))),r.a.createElement(l.a,null))}},267:function(e,t,a){"use strict";var n=a(23),r=a(119),i=a(0),o=a.n(i),c=a(6),s=a(420),l=a.n(s),u=a(422),d=a.n(u),m=a(423),p=a.n(m),f=a(154),g=a.n(f),b=a(170),h=a(590),E=a(464),v=a(421),j=a.n(v),y=a(8),O={success:l.a,warning:j.a,error:d.a,info:p.a},x=function(e){return{icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)},success:{backgroundColor:e.palette.success},root:{backgroundColor:e.palette.error},info:{backgroundColor:e.palette.info},warning:{backgroundColor:e.palette.warning}}};function C(e){var t=e.className,a=e.message,n=e.onClose,i=e.variant,s=Object(r.a)(e,["className","message","onClose","variant"]),l=O[i];return o.a.createElement(E.a,Object.assign({className:Object(c.a)(x[i],t),"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:x.message},o.a.createElement(l,{className:Object(c.a)(x.icon,x.iconVariant)}),a),action:[o.a.createElement(b.a,{key:"close","aria-label":"Fermer",color:"inherit",onClick:n},o.a.createElement(g.a,{className:x.icon}))]},s))}t.a=Object(y.a)(x)((function(e){var t=Object(i.useState)(!0),a=Object(n.a)(t,2),r=a[0],c=a[1],s=e.variant,l=e.message,u=e.onClose;function d(e,t){"clickaway"!==t&&(u&&u(),c(!1))}return o.a.createElement(h.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,className:x.root,autoHideDuration:3e4,onClose:d},o.a.createElement(C,{className:x.margin,onClose:d,variant:s,message:l}))}))},339:function(e,t){},352:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(21),o=a(69),c=a(74),s=a(62);t.a=function(){return r.a.createElement(s.a,null,r.a.createElement(o.a,null),r.a.createElement(i.a,{variant:"h3",marked:"center",align:"center"},"404 | Page non trouv\xe9e"),r.a.createElement(c.a,null))}},38:function(e,t,a){"use strict";var n=a(8),r=a(315);t.a=Object(n.a)((function(e){return{root:{fontWeight:e.typography.fontWeightMedium,fontFamily:e.typography.fontFamilySecondary,fontSize:e.typography.pxToRem(12),boxShadow:"none","&:hover, &:active, &:focus":{boxShadow:"none"}},sizeSmall:{padding:e.spacing(1,3),fontSize:e.typography.pxToRem(11)},sizeLarge:{padding:e.spacing(2,5),fontSize:e.typography.pxToRem(14)}}}))(r.a)},40:function(e,t,a){"use strict";a.d(t,"b",(function(){return r}));var n=a(130),r=[!0,"true",1,"1"].includes(Object(n.a)("REACT_APP_API_MOCK"));t.a=r?a.e(7).then(a.bind(null,609)):Promise.all([a.e(3),a.e(6)]).then(a.bind(null,610))},405:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAABHCAYAAADbahNjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3OTBGMTMyNkI4ODExRTZBMUFBQjM4NEYyQzM4MkZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3OTBGMTMzNkI4ODExRTZBMUFBQjM4NEYyQzM4MkZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTc5MEYxMzA2Qjg4MTFFNkExQUFCMzg0RjJDMzgyRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTc5MEYxMzE2Qjg4MTFFNkExQUFCMzg0RjJDMzgyRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7HDclIAAATeElEQVR42uxdCViU1fr/zQzMDMiwyyKIGyiiCUgpJipCWnrdcM1upd3Ssmy7/b1a+qiVa+aaK7lk2q0IrdxQct8QFVE2EUUU2XeQZfb5v+cMoLR6hRG593ufh2dmvpnvfOe8v3f9fWcGkbuzW7ZILFZIzMyg1+kgSMsRkUjEH3VaLcwIxDb7Du5HG1cXaLUCkC0KSLGIoYlnQ58lIEWiuz5duyrMzM0EzbRQkRJ2YvakqKhI0EYLFr1ebwRSkJYvApACkIIIQAoiACmIAKQApCACkI9cNBoddDr9Q59vUKta5LobTedEHr+GnREX0MrZptkWIZKIUFOpRFFRFV4d6Y9xg7rCQvJwNqpOuYLS+YsgtlTQuFKTz11bVQDrF19Fq9GjmhfIU8k5+HnjCcDbtZlQZG6oBbLL8PanYRg5sAss5OYPPZzMrxfM27ZHwdrVXDkiE0+f+b/Mo0fzA9naxgLo1JomY98sOBrI89SJ2Zg6fyTW/HPQw49joHCsVkIks4Q8KAjmBKS5ORmn2LRQGlQ5EDs6/G/nSJGZBOqsEsg6OmLV9JBGO7a+ogzFb09H7vPj6LUEYLlW1DJU1GJvebB7ceqyKsBcgpjNk2BhYd7IAcWQtG4DxZQp0OYXQHkqBmKdFXRlxfSW+WOvjxbrkVpyIX1mMT6fMQT+nk5NNq60hy+cIyLglnIKZp7u0GlKhPbDlN6ozStDpyAvfDDhSZNco/q7aFTFHoGZtLUApKmE94lKLZa+Hmy6IqSqEga9gZ6YCUCasumHgxUCvJxMdg3F1FcglTpCrykVgDSVSMxo2pUqXM82nZLF1naQPzMQOlQJQJpKzBlrU6nEictZTT52RUVF/dYXyyHBMPA4K7QfpslfvLyU4HJ6QdNVwVotB7Ci4i6SkpMh9vHGUBdHmBvZAr5bTQDSFGIlR/ytIhh0Bs61NkUlbG1tTT2jGGXl5fC2t4P42h1oeQSQEJj6x1odj19oJYVqqCpVVSihUmmNezd/TyylyMkqQ15xZdPkXQLLzMwMO3d8g9LSMjzd2hlaDxdw+FrAft/HBkgOFxUxqpwy6O8q0f/pTmjrbA1l4V2oymugqlFzgOvSlZQR49kl2Bad3HThiYAMCQnGwAH9+Wv5S3+HVUAQVNpcmp+ZAOSDhDU9eZ4qMRuBvTsgbsdr6GJjATl5QtfOzvD0doaFXAp9aRXUFE5VmUVQa7Sw9nTC7E/3Yc+ZG02jDAqr/v7+6NnTv/6Y86HdkLXxgFZd/FjnSbPmB5EafPIzTWoeRo0OwI8rx+OtpVG4mpaP1e8Phj0BqlFrUV2pITcUI508NiYpCzt2nkOFkwL+fTphx8FkDH6yPeSypl6OARKH1nDduxeZAb4Qa6w4US8A+TueqNHrobuSiefG9+Yg7j+XjvXrjmPhgjAkEJitbSwR0rMd2ve0qz9v2mh/hPXvDInegBEh3vyYWmOKPCaCLj8HNSePU+iSCVXrH4HISn7dtTxMmR6K8DnDcDY+Cy8vikJ05DTsPpGGjeuPUnUqo9Bmg6e9nPFSqA9eCTOGvbDgLvVj5VIedW2tMMk8i9+ZidKIneTt7jRpg7EVEXLkfX0beZP2VjG+XvsiB3HcvyLRd/hqeLraYlCv9tgwYzBi9r6LsGE9KKTpcWxHDP4xeh06jd+E8yl5SM0oxpZ9CXAfvBLRF26Zpl9VqyG2s4UxmOofWxCbzyOpsNFml2LCxECMGeSDbs+HIyWGChbHVuRdFcjOr4AbVayB3V2xe/EY6JRaRF+8hW2/pGDPiVT0nryF2g8KdZcyAC8XPEsFkkmiBlXRmpSrj33F2mweqapUovsT7gj0cYXD31YhJSUHcv92QEkVbG0tOYgNejy5GYYEeSLi4xFY8gq1Bio1cKsA6OSC2K9ehYuDlUnmqU5NJYPLpl5WLlB0v2vp5JHmFlIs+u48lHdVkHd0hPJqDto90RYJWyfz20dqrR4yqQRHYjNQUqlCfEYhDlIIjY9NB4qqEDrcD+HzhqOjqw1yCipQXqlGVxqn6UhAKsRS06C8mQqpxA2PO+HaLECaW0oJGPIovQhyKlKUmcUYMdQXP1PVGnXyOl5fHg2tTgd/b1d0p5y57XgqCuMojCrkaOPdBp/OG4V/hPnxsZIzirB8Ryw++HuvpqYnqPVwqH3GiDqJAORv1ER1g5T6MRFE/OvulpTvelOL8eLC/fhmyynAmkKZzoBc8lYV9YdiGSmRALezVyBu0yS4uCiQRoXS9qgkXKIWZe0Hg9HJ3RZxqbl4fcl+LH0rFKFPPVjeVF+MR/G8D4EaMaTdvSDz94d5j27QFRSh5N1ZEItbkeWZPdaFTpMAyddHoVCnN/xH9m6oDWHsUWdvidnhxwDyTF7EEJCOzrYoopx55GQqUK3mm6ycKIxGHEmFws4CIiqAfDzssXDaAFQpNRg743vs2nUeA8mz/TydHwzExARkPdUTmlp/qzwWxecmgZTmpebPzMxdYdBqTYtCExhJo4EsuVsD3C6G1uLhd2VzI6hWoY1fe0ykKrY3hdTFX59FUXIa0EqGUWEB+L+XA2FHPeVVuhYzHDcPO5Qr1RgxOxJ7f4wjIyjCqm1T8O64BwuxuvxcZPXwhZKey+qzYm1rRCDW/l4G1Josk2LIjEhfWtr8QE4e7IPu306FTGHx8ECyPTgqLcIGdYU15UFVjQbVVNlqR/rCyc4Kw0OMzb+aPK+4vBqZ1J6k3i5CHj3v1t4R/WYPR28/D/Tv5v7gTqDTwmH553wLJCSGP6p3TC56VSXkAYGNT1cebTwqYi/GKlxcXSBIy5Qn/QJa5laP06dO48b1GwKCpiAEtKYuCOpyMuWTg1EH+U+SPAph5Vh5efl/P5BlZWV4683puJ52nb/Oz8uHSqXCxvUbkXr16gPmSB3OnD6D4uI/39V96uQpLFu6DOMmjENJSclfeu2hg4egVCrJe683eC8rKwuX4y//5bw2rNuAtWvWIjX1WtMZYnHxrxxAQ+s63WhjaTSQebl5yMvJRSfPTnwysbGxkMmouryaisjI3fWeGnM2hiufAR59KBoXzl/A4oWLjU19cjJOHD+BVq0s68dlwJ6nz9wvLJxeT0tDdVU12rZ15z3o0SNHkXEzg79fWlKKPXv2oqamhv6UyMnJoXlc5dX9T7t/wtov1vLPHT92AtXV1fcqR7WGg56dld3gegzs5KRkKsAUuH3rFnZF7uJjM9lL12FGvH/vfqxasZofS0xM5GOwTVz76Ph1MqDrNGe2lvy8PBQUFKCwsAjpN9Ix+8PZ/Jz4+Cs4FxMDCwuL5gWSgeDr2wNSqRSZmZkcMLZYO1tbVN69iy9Wf4FjR45h5oyZ5KGp+Hr71zhNFpiQkEDAtULWnSysXrkGapWaFH6vegzqF4TBIQ2/Jse2Knbs2BFlpWVwc3fHkcOHseyzZTh37hw3ooMExpFfDuNqylXoyNLd3Nz4teSkpMuXL8PRwRGX4i7VA1onaWQczw15DuEbwxsct7WzhZNTa1RWVuL7777Hjq938DUeP3ach/dzMbG4ceM6fc6Gj/vyC5M4+CfJKJd/9jlfz8b1G7Bm1Rqa61FUlFcgPz8fSUlJUKvVyMnO4e/pmuDHHBsFJJvorh92ISc3F3fu3MEvh37hio67GAcrayuMGTsGCZcTsG7tOsz8aBZXbGVlFT5Z+Al/PmzEMOz5eQ8pPgWTXpkEufweOc0U9eOeH++V6ZQTd5GH9w7sDZ/u3bixRNK1fX39MPGFidi0YROupabCxdmZe+BZMig2v2zySpbplBTug0OC8dmSzzBmzGgEPBlQP3bHTh0R8X0EJr86uf4YW0tszDl8suBTPNXrKaSnZ+CnPT8h5kwMjh09Bm/vrignj9RS6zR06FAehoP690W/Af0JqGSs37Qetja28PLqjIGhIZDJZbhJkYMZYS5FsEmvTCav3odbGRmYMHECzM0b940viY3C5sMpU6fIrBT/+R0ElgsLiwphbWMDBYUfe3t7ODg6wMPDg3uqR7t2GDd+LGqUNQihxUhlUliSd3h19qIwW8r7NGbxbu5upIQgmEnutbWenp7o0KFDg2ux0KwhT7tLnp556zYHjoVjF2cXtKZxcsmgzCky+Pr78kdnJye+ocrLy4t7g0c7D5qnNfz9/fjzeu6XlNitWzfY2d3bhcD2tlpYWiI4eAC/tkQsQRfvLlApVSinyMC+GOvTzYeP79rGFUx/PjRG167e3Mj6PN0HNwmk9h3aQyaV0Tqd+J4gG1sbGtcCVlZWYC0fOzeoXz9a+8NzuSyStNg+8stNX8KblMbAlZpLMeRvQ/6n+8hGMzssgZdQtXnvZ0JFnDtk1qc3GLdGsNtWPP9xtkRUu3Mb9a/5oQfgavkPzdZ+ti/l0PQbN3gUYN7FCiHjde6nZQycmGfXZufWPdalhb+4mHGEus/dN2/jWPjN+PXj3r/GX7HLDV4bjBU7i0jMQ5uVosuiKi3t2jVYWlo+Uitk+ZSBqNFokJSYTArRtjhPYqDXUHuksFY0P5BsD+j9+0AFaeHMzu8J6xUTriQIWn4E0miPTKGebfu2r6DVaHkvOWPmDNg7GH+qZefOb/ACtQZ/Flrqcgv/FWCx+Hffu1/u/1wNNfUWtSH9/uN/dG6dsIZ8I7UrrGLOzslGSEgoRowc/qfr/PX8fi1VVVW8L/6zNZpSGtV+cJemxYWNGoUFCxdi4acLkX7zJoYMHYL33n0fgwY9Az8/X5SWlVL/tgy3b2ciI/1mfckc2CeQmupznE5j7cOqFat48x13IY6X9nPnzOUkAKtOM6iUX/H5CvQNCsK1a2nUoH/HAWG9pFfnzjQPEWbP+oiaczu4uLhwipC1IJvDN6OKelfG0LDSn7VJTLEjR43EG29Mgy/Nj7E8SYlJOLD/AI8grFlnLRTrjbdu2YY+NE82j+nTpvMWytPLk1N3jI1hhEbkD5HUD97CxQsXKc30RGFhIY4dO47ONC/Wusz5aA4kEvZfHLQ4FHWIr8XZxRkraT3ss4wBYvWPo+PD7Tliumx0aHVwcEBQnyCcPH2StwCsb2TfbIrad4BXtIw/tbRsheNHj/NK7s033kT8pXjOgDAPLioqRg41yKzP2r9vP2+2GYvCxjhy+Ahyso20GeNME64kktKr8N7b78LV1RXjJoznAC0iA2JfiYs6cJD3kqy3u0kGw8gBpuRrVIwpbKz5mExYvxgUGIS4ixdxMfYiRo8ZzdmdOwTKiRMnsCV8i5FyS0jEPz94nz+y8W+kp3MjZaC1JaAZ+J8tWcr73fE0F/a9ESYM0LDhYbzfZXQloxEZ08Qoy+/IAEeMHMGPM5qPjc0KHdZrNnuOdPdoi/nz5yMrOwfPPvcs91LWhDPru3X7NmxtbdGxYwdaeCIWLFqA4JCBkMuME2f9KwORKblt27YoKCpEVx8fXpZ36dKFexcTZq1PPNEdKckpKC0txdhxY7lHfLLgk3pGyL2tOwe4jq2xIfC8u3jj8OHDqLxbya9zL1TqILeQw5LCIeOD+/Xvj4iI72lecmzZbgTy7JkY2NnYYd0Xa7kXz5o1E/PnzkdIcCiPBux/pTg4OGL4iOEcmJ4BPWsJ+zPQQoN/7/w3P8/b25t/gfad997BDTrvI4ocbO7de/RAXFwc93xGHDQrkEzh52PPY8uXW3GGQuTqlUYC+TYBOOvDWejduxeyCeBEst6XJ0/Ca1NfgyUpMJMmz3YGJCclcctlwvjSeXPnIjLiB05Is+PV1TWchGbXKKVjLBQWkxcvWbTEqOyzMaQEIwPErsPCFvNeRtozRadR2Jo5axZnc67V3sVgc46Li0d/Am/6O29xD449FwsnRyceARixz2jGQooo23dsx6mTZzgzxPjheR/P4xTfBzP+iUGDn+EM1qaNm/i47Lxvv/mWG8nGjRt5qjHe8SjhHK2K5hV18ABWLl9JgN5AaXExJk6ciGHDh+HK5SvNW+ywxdnY2XAe88c9u/H2W+9wHrNXYC9E7opE3759ObXl6ubKlWEko+3w+rQ38P5778HO1g7T3pzG+1GWpzdv3ow5c+fwXMb+LlD4Y3mEkeR6gw5isvCI3RH4eM58/Ity79bwrYiKPsDHXbFyOSflWWhjIZ7Ree3aeXCPZEXHxBeeNxY7FCL9Anyp/03DgOABxjsnpSV46eUX0Zm8h90qY7Tj8xOfx8DQgfhqy3Ye8pmhZRPQy1Ys42OzKLJ46WLMnDGLk+aBgYGcZw0NDcHQYUMRvimcvPos2nVox7nl+EuXER0djc1bN8ORUpKCwvVFMhh2h4bxtY0SRtHl5uQaHlaqKiv5I1V1/JG8zJCfX8Cfl5SUGCjZ139WrdE0OPfmzZv3jVPFH6moaDAeeaWBihHj+Wq1oaampv4c8gbDhnUbDNOmTjOsWb3GUFFezv9I2fz9umuzedSNwaRujPvn1mBNVVUG8v7fzIN9nrz93npoPkyoYDP0CujdYDxN7VrLasepk6ysrAavqbgzkIEYGiMBvj0N/xV7dliBw7yrO+VQVnw9alGplBQ+SzkB3mK51sdBWIFTV+Q0h8ioQGouEB8JsyOIAKQgApACkIIIQAoiAClI0wHJKCpBWrCIRBxIhb2jvaCMFo2jGGZ6nS5nzKixCplUKmikZcKI4qIi/L8AAwBKhfSeHoDzvQAAAABJRU5ErkJggg=="},406:function(e,t,a){e.exports=a.p+"static/media/hero.3cd7c2c2.jpg"},45:function(e,t,a){"use strict";function n(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}),(function(e){return e}))}a.d(t,"a",(function(){return n}))},519:function(e,t,a){e.exports=a(584)},528:function(e,t,a){},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}));var n=a(0),r=a.n(n),i=a(103),o=Object(n.createContext)();function c(e){var t=Object(i.b)().data,a=t.user,n=t.isAuthenticated,c=t.isDeposant,s=t.isMairie,l=t.isInstructeur,u=t.isBeta;return r.a.createElement(o.Provider,Object.assign({value:{user:a,isAuthenticated:n,isDeposant:c,isMairie:s,isInstructeur:l,isBeta:u}},e))}function s(){var e=Object(n.useContext)(o);if(void 0===e)throw new Error("useUser must be used within a UserProvider");return e}},565:function(e,t){},582:function(e,t,a){"use strict";(function(e){var t=a(326),n=a(456),r=a(457);a.n(r)()(Object(n.config)({path:Object(t.resolve)(e,"../../.env")}))}).call(this,"/")},584:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(30),o=a.n(i),c=a(103),s=a(54);var l=function(e){var t=e.children;return r.a.createElement(c.a,null,r.a.createElement(s.a,null,t))},u=a(677),d=a(97),m=a(98),p=a(101),f=a(99),g=a(100),b=a(267);var h=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={hasError:!1,message:"Oops! Une erreur est survenue."},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(e,t){!function(e,t){window.console.log("error="+JSON.stringify(e)),window.console.log("info="+JSON.stringify(t))}(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(b.a,{variant:"error",message:this.state.message}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,message:JSON.stringify(e)}}}]),t}(r.a.Component),E=function(){return a.e(9).then(a.bind(null,720))},v=r.a.lazy(E),j=r.a.lazy((function(){return a.e(8).then(a.bind(null,721))}));var y=function(){var e=Object(s.b)().isAuthenticated;return r.a.useEffect((function(){E()}),[e]),r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(u.a,null)},r.a.createElement(h,null,e?r.a.createElement(j,null):r.a.createElement(v,null)))};a(582);o.a.render(r.a.createElement(l,null,r.a.createElement(y,null)),document.getElementById("root"))},62:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(327),o=a(212),c=a(463),s=a(318),l=a(415),u=a.n(l),d=a(416),m=a.n(d),p=a(588);t.a=function(e){var t=e.children,a=Object(c.a)("(prefers-color-scheme: dark)"),n=r.a.useMemo((function(){return Object(i.a)(Object(o.a)({palette:{type:a?"dark":"light",primary:{main:"#fff"},secondary:{main:"#4874b8"},info:{main:"#4874b8"},success:u.a[600],warning:m.a[700]},typography:{fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:700,fontFamilySecondary:"'Roboto Condensed', sans-serif"}}))}),[a]);return r.a.createElement(s.a,{theme:n},r.a.createElement(p.a,null),t)}},69:function(e,t,a){"use strict";var n=a(46),r=a(0),i=a.n(r),o=a(33),c=a(8),s=a(374),l=function(e){return{root:Object(n.a)({height:64},e.breakpoints.up("sm"),{height:70})}},u=Object(c.a)(l)(s.a),d=a(58),m=a(405),p=a.n(m),f=a(668),g=a(170),b=a(38),h=a(688),E=a(97),v=a(98),j=a(101),y=a(99),O=a(91),x=a(100),C=a(23),k=a(454),I=a.n(k),w=a(157),P=a.n(w),D=a(587),A=a(107),R=a(241),S=a(132),N=a(45),M=a(585),q=a(347),z=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.route;return i.a.createElement(i.a.Fragment,null,i.a.createElement(M.a,Object.assign({"data-cy":"menu-item-link-"+e.id,button:!0,component:d.Link,to:e.path},this.props),i.a.createElement(q.a,null,i.a.createElement(e.icon,null)),e.label))}}]),t}(i.a.Component),L=a(117),F=a(103),T=a(216),G=a(54),U=a(40),B=a(260);function H(e){var t=e.classes,a=e.toggleDrawer,n=i.a.useState(0),r=Object(C.a)(n,2),o=r[0],c=r[1],s=Object(F.b)(),l=s.login,u=s.logout,d=Object(G.b)(),m=d.isAuthenticated,p=d.isBeta,f=S.a.find((function(e){return"moncompte"===e.id})),g=S.a.find((function(e){return"deconnexion"===e.id}));function b(e,t){c(t)}return i.a.createElement("div",{className:t.toolbar,role:"presentation",onClick:function(e){return a(e,!1)},onKeyDown:function(e){return a(e,!1)}},m?i.a.createElement(D.a,null,S.a.filter((function(e){return e.sidebar&&("dossiers"===e.id||e.beta===p)&&!e.auth})).map((function(e){return i.a.createElement(z,{key:e.id,selected:e.id===o,route:e,onClick:function(t){return b(0,e.id)}})})),i.a.createElement(z,{route:f,onClick:function(e){return b(0,f.id)}}),i.a.createElement(T.a,{button:!0,onClick:u},i.a.createElement(q.a,null,i.a.createElement(g.icon,null)),g.label)):i.a.createElement(D.a,null,R.a.filter((function(e){return e.sidebar})).map((function(e){return i.a.createElement(z,{key:e.id,selected:e.id===o,route:e,onClick:function(t){return b(0,e.id)}})})),U.b?i.a.createElement(B.a,{appbar:!1}):i.a.createElement(T.a,{button:!0,onClick:l,"data-cy":"menu-item-btn-connexion"},i.a.createElement(q.a,null,i.a.createElement(P.a,null)),"Connexion")))}var W=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(j.a)(this,Object(y.a)(t).call(this,e))).toggleDrawer=function(e,t){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&a.setState({right:t})},a.state={right:!1},a.toggleDrawer=a.toggleDrawer.bind(Object(O.a)(a)),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.right;return i.a.createElement("nav",{className:t.drawer},i.a.createElement(h.a,{smUp:!0,implementation:"css"},i.a.createElement(g.a,{edge:"start",color:"primary",className:t.menuButton,onClick:function(t){return e.toggleDrawer(t,!0)},"data-cy":"hamburger-menu"},i.a.createElement(I.a,null)),i.a.createElement(A.a,{anchor:"right",open:a,onClose:function(t){return e.toggleDrawer(t,!1)}},i.a.createElement(H,{classes:t,toggleDrawer:this.toggleDrawer}))))}}]),t}(i.a.Component),Y=Object(N.a)(L.o,Object(c.a)((function(e){return{root:{display:"flex"},list:{width:240},drawer:Object(n.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),toolbar:e.mixins.toolbar,menuButton:{color:"primary",marginRight:e.spacing(2)}}})))(W),V=a(281),Z=a.n(V),Q=a(334),J=a(462);var X=Object(N.a)(L.o,Object(c.a)((function(e){return{root:{}}})))((function(e){var t=i.a.useState(!1),a=Object(C.a)(t,2),n=a[0],r=a[1],o=i.a.useState(),c=Object(C.a)(o,2),s=c[0],l=c[1],u=Object(F.b)().logout,d=Object(G.b)().isAuthenticated,m=S.a.find((function(e){return"moncompte"===e.id})),p=S.a.find((function(e){return"deconnexion"===e.id}));return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(g.a,{"aria-label":"Mon compte","aria-controls":"account-menu-appbar","aria-haspopup":"true",onClick:function(e){r(!0),l(e.currentTarget)},color:"inherit","data-cy":"account-menu-appbar"},i.a.createElement(Z.a,{fontSize:"large"})),i.a.createElement(Q.a,{id:"account-menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:n,onClose:function(){r(!1),l(null)}},d&&i.a.createElement(J.a,null,i.a.createElement(z,{"data-cy":"acount-menu-item-profil",route:m},"Profil"),i.a.createElement(T.a,{button:!0,onClick:u,"data-cy":"acount-menu-item-deconnexion"},i.a.createElement(q.a,null,i.a.createElement(p.icon,null)),p.label)))))})),K=a(21),_=a(159);var $=Object(N.a)(L.o,Object(c.a)((function(e){return{root:{}}})))((function(e){var t=i.a.useState(!1),a=Object(C.a)(t,2),n=a[0],r=a[1],o=i.a.useState(),c=Object(C.a)(o,2),s=c[0],l=c[1],u=Object(G.b)().isBeta;return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{"aria-label":"Dossiers","aria-controls":"dossiers-menu-appbar","aria-haspopup":"true",onClick:function(e){r(!0),l(e.currentTarget)},color:"inherit",variant:"text","data-cy":"appbar-dossiers-btn"},"Dossiers"),i.a.createElement(Q.a,{id:"dossiers-menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:n,onClose:function(){r(!1),l(null)}},i.a.createElement(J.a,null,S.a.filter((function(e){return e.sidebar&&("dossiers"===e.id||e.beta===u)&&!e.auth&&"accueil"!==e.id})).map((function(e){return i.a.createElement(z,{key:e.id,route:e},e.label)})))))})),ee=a(259),te=a(130);function ae(e){return"light"===e.palette.type}t.a=Object(c.a)((function(e){return{placeholder:l(e).root,titleWrapper:Object(n.a)({display:"flex",marginTop:e.spacing(2)},e.breakpoints.down("xs"),{marginTop:e.spacing(3),marginLeft:e.spacing(5)}),title:Object(n.a)({},e.breakpoints.down("sm"),{fontSize:24}),logoWrapper:{display:"flex"},logo:{width:"80%"},menu:{display:"flex",margin:e.spacing(2)}}}))((function(e){var t=e.classes,a=Object(G.b)().isAuthenticated,n=Object(o.a)();return i.a.createElement("div",{id:"app-bar"},i.a.createElement(f.a,{position:"fixed",elevation:0,color:ae(n)?"secondary":"inherit"},i.a.createElement(u,null,i.a.createElement(_.a,{container:!0,spacing:1,wrap:"nowrap"},i.a.createElement(_.a,{item:!0,container:!0,justify:"flex-start",className:t.logoWrapper},i.a.createElement(g.a,{color:"inherit",size:"small",component:d.Link,to:"/"},i.a.createElement("img",{src:p.a,className:t.logo,alt:"accueil"}))),i.a.createElement(_.a,{item:!0,container:!0,justify:"center",className:t.titleWrapper},i.a.createElement(K.a,{color:"inherit",align:"center",variant:"h3",className:t.title},Object(te.a)("REACT_APP_NAME"))),i.a.createElement(_.a,{item:!0,container:!0,justify:"flex-end",className:t.menu},i.a.createElement(h.a,{xsDown:!0},a?i.a.createElement(i.a.Fragment,null,i.a.createElement($,null),i.a.createElement(X,null)):i.a.createElement(i.a.Fragment,null,R.a.filter((function(e){return e.sidebar&&!e.auth})).map((function(e){return i.a.createElement(b.a,{key:e.id,color:"primary",size:"small",component:d.Link,variant:"text",to:e.path,"data-cy":"appbar-"+e.id+"-btn"},e.label)})),i.a.createElement(ee.a,{color:ae(n)?"primary":"secondary"}))),i.a.createElement(h.a,{smUp:!0},i.a.createElement(Y,null)))))),i.a.createElement("div",{className:t.placeholder}))}))},74:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(58),o=a(8),c=a(21),s=a(38),l=a(45),u=a(292),d=a(170),m=a(346),p=a(159);t.a=Object(l.a)(r.a.memo,Object(o.a)((function(e){return{footer:{display:"flex",padding:e.spacing(6)},container:{display:"flex"},icons:{display:"flex"},terms:{display:"flex"},icon:{fontSize:24,margin:e.spacing(1),"&:hover":{transform:"scale(1.2)"}},button:{margin:e.spacing(1)}}})))((function(e){var t=e.classes;return r.a.createElement("footer",{className:t.footer},r.a.createElement(m.a,{className:t.container},r.a.createElement(p.a,{container:!0,spacing:1},r.a.createElement(p.a,{item:!0,container:!0,direction:"column",justify:"flex-end",className:t.icons,xs:12},r.a.createElement(c.a,{variant:"h6",align:"center",gutterBottom:!0},r.a.createElement(d.a,{href:"https://github.com/MTES-MCT/declaration-travaux",className:t.icon},r.a.createElement(u.a,null)),r.a.createElement(d.a,{href:"https://twitter.com/Min_Territoires",className:t.icon},r.a.createElement(u.c,null)),r.a.createElement(d.a,{href:"http://www.cohesion-territoires.gouv.fr/",className:t.icon},r.a.createElement(u.b,null)))),r.a.createElement(p.a,{item:!0,container:!0,justify:"center",className:t.terms,xs:12},r.a.createElement(s.a,{component:i.Link,to:"/aide",className:t.button},"Aide"),r.a.createElement(s.a,{component:i.Link,to:"/cgu",className:t.button},"CGU")),r.a.createElement(p.a,{item:!0,container:!0,direction:"column",justify:"flex-end",xs:12},r.a.createElement(c.a,{variant:"caption",align:"center",color:"textSecondary",component:"p"},"\xa9 2019 Minist\xe8re de la Coh\xe9sion des territoires et des Relations avec les collectivit\xe9s territoriales")))))}))}},[[519,1,2]]]);
//# sourceMappingURL=main.ad2082e6.chunk.js.map